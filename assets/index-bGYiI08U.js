(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function uf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var il={exports:{}},zo={},sl={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function Vm(){if(wd)return le;wd=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function G(x,U,se){this.props=x,this.context=U,this.refs=k,this.updater=se||I}G.prototype.isReactComponent={},G.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=G.prototype;function z(x,U,se){this.props=x,this.context=U,this.refs=k,this.updater=se||I}var H=z.prototype=new L;H.constructor=z,M(H,G.prototype),H.isPureReactComponent=!0;var W=Array.isArray,Z=Object.prototype.hasOwnProperty,b={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function he(x,U,se){var ue,ce={},fe=null,Se=null;if(U!=null)for(ue in U.ref!==void 0&&(Se=U.ref),U.key!==void 0&&(fe=""+U.key),U)Z.call(U,ue)&&!oe.hasOwnProperty(ue)&&(ce[ue]=U[ue]);var ye=arguments.length-2;if(ye===1)ce.children=se;else if(1<ye){for(var Ne=Array(ye),ln=0;ln<ye;ln++)Ne[ln]=arguments[ln+2];ce.children=Ne}if(x&&x.defaultProps)for(ue in ye=x.defaultProps,ye)ce[ue]===void 0&&(ce[ue]=ye[ue]);return{$$typeof:t,type:x,key:fe,ref:Se,props:ce,_owner:b.current}}function j(x,U){return{$$typeof:t,type:x.type,key:U,ref:x.ref,props:x.props,_owner:x._owner}}function ie(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function Te(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return U[se]})}var ae=/\/+/g;function Ae(x,U){return typeof x=="object"&&x!==null&&x.key!=null?Te(""+x.key):U.toString(36)}function be(x,U,se,ue,ce){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(fe){case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case t:case e:Se=!0}}if(Se)return Se=x,ce=ce(Se),x=ue===""?"."+Ae(Se,0):ue,W(ce)?(se="",x!=null&&(se=x.replace(ae,"$&/")+"/"),be(ce,U,se,"",function(ln){return ln})):ce!=null&&(ie(ce)&&(ce=j(ce,se+(!ce.key||Se&&Se.key===ce.key?"":(""+ce.key).replace(ae,"$&/")+"/")+x)),U.push(ce)),1;if(Se=0,ue=ue===""?".":ue+":",W(x))for(var ye=0;ye<x.length;ye++){fe=x[ye];var Ne=ue+Ae(fe,ye);Se+=be(fe,U,se,Ne,ce)}else if(Ne=S(x),typeof Ne=="function")for(x=Ne.call(x),ye=0;!(fe=x.next()).done;)fe=fe.value,Ne=ue+Ae(fe,ye++),Se+=be(fe,U,se,Ne,ce);else if(fe==="object")throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Se}function sn(x,U,se){if(x==null)return x;var ue=[],ce=0;return be(x,ue,"","",function(fe){return U.call(se,fe,ce++)}),ue}function xe(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var Ee={current:null},J={transition:null},te={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:J,ReactCurrentOwner:b};function Y(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:sn,forEach:function(x,U,se){sn(x,function(){U.apply(this,arguments)},se)},count:function(x){var U=0;return sn(x,function(){U++}),U},toArray:function(x){return sn(x,function(U){return U})||[]},only:function(x){if(!ie(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},le.Component=G,le.Fragment=r,le.Profiler=u,le.PureComponent=z,le.StrictMode=i,le.Suspense=y,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,le.act=Y,le.cloneElement=function(x,U,se){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ue=M({},x.props),ce=x.key,fe=x.ref,Se=x._owner;if(U!=null){if(U.ref!==void 0&&(fe=U.ref,Se=b.current),U.key!==void 0&&(ce=""+U.key),x.type&&x.type.defaultProps)var ye=x.type.defaultProps;for(Ne in U)Z.call(U,Ne)&&!oe.hasOwnProperty(Ne)&&(ue[Ne]=U[Ne]===void 0&&ye!==void 0?ye[Ne]:U[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=se;else if(1<Ne){ye=Array(Ne);for(var ln=0;ln<Ne;ln++)ye[ln]=arguments[ln+2];ue.children=ye}return{$$typeof:t,type:x.type,key:ce,ref:fe,props:ue,_owner:Se}},le.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},le.createElement=he,le.createFactory=function(x){var U=he.bind(null,x);return U.type=x,U},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:m,render:x}},le.isValidElement=ie,le.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:xe}},le.memo=function(x,U){return{$$typeof:h,type:x,compare:U===void 0?null:U}},le.startTransition=function(x){var U=J.transition;J.transition={};try{x()}finally{J.transition=U}},le.unstable_act=Y,le.useCallback=function(x,U){return Ee.current.useCallback(x,U)},le.useContext=function(x){return Ee.current.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x){return Ee.current.useDeferredValue(x)},le.useEffect=function(x,U){return Ee.current.useEffect(x,U)},le.useId=function(){return Ee.current.useId()},le.useImperativeHandle=function(x,U,se){return Ee.current.useImperativeHandle(x,U,se)},le.useInsertionEffect=function(x,U){return Ee.current.useInsertionEffect(x,U)},le.useLayoutEffect=function(x,U){return Ee.current.useLayoutEffect(x,U)},le.useMemo=function(x,U){return Ee.current.useMemo(x,U)},le.useReducer=function(x,U,se){return Ee.current.useReducer(x,U,se)},le.useRef=function(x){return Ee.current.useRef(x)},le.useState=function(x){return Ee.current.useState(x)},le.useSyncExternalStore=function(x,U,se){return Ee.current.useSyncExternalStore(x,U,se)},le.useTransition=function(){return Ee.current.useTransition()},le.version="18.3.1",le}var Ad;function Tl(){return Ad||(Ad=1,sl.exports=Vm()),sl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd;function Gm(){if(xd)return zo;xd=1;var t=Tl(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,h){var v,E={},S=null,I=null;h!==void 0&&(S=""+h),y.key!==void 0&&(S=""+y.key),y.ref!==void 0&&(I=y.ref);for(v in y)i.call(y,v)&&!c.hasOwnProperty(v)&&(E[v]=y[v]);if(m&&m.defaultProps)for(v in y=m.defaultProps,y)E[v]===void 0&&(E[v]=y[v]);return{$$typeof:e,type:m,key:S,ref:I,props:E,_owner:u.current}}return zo.Fragment=r,zo.jsx=f,zo.jsxs=f,zo}var Nd;function qm(){return Nd||(Nd=1,il.exports=Gm()),il.exports}var A=qm(),ge=Tl();const Hm=uf(ge);var ei={},ll={exports:{}},rn={},ul={exports:{}},al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function zm(){return Rd||(Rd=1,(function(t){function e(J,te){var Y=J.length;J.push(te);e:for(;0<Y;){var x=Y-1>>>1,U=J[x];if(0<u(U,te))J[x]=te,J[Y]=U,Y=x;else break e}}function r(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var te=J[0],Y=J.pop();if(Y!==te){J[0]=Y;e:for(var x=0,U=J.length,se=U>>>1;x<se;){var ue=2*(x+1)-1,ce=J[ue],fe=ue+1,Se=J[fe];if(0>u(ce,Y))fe<U&&0>u(Se,ce)?(J[x]=Se,J[fe]=Y,x=fe):(J[x]=ce,J[ue]=Y,x=ue);else if(fe<U&&0>u(Se,Y))J[x]=Se,J[fe]=Y,x=fe;else break e}}return te}function u(J,te){var Y=J.sortIndex-te.sortIndex;return Y!==0?Y:J.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var y=[],h=[],v=1,E=null,S=3,I=!1,M=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(J){for(var te=r(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=J)i(h),te.sortIndex=te.expirationTime,e(y,te);else break;te=r(h)}}function W(J){if(k=!1,H(J),!M)if(r(y)!==null)M=!0,xe(Z);else{var te=r(h);te!==null&&Ee(W,te.startTime-J)}}function Z(J,te){M=!1,k&&(k=!1,L(he),he=-1),I=!0;var Y=S;try{for(H(te),E=r(y);E!==null&&(!(E.expirationTime>te)||J&&!Te());){var x=E.callback;if(typeof x=="function"){E.callback=null,S=E.priorityLevel;var U=x(E.expirationTime<=te);te=t.unstable_now(),typeof U=="function"?E.callback=U:E===r(y)&&i(y),H(te)}else i(y);E=r(y)}if(E!==null)var se=!0;else{var ue=r(h);ue!==null&&Ee(W,ue.startTime-te),se=!1}return se}finally{E=null,S=Y,I=!1}}var b=!1,oe=null,he=-1,j=5,ie=-1;function Te(){return!(t.unstable_now()-ie<j)}function ae(){if(oe!==null){var J=t.unstable_now();ie=J;var te=!0;try{te=oe(!0,J)}finally{te?Ae():(b=!1,oe=null)}}else b=!1}var Ae;if(typeof z=="function")Ae=function(){z(ae)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,sn=be.port2;be.port1.onmessage=ae,Ae=function(){sn.postMessage(null)}}else Ae=function(){G(ae,0)};function xe(J){oe=J,b||(b=!0,Ae())}function Ee(J,te){he=G(function(){J(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){M||I||(M=!0,xe(Z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return r(y)},t.unstable_next=function(J){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var Y=S;S=te;try{return J()}finally{S=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,te){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Y=S;S=J;try{return te()}finally{S=Y}},t.unstable_scheduleCallback=function(J,te,Y){var x=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?x+Y:x):Y=x,J){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,J={id:v++,callback:te,priorityLevel:J,startTime:Y,expirationTime:U,sortIndex:-1},Y>x?(J.sortIndex=Y,e(h,J),r(y)===null&&J===r(h)&&(k?(L(he),he=-1):k=!0,Ee(W,Y-x))):(J.sortIndex=U,e(y,J),M||I||(M=!0,xe(Z))),J},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(J){var te=S;return function(){var Y=S;S=te;try{return J.apply(this,arguments)}finally{S=Y}}}})(al)),al}var Pd;function Bm(){return Pd||(Pd=1,ul.exports=zm()),ul.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function Jm(){if(Md)return rn;Md=1;var t=Tl(),e=Bm();function r(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,u={};function c(n,o){f(n,o),f(n+"Capture",o)}function f(n,o){for(u[n]=o,n=0;n<o.length;n++)i.add(o[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(n){return y.call(E,n)?!0:y.call(v,n)?!1:h.test(n)?E[n]=!0:(v[n]=!0,!1)}function I(n,o,s,d){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M(n,o,s,d){if(o===null||typeof o>"u"||I(n,o,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(n,o,s,d,p,g,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=n,this.type=o,this.sanitizeURL=g,this.removeEmptyString=T}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){G[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];G[o]=new k(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){G[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){G[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){G[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){G[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){G[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){G[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){G[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(L,z);G[o]=new k(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(L,z);G[o]=new k(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(L,z);G[o]=new k(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){G[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),G.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){G[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function H(n,o,s,d){var p=G.hasOwnProperty(o)?G[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(M(o,s,p,d)&&(s=null),d||p===null?S(o)&&(s===null?n.removeAttribute(o):n.setAttribute(o,""+s)):p.mustUseProperty?n[p.propertyName]=s===null?p.type===3?!1:"":s:(o=p.attributeName,d=p.attributeNamespace,s===null?n.removeAttribute(o):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,d?n.setAttributeNS(d,o,s):n.setAttribute(o,s))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),b=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Te=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),sn=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),J=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,x;function U(n){if(x===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);x=o&&o[1]||""}return`
`+x+n}var se=!1;function ue(n,o){if(!n||se)return"";se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(P){var d=P}Reflect.construct(n,[],o)}else{try{o.call()}catch(P){d=P}n.call(o.prototype)}else{try{throw Error()}catch(P){d=P}n()}}catch(P){if(P&&d&&typeof P.stack=="string"){for(var p=P.stack.split(`
`),g=d.stack.split(`
`),T=p.length-1,_=g.length-1;1<=T&&0<=_&&p[T]!==g[_];)_--;for(;1<=T&&0<=_;T--,_--)if(p[T]!==g[_]){if(T!==1||_!==1)do if(T--,_--,0>_||p[T]!==g[_]){var C=`
`+p[T].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=T&&0<=_);break}}}finally{se=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?U(n):""}function ce(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function fe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case oe:return"Fragment";case b:return"Portal";case j:return"Profiler";case he:return"StrictMode";case Ae:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Te:return(n.displayName||"Context")+".Consumer";case ie:return(n._context.displayName||"Context")+".Provider";case ae:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sn:return o=n.displayName||null,o!==null?o:fe(n.type)||"Memo";case xe:o=n._payload,n=n._init;try{return fe(n(o))}catch{}}return null}function Se(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(o);case 8:return o===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ye(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ne(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ln(n){var o=Ne(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),d=""+n[o];if(!n.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,g=s.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){d=""+T,g.call(this,T)}}),Object.defineProperty(n,o,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Wo(n){n._valueTracker||(n._valueTracker=ln(n))}function Ml(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var s=o.getValue(),d="";return n&&(d=Ne(n)?n.checked?"true":"false":n.value),n=d,n!==s?(o.setValue(n),!0):!1}function $o(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fi(n,o){var s=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??n._wrapperState.initialChecked})}function kl(n,o){var s=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;s=ye(o.value!=null?o.value:s),n._wrapperState={initialChecked:d,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Dl(n,o){o=o.checked,o!=null&&H(n,"checked",o,!1)}function pi(n,o){Dl(n,o);var s=ye(o.value),d=o.type;if(s!=null)d==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+s):n.value!==""+s&&(n.value=""+s);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?mi(n,o.type,s):o.hasOwnProperty("defaultValue")&&mi(n,o.type,ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Ll(n,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,s||o===n.value||(n.value=o),n.defaultValue=o}s=n.name,s!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,s!==""&&(n.name=s)}function mi(n,o,s){(o!=="number"||$o(n.ownerDocument)!==n)&&(s==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+s&&(n.defaultValue=""+s))}var no=Array.isArray;function Ct(n,o,s,d){if(n=n.options,o){o={};for(var p=0;p<s.length;p++)o["$"+s[p]]=!0;for(s=0;s<n.length;s++)p=o.hasOwnProperty("$"+n[s].value),n[s].selected!==p&&(n[s].selected=p),p&&d&&(n[s].defaultSelected=!0)}else{for(s=""+ye(s),o=null,p=0;p<n.length;p++){if(n[p].value===s){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}o!==null||n[p].disabled||(o=n[p])}o!==null&&(o.selected=!0)}}function hi(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ul(n,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(r(92));if(no(s)){if(1<s.length)throw Error(r(93));s=s[0]}o=s}o==null&&(o=""),s=o}n._wrapperState={initialValue:ye(s)}}function Fl(n,o){var s=ye(o.value),d=ye(o.defaultValue);s!=null&&(s=""+s,s!==n.value&&(n.value=s),o.defaultValue==null&&n.defaultValue!==s&&(n.defaultValue=s)),d!=null&&(n.defaultValue=""+d)}function Vl(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Gl(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gi(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Gl(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Oo,ql=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,d,p){MSApp.execUnsafeLocalFunction(function(){return n(o,s,d,p)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Oo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function to(n,o){if(o){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=o;return}}n.textContent=o}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(n){zf.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),oo[o]=oo[n]})});function Hl(n,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||oo.hasOwnProperty(n)&&oo[n]?(""+o).trim():o+"px"}function zl(n,o){n=n.style;for(var s in o)if(o.hasOwnProperty(s)){var d=s.indexOf("--")===0,p=Hl(s,o[s],d);s==="float"&&(s="cssFloat"),d?n.setProperty(s,p):n[s]=p}}var Bf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yi(n,o){if(o){if(Bf[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function vi(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function Ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Si=null,It=null,wt=null;function Bl(n){if(n=Ao(n)){if(typeof Si!="function")throw Error(r(280));var o=n.stateNode;o&&(o=hr(o),Si(n.stateNode,n.type,o))}}function Jl(n){It?wt?wt.push(n):wt=[n]:It=n}function Wl(){if(It){var n=It,o=wt;if(wt=It=null,Bl(n),o)for(n=0;n<o.length;n++)Bl(o[n])}}function $l(n,o){return n(o)}function Ol(){}var _i=!1;function Yl(n,o,s){if(_i)return n(o,s);_i=!0;try{return $l(n,o,s)}finally{_i=!1,(It!==null||wt!==null)&&(Ol(),Wl())}}function ro(n,o){var s=n.stateNode;if(s===null)return null;var d=hr(s);if(d===null)return null;s=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,o,typeof s));return s}var Ci=!1;if(m)try{var io={};Object.defineProperty(io,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Ci=!1}function Jf(n,o,s,d,p,g,T,_,C){var P=Array.prototype.slice.call(arguments,3);try{o.apply(s,P)}catch(F){this.onError(F)}}var so=!1,Yo=null,Ko=!1,Ii=null,Wf={onError:function(n){so=!0,Yo=n}};function $f(n,o,s,d,p,g,T,_,C){so=!1,Yo=null,Jf.apply(Wf,arguments)}function Of(n,o,s,d,p,g,T,_,C){if($f.apply(this,arguments),so){if(so){var P=Yo;so=!1,Yo=null}else throw Error(r(198));Ko||(Ko=!0,Ii=P)}}function at(n){var o=n,s=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(s=o.return),n=o.return;while(n)}return o.tag===3?s:null}function Kl(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Ql(n){if(at(n)!==n)throw Error(r(188))}function Yf(n){var o=n.alternate;if(!o){if(o=at(n),o===null)throw Error(r(188));return o!==n?null:n}for(var s=n,d=o;;){var p=s.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===s)return Ql(p),n;if(g===d)return Ql(p),o;g=g.sibling}throw Error(r(188))}if(s.return!==d.return)s=p,d=g;else{for(var T=!1,_=p.child;_;){if(_===s){T=!0,s=p,d=g;break}if(_===d){T=!0,d=p,s=g;break}_=_.sibling}if(!T){for(_=g.child;_;){if(_===s){T=!0,s=g,d=p;break}if(_===d){T=!0,d=g,s=p;break}_=_.sibling}if(!T)throw Error(r(189))}}if(s.alternate!==d)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:o}function Xl(n){return n=Yf(n),n!==null?Zl(n):null}function Zl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Zl(n);if(o!==null)return o;n=n.sibling}return null}var bl=e.unstable_scheduleCallback,jl=e.unstable_cancelCallback,Kf=e.unstable_shouldYield,Qf=e.unstable_requestPaint,Le=e.unstable_now,Xf=e.unstable_getCurrentPriorityLevel,wi=e.unstable_ImmediatePriority,eu=e.unstable_UserBlockingPriority,Qo=e.unstable_NormalPriority,Zf=e.unstable_LowPriority,nu=e.unstable_IdlePriority,Xo=null,xn=null;function bf(n){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Xo,n,void 0,(n.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:np,jf=Math.log,ep=Math.LN2;function np(n){return n>>>=0,n===0?32:31-(jf(n)/ep|0)|0}var Zo=64,bo=4194304;function lo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function jo(n,o){var s=n.pendingLanes;if(s===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes,T=s&268435455;if(T!==0){var _=T&~p;_!==0?d=lo(_):(g&=T,g!==0&&(d=lo(g)))}else T=s&~p,T!==0?d=lo(T):g!==0&&(d=lo(g));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,g=o&-o,p>=g||p===16&&(g&4194240)!==0))return o;if((d&4)!==0&&(d|=s&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=d;0<o;)s=31-Tn(o),p=1<<s,d|=n[s],o&=~p;return d}function tp(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function op(n,o){for(var s=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes;0<g;){var T=31-Tn(g),_=1<<T,C=p[T];C===-1?((_&s)===0||(_&d)!==0)&&(p[T]=tp(_,o)):C<=o&&(n.expiredLanes|=_),g&=~_}}function Ai(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tu(){var n=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),n}function xi(n){for(var o=[],s=0;31>s;s++)o.push(n);return o}function uo(n,o,s){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Tn(o),n[o]=s}function rp(n,o){var s=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<s;){var p=31-Tn(s),g=1<<p;o[p]=0,d[p]=-1,n[p]=-1,s&=~g}}function Ni(n,o){var s=n.entangledLanes|=o;for(n=n.entanglements;s;){var d=31-Tn(s),p=1<<d;p&o|n[d]&o&&(n[d]|=o),s&=~p}}var ve=0;function ou(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ru,Ri,iu,su,lu,Pi=!1,er=[],Jn=null,Wn=null,$n=null,ao=new Map,co=new Map,On=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(n,o){switch(n){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ao.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(o.pointerId)}}function fo(n,o,s,d,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:o,domEventName:s,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},o!==null&&(o=Ao(o),o!==null&&Ri(o)),n):(n.eventSystemFlags|=d,o=n.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),n)}function sp(n,o,s,d,p){switch(o){case"focusin":return Jn=fo(Jn,n,o,s,d,p),!0;case"dragenter":return Wn=fo(Wn,n,o,s,d,p),!0;case"mouseover":return $n=fo($n,n,o,s,d,p),!0;case"pointerover":var g=p.pointerId;return ao.set(g,fo(ao.get(g)||null,n,o,s,d,p)),!0;case"gotpointercapture":return g=p.pointerId,co.set(g,fo(co.get(g)||null,n,o,s,d,p)),!0}return!1}function au(n){var o=dt(n.target);if(o!==null){var s=at(o);if(s!==null){if(o=s.tag,o===13){if(o=Kl(s),o!==null){n.blockedOn=o,lu(n.priority,function(){iu(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nr(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var s=ki(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(s===null){s=n.nativeEvent;var d=new s.constructor(s.type,s);Ti=d,s.target.dispatchEvent(d),Ti=null}else return o=Ao(s),o!==null&&Ri(o),n.blockedOn=s,!1;o.shift()}return!0}function du(n,o,s){nr(n)&&s.delete(o)}function lp(){Pi=!1,Jn!==null&&nr(Jn)&&(Jn=null),Wn!==null&&nr(Wn)&&(Wn=null),$n!==null&&nr($n)&&($n=null),ao.forEach(du),co.forEach(du)}function po(n,o){n.blockedOn===o&&(n.blockedOn=null,Pi||(Pi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lp)))}function mo(n){function o(p){return po(p,n)}if(0<er.length){po(er[0],n);for(var s=1;s<er.length;s++){var d=er[s];d.blockedOn===n&&(d.blockedOn=null)}}for(Jn!==null&&po(Jn,n),Wn!==null&&po(Wn,n),$n!==null&&po($n,n),ao.forEach(o),co.forEach(o),s=0;s<On.length;s++)d=On[s],d.blockedOn===n&&(d.blockedOn=null);for(;0<On.length&&(s=On[0],s.blockedOn===null);)au(s),s.blockedOn===null&&On.shift()}var At=W.ReactCurrentBatchConfig,tr=!0;function up(n,o,s,d){var p=ve,g=At.transition;At.transition=null;try{ve=1,Mi(n,o,s,d)}finally{ve=p,At.transition=g}}function ap(n,o,s,d){var p=ve,g=At.transition;At.transition=null;try{ve=4,Mi(n,o,s,d)}finally{ve=p,At.transition=g}}function Mi(n,o,s,d){if(tr){var p=ki(n,o,s,d);if(p===null)Qi(n,o,d,or,s),uu(n,d);else if(sp(p,n,o,s,d))d.stopPropagation();else if(uu(n,d),o&4&&-1<ip.indexOf(n)){for(;p!==null;){var g=Ao(p);if(g!==null&&ru(g),g=ki(n,o,s,d),g===null&&Qi(n,o,d,or,s),g===p)break;p=g}p!==null&&d.stopPropagation()}else Qi(n,o,d,null,s)}}var or=null;function ki(n,o,s,d){if(or=null,n=Ei(d),n=dt(n),n!==null)if(o=at(n),o===null)n=null;else if(s=o.tag,s===13){if(n=Kl(o),n!==null)return n;n=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return or=n,null}function cu(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xf()){case wi:return 1;case eu:return 4;case Qo:case Zf:return 16;case nu:return 536870912;default:return 16}default:return 16}}var Yn=null,Di=null,rr=null;function fu(){if(rr)return rr;var n,o=Di,s=o.length,d,p="value"in Yn?Yn.value:Yn.textContent,g=p.length;for(n=0;n<s&&o[n]===p[n];n++);var T=s-n;for(d=1;d<=T&&o[s-d]===p[g-d];d++);return rr=p.slice(n,1<d?1-d:void 0)}function ir(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function sr(){return!0}function pu(){return!1}function un(n){function o(s,d,p,g,T){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(s=n[_],this[_]=s?s(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:pu,this.isPropagationStopped=pu,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),o}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=un(xt),ho=Y({},xt,{view:0,detail:0}),dp=un(ho),Ui,Fi,go,lr=Y({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==go&&(go&&n.type==="mousemove"?(Ui=n.screenX-go.screenX,Fi=n.screenY-go.screenY):Fi=Ui=0,go=n),Ui)},movementY:function(n){return"movementY"in n?n.movementY:Fi}}),mu=un(lr),cp=Y({},lr,{dataTransfer:0}),fp=un(cp),pp=Y({},ho,{relatedTarget:0}),Vi=un(pp),mp=Y({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=un(mp),gp=Y({},xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yp=un(gp),vp=Y({},xt,{data:0}),hu=un(vp),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _p(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Sp[n])?!!o[n]:!1}function Gi(){return _p}var Cp=Y({},ho,{key:function(n){if(n.key){var o=Tp[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=ir(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ep[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(n){return n.type==="keypress"?ir(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ir(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ip=un(Cp),wp=Y({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=un(wp),Ap=Y({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),xp=un(Ap),Np=Y({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=un(Np),Pp=Y({},lr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=un(Pp),kp=[9,13,27,32],qi=m&&"CompositionEvent"in window,yo=null;m&&"documentMode"in document&&(yo=document.documentMode);var Dp=m&&"TextEvent"in window&&!yo,yu=m&&(!qi||yo&&8<yo&&11>=yo),vu=" ",Tu=!1;function Eu(n,o){switch(n){case"keyup":return kp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nt=!1;function Lp(n,o){switch(n){case"compositionend":return Su(o);case"keypress":return o.which!==32?null:(Tu=!0,vu);case"textInput":return n=o.data,n===vu&&Tu?null:n;default:return null}}function Up(n,o){if(Nt)return n==="compositionend"||!qi&&Eu(n,o)?(n=fu(),rr=Di=Yn=null,Nt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return yu&&o.locale!=="ko"?null:o.data;default:return null}}var Fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Fp[n.type]:o==="textarea"}function Cu(n,o,s,d){Jl(d),o=fr(o,"onChange"),0<o.length&&(s=new Li("onChange","change",null,s,d),n.push({event:s,listeners:o}))}var vo=null,To=null;function Vp(n){zu(n,0)}function ur(n){var o=Dt(n);if(Ml(o))return n}function Gp(n,o){if(n==="change")return o}var Iu=!1;if(m){var Hi;if(m){var zi="oninput"in document;if(!zi){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),zi=typeof wu.oninput=="function"}Hi=zi}else Hi=!1;Iu=Hi&&(!document.documentMode||9<document.documentMode)}function Au(){vo&&(vo.detachEvent("onpropertychange",xu),To=vo=null)}function xu(n){if(n.propertyName==="value"&&ur(To)){var o=[];Cu(o,To,n,Ei(n)),Yl(Vp,o)}}function qp(n,o,s){n==="focusin"?(Au(),vo=o,To=s,vo.attachEvent("onpropertychange",xu)):n==="focusout"&&Au()}function Hp(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ur(To)}function zp(n,o){if(n==="click")return ur(o)}function Bp(n,o){if(n==="input"||n==="change")return ur(o)}function Jp(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var En=typeof Object.is=="function"?Object.is:Jp;function Eo(n,o){if(En(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var s=Object.keys(n),d=Object.keys(o);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!y.call(o,p)||!En(n[p],o[p]))return!1}return!0}function Nu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ru(n,o){var s=Nu(n);n=0;for(var d;s;){if(s.nodeType===3){if(d=n+s.textContent.length,n<=o&&d>=o)return{node:s,offset:o-n};n=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Nu(s)}}function Pu(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Pu(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Mu(){for(var n=window,o=$o();o instanceof n.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)n=o.contentWindow;else break;o=$o(n.document)}return o}function Bi(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function Wp(n){var o=Mu(),s=n.focusedElem,d=n.selectionRange;if(o!==s&&s&&s.ownerDocument&&Pu(s.ownerDocument.documentElement,s)){if(d!==null&&Bi(s)){if(o=d.start,n=d.end,n===void 0&&(n=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(n,s.value.length);else if(n=(o=s.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var p=s.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!n.extend&&g>d&&(p=d,d=g,g=p),p=Ru(s,g);var T=Ru(s,d);p&&T&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),n.removeAllRanges(),g>d?(n.addRange(o),n.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),n.addRange(o)))}}for(o=[],n=s;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)n=o[s],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $p=m&&"documentMode"in document&&11>=document.documentMode,Rt=null,Ji=null,So=null,Wi=!1;function ku(n,o,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wi||Rt==null||Rt!==$o(d)||(d=Rt,"selectionStart"in d&&Bi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),So&&Eo(So,d)||(So=d,d=fr(Ji,"onSelect"),0<d.length&&(o=new Li("onSelect","select",null,o,s),n.push({event:o,listeners:d}),o.target=Rt)))}function ar(n,o){var s={};return s[n.toLowerCase()]=o.toLowerCase(),s["Webkit"+n]="webkit"+o,s["Moz"+n]="moz"+o,s}var Pt={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionend:ar("Transition","TransitionEnd")},$i={},Du={};m&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);function dr(n){if($i[n])return $i[n];if(!Pt[n])return n;var o=Pt[n],s;for(s in o)if(o.hasOwnProperty(s)&&s in Du)return $i[n]=o[s];return n}var Lu=dr("animationend"),Uu=dr("animationiteration"),Fu=dr("animationstart"),Vu=dr("transitionend"),Gu=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(n,o){Gu.set(n,o),c(o,[n])}for(var Oi=0;Oi<qu.length;Oi++){var Yi=qu[Oi],Op=Yi.toLowerCase(),Yp=Yi[0].toUpperCase()+Yi.slice(1);Kn(Op,"on"+Yp)}Kn(Lu,"onAnimationEnd"),Kn(Uu,"onAnimationIteration"),Kn(Fu,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Vu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Hu(n,o,s){var d=n.type||"unknown-event";n.currentTarget=s,Of(d,o,void 0,n),n.currentTarget=null}function zu(n,o){o=(o&4)!==0;for(var s=0;s<n.length;s++){var d=n[s],p=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var T=d.length-1;0<=T;T--){var _=d[T],C=_.instance,P=_.currentTarget;if(_=_.listener,C!==g&&p.isPropagationStopped())break e;Hu(p,_,P),g=C}else for(T=0;T<d.length;T++){if(_=d[T],C=_.instance,P=_.currentTarget,_=_.listener,C!==g&&p.isPropagationStopped())break e;Hu(p,_,P),g=C}}}if(Ko)throw n=Ii,Ko=!1,Ii=null,n}function Ce(n,o){var s=o[ns];s===void 0&&(s=o[ns]=new Set);var d=n+"__bubble";s.has(d)||(Bu(o,n,2,!1),s.add(d))}function Ki(n,o,s){var d=0;o&&(d|=4),Bu(s,n,d,o)}var cr="_reactListening"+Math.random().toString(36).slice(2);function Co(n){if(!n[cr]){n[cr]=!0,i.forEach(function(s){s!=="selectionchange"&&(Kp.has(s)||Ki(s,!1,n),Ki(s,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[cr]||(o[cr]=!0,Ki("selectionchange",!1,o))}}function Bu(n,o,s,d){switch(cu(o)){case 1:var p=up;break;case 4:p=ap;break;default:p=Mi}s=p.bind(null,o,s,n),p=void 0,!Ci||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(o,s,{capture:!0,passive:p}):n.addEventListener(o,s,!0):p!==void 0?n.addEventListener(o,s,{passive:p}):n.addEventListener(o,s,!1)}function Qi(n,o,s,d,p){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var _=d.stateNode.containerInfo;if(_===p||_.nodeType===8&&_.parentNode===p)break;if(T===4)for(T=d.return;T!==null;){var C=T.tag;if((C===3||C===4)&&(C=T.stateNode.containerInfo,C===p||C.nodeType===8&&C.parentNode===p))return;T=T.return}for(;_!==null;){if(T=dt(_),T===null)return;if(C=T.tag,C===5||C===6){d=g=T;continue e}_=_.parentNode}}d=d.return}Yl(function(){var P=g,F=Ei(s),V=[];e:{var D=Gu.get(n);if(D!==void 0){var $=Li,K=n;switch(n){case"keypress":if(ir(s)===0)break e;case"keydown":case"keyup":$=Ip;break;case"focusin":K="focus",$=Vi;break;case"focusout":K="blur",$=Vi;break;case"beforeblur":case"afterblur":$=Vi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=xp;break;case Lu:case Uu:case Fu:$=hp;break;case Vu:$=Rp;break;case"scroll":$=dp;break;case"wheel":$=Mp;break;case"copy":case"cut":case"paste":$=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=gu}var Q=(o&4)!==0,Ue=!Q&&n==="scroll",N=Q?D!==null?D+"Capture":null:D;Q=[];for(var w=P,R;w!==null;){R=w;var q=R.stateNode;if(R.tag===5&&q!==null&&(R=q,N!==null&&(q=ro(w,N),q!=null&&Q.push(Io(w,q,R)))),Ue)break;w=w.return}0<Q.length&&(D=new $(D,K,null,s,F),V.push({event:D,listeners:Q}))}}if((o&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",D&&s!==Ti&&(K=s.relatedTarget||s.fromElement)&&(dt(K)||K[kn]))break e;if(($||D)&&(D=F.window===F?F:(D=F.ownerDocument)?D.defaultView||D.parentWindow:window,$?(K=s.relatedTarget||s.toElement,$=P,K=K?dt(K):null,K!==null&&(Ue=at(K),K!==Ue||K.tag!==5&&K.tag!==6)&&(K=null)):($=null,K=P),$!==K)){if(Q=mu,q="onMouseLeave",N="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(Q=gu,q="onPointerLeave",N="onPointerEnter",w="pointer"),Ue=$==null?D:Dt($),R=K==null?D:Dt(K),D=new Q(q,w+"leave",$,s,F),D.target=Ue,D.relatedTarget=R,q=null,dt(F)===P&&(Q=new Q(N,w+"enter",K,s,F),Q.target=R,Q.relatedTarget=Ue,q=Q),Ue=q,$&&K)n:{for(Q=$,N=K,w=0,R=Q;R;R=Mt(R))w++;for(R=0,q=N;q;q=Mt(q))R++;for(;0<w-R;)Q=Mt(Q),w--;for(;0<R-w;)N=Mt(N),R--;for(;w--;){if(Q===N||N!==null&&Q===N.alternate)break n;Q=Mt(Q),N=Mt(N)}Q=null}else Q=null;$!==null&&Ju(V,D,$,Q,!1),K!==null&&Ue!==null&&Ju(V,Ue,K,Q,!0)}}e:{if(D=P?Dt(P):window,$=D.nodeName&&D.nodeName.toLowerCase(),$==="select"||$==="input"&&D.type==="file")var X=Gp;else if(_u(D))if(Iu)X=Bp;else{X=Hp;var ee=qp}else($=D.nodeName)&&$.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(X=zp);if(X&&(X=X(n,P))){Cu(V,X,s,F);break e}ee&&ee(n,D,P),n==="focusout"&&(ee=D._wrapperState)&&ee.controlled&&D.type==="number"&&mi(D,"number",D.value)}switch(ee=P?Dt(P):window,n){case"focusin":(_u(ee)||ee.contentEditable==="true")&&(Rt=ee,Ji=P,So=null);break;case"focusout":So=Ji=Rt=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,ku(V,s,F);break;case"selectionchange":if($p)break;case"keydown":case"keyup":ku(V,s,F)}var ne;if(qi)e:{switch(n){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Nt?Eu(n,s)&&(re="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(re="onCompositionStart");re&&(yu&&s.locale!=="ko"&&(Nt||re!=="onCompositionStart"?re==="onCompositionEnd"&&Nt&&(ne=fu()):(Yn=F,Di="value"in Yn?Yn.value:Yn.textContent,Nt=!0)),ee=fr(P,re),0<ee.length&&(re=new hu(re,n,null,s,F),V.push({event:re,listeners:ee}),ne?re.data=ne:(ne=Su(s),ne!==null&&(re.data=ne)))),(ne=Dp?Lp(n,s):Up(n,s))&&(P=fr(P,"onBeforeInput"),0<P.length&&(F=new hu("onBeforeInput","beforeinput",null,s,F),V.push({event:F,listeners:P}),F.data=ne))}zu(V,o)})}function Io(n,o,s){return{instance:n,listener:o,currentTarget:s}}function fr(n,o){for(var s=o+"Capture",d=[];n!==null;){var p=n,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=ro(n,s),g!=null&&d.unshift(Io(n,g,p)),g=ro(n,o),g!=null&&d.push(Io(n,g,p))),n=n.return}return d}function Mt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ju(n,o,s,d,p){for(var g=o._reactName,T=[];s!==null&&s!==d;){var _=s,C=_.alternate,P=_.stateNode;if(C!==null&&C===d)break;_.tag===5&&P!==null&&(_=P,p?(C=ro(s,g),C!=null&&T.unshift(Io(s,C,_))):p||(C=ro(s,g),C!=null&&T.push(Io(s,C,_)))),s=s.return}T.length!==0&&n.push({event:o,listeners:T})}var Qp=/\r\n?/g,Xp=/\u0000|\uFFFD/g;function Wu(n){return(typeof n=="string"?n:""+n).replace(Qp,`
`).replace(Xp,"")}function pr(n,o,s){if(o=Wu(o),Wu(n)!==o&&s)throw Error(r(425))}function mr(){}var Xi=null,Zi=null;function bi(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ji=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(n){return $u.resolve(null).then(n).catch(jp)}:ji;function jp(n){setTimeout(function(){throw n})}function es(n,o){var s=o,d=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(d===0){n.removeChild(p),mo(o);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=p}while(s);mo(o)}function Qn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Ou(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return n;o--}else s==="/$"&&o++}n=n.previousSibling}return null}var kt=Math.random().toString(36).slice(2),Nn="__reactFiber$"+kt,wo="__reactProps$"+kt,kn="__reactContainer$"+kt,ns="__reactEvents$"+kt,em="__reactListeners$"+kt,nm="__reactHandles$"+kt;function dt(n){var o=n[Nn];if(o)return o;for(var s=n.parentNode;s;){if(o=s[kn]||s[Nn]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(n=Ou(n);n!==null;){if(s=n[Nn])return s;n=Ou(n)}return o}n=s,s=n.parentNode}return null}function Ao(n){return n=n[Nn]||n[kn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Dt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function hr(n){return n[wo]||null}var ts=[],Lt=-1;function Xn(n){return{current:n}}function Ie(n){0>Lt||(n.current=ts[Lt],ts[Lt]=null,Lt--)}function _e(n,o){Lt++,ts[Lt]=n.current,n.current=o}var Zn={},$e=Xn(Zn),je=Xn(!1),ct=Zn;function Ut(n,o){var s=n.type.contextTypes;if(!s)return Zn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in s)p[g]=o[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=p),p}function en(n){return n=n.childContextTypes,n!=null}function gr(){Ie(je),Ie($e)}function Yu(n,o,s){if($e.current!==Zn)throw Error(r(168));_e($e,o),_e(je,s)}function Ku(n,o,s){var d=n.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(r(108,Se(n)||"Unknown",p));return Y({},s,d)}function yr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zn,ct=$e.current,_e($e,n),_e(je,je.current),!0}function Qu(n,o,s){var d=n.stateNode;if(!d)throw Error(r(169));s?(n=Ku(n,o,ct),d.__reactInternalMemoizedMergedChildContext=n,Ie(je),Ie($e),_e($e,n)):Ie(je),_e(je,s)}var Dn=null,vr=!1,os=!1;function Xu(n){Dn===null?Dn=[n]:Dn.push(n)}function tm(n){vr=!0,Xu(n)}function bn(){if(!os&&Dn!==null){os=!0;var n=0,o=ve;try{var s=Dn;for(ve=1;n<s.length;n++){var d=s[n];do d=d(!0);while(d!==null)}Dn=null,vr=!1}catch(p){throw Dn!==null&&(Dn=Dn.slice(n+1)),bl(wi,bn),p}finally{ve=o,os=!1}}return null}var Ft=[],Vt=0,Tr=null,Er=0,fn=[],pn=0,ft=null,Ln=1,Un="";function pt(n,o){Ft[Vt++]=Er,Ft[Vt++]=Tr,Tr=n,Er=o}function Zu(n,o,s){fn[pn++]=Ln,fn[pn++]=Un,fn[pn++]=ft,ft=n;var d=Ln;n=Un;var p=32-Tn(d)-1;d&=~(1<<p),s+=1;var g=32-Tn(o)+p;if(30<g){var T=p-p%5;g=(d&(1<<T)-1).toString(32),d>>=T,p-=T,Ln=1<<32-Tn(o)+p|s<<p|d,Un=g+n}else Ln=1<<g|s<<p|d,Un=n}function rs(n){n.return!==null&&(pt(n,1),Zu(n,1,0))}function is(n){for(;n===Tr;)Tr=Ft[--Vt],Ft[Vt]=null,Er=Ft[--Vt],Ft[Vt]=null;for(;n===ft;)ft=fn[--pn],fn[pn]=null,Un=fn[--pn],fn[pn]=null,Ln=fn[--pn],fn[pn]=null}var an=null,dn=null,Re=!1,Sn=null;function bu(n,o){var s=yn(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=n,o=n.deletions,o===null?(n.deletions=[s],n.flags|=16):o.push(s)}function ju(n,o){switch(n.tag){case 5:var s=n.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,an=n,dn=Qn(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,an=n,dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=ft!==null?{id:Ln,overflow:Un}:null,n.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=yn(18,null,null,0),s.stateNode=o,s.return=n,n.child=s,an=n,dn=null,!0):!1;default:return!1}}function ss(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ls(n){if(Re){var o=dn;if(o){var s=o;if(!ju(n,o)){if(ss(n))throw Error(r(418));o=Qn(s.nextSibling);var d=an;o&&ju(n,o)?bu(d,s):(n.flags=n.flags&-4097|2,Re=!1,an=n)}}else{if(ss(n))throw Error(r(418));n.flags=n.flags&-4097|2,Re=!1,an=n}}}function ea(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Sr(n){if(n!==an)return!1;if(!Re)return ea(n),Re=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!bi(n.type,n.memoizedProps)),o&&(o=dn)){if(ss(n))throw na(),Error(r(418));for(;o;)bu(n,o),o=Qn(o.nextSibling)}if(ea(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"){if(o===0){dn=Qn(n.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}n=n.nextSibling}dn=null}}else dn=an?Qn(n.stateNode.nextSibling):null;return!0}function na(){for(var n=dn;n;)n=Qn(n.nextSibling)}function Gt(){dn=an=null,Re=!1}function us(n){Sn===null?Sn=[n]:Sn.push(n)}var om=W.ReactCurrentBatchConfig;function xo(n,o,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var d=s.stateNode}if(!d)throw Error(r(147,n));var p=d,g=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(T){var _=p.refs;T===null?delete _[g]:_[g]=T},o._stringRef=g,o)}if(typeof n!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,n))}return n}function _r(n,o){throw n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function ta(n){var o=n._init;return o(n._payload)}function oa(n){function o(N,w){if(n){var R=N.deletions;R===null?(N.deletions=[w],N.flags|=16):R.push(w)}}function s(N,w){if(!n)return null;for(;w!==null;)o(N,w),w=w.sibling;return null}function d(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function p(N,w){return N=st(N,w),N.index=0,N.sibling=null,N}function g(N,w,R){return N.index=R,n?(R=N.alternate,R!==null?(R=R.index,R<w?(N.flags|=2,w):R):(N.flags|=2,w)):(N.flags|=1048576,w)}function T(N){return n&&N.alternate===null&&(N.flags|=2),N}function _(N,w,R,q){return w===null||w.tag!==6?(w=js(R,N.mode,q),w.return=N,w):(w=p(w,R),w.return=N,w)}function C(N,w,R,q){var X=R.type;return X===oe?F(N,w,R.props.children,q,R.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===xe&&ta(X)===w.type)?(q=p(w,R.props),q.ref=xo(N,w,R),q.return=N,q):(q=Or(R.type,R.key,R.props,null,N.mode,q),q.ref=xo(N,w,R),q.return=N,q)}function P(N,w,R,q){return w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation?(w=el(R,N.mode,q),w.return=N,w):(w=p(w,R.children||[]),w.return=N,w)}function F(N,w,R,q,X){return w===null||w.tag!==7?(w=St(R,N.mode,q,X),w.return=N,w):(w=p(w,R),w.return=N,w)}function V(N,w,R){if(typeof w=="string"&&w!==""||typeof w=="number")return w=js(""+w,N.mode,R),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Z:return R=Or(w.type,w.key,w.props,null,N.mode,R),R.ref=xo(N,null,w),R.return=N,R;case b:return w=el(w,N.mode,R),w.return=N,w;case xe:var q=w._init;return V(N,q(w._payload),R)}if(no(w)||te(w))return w=St(w,N.mode,R,null),w.return=N,w;_r(N,w)}return null}function D(N,w,R,q){var X=w!==null?w.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return X!==null?null:_(N,w,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Z:return R.key===X?C(N,w,R,q):null;case b:return R.key===X?P(N,w,R,q):null;case xe:return X=R._init,D(N,w,X(R._payload),q)}if(no(R)||te(R))return X!==null?null:F(N,w,R,q,null);_r(N,R)}return null}function $(N,w,R,q,X){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(R)||null,_(w,N,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return N=N.get(q.key===null?R:q.key)||null,C(w,N,q,X);case b:return N=N.get(q.key===null?R:q.key)||null,P(w,N,q,X);case xe:var ee=q._init;return $(N,w,R,ee(q._payload),X)}if(no(q)||te(q))return N=N.get(R)||null,F(w,N,q,X,null);_r(w,q)}return null}function K(N,w,R,q){for(var X=null,ee=null,ne=w,re=w=0,Be=null;ne!==null&&re<R.length;re++){ne.index>re?(Be=ne,ne=null):Be=ne.sibling;var pe=D(N,ne,R[re],q);if(pe===null){ne===null&&(ne=Be);break}n&&ne&&pe.alternate===null&&o(N,ne),w=g(pe,w,re),ee===null?X=pe:ee.sibling=pe,ee=pe,ne=Be}if(re===R.length)return s(N,ne),Re&&pt(N,re),X;if(ne===null){for(;re<R.length;re++)ne=V(N,R[re],q),ne!==null&&(w=g(ne,w,re),ee===null?X=ne:ee.sibling=ne,ee=ne);return Re&&pt(N,re),X}for(ne=d(N,ne);re<R.length;re++)Be=$(ne,N,re,R[re],q),Be!==null&&(n&&Be.alternate!==null&&ne.delete(Be.key===null?re:Be.key),w=g(Be,w,re),ee===null?X=Be:ee.sibling=Be,ee=Be);return n&&ne.forEach(function(lt){return o(N,lt)}),Re&&pt(N,re),X}function Q(N,w,R,q){var X=te(R);if(typeof X!="function")throw Error(r(150));if(R=X.call(R),R==null)throw Error(r(151));for(var ee=X=null,ne=w,re=w=0,Be=null,pe=R.next();ne!==null&&!pe.done;re++,pe=R.next()){ne.index>re?(Be=ne,ne=null):Be=ne.sibling;var lt=D(N,ne,pe.value,q);if(lt===null){ne===null&&(ne=Be);break}n&&ne&&lt.alternate===null&&o(N,ne),w=g(lt,w,re),ee===null?X=lt:ee.sibling=lt,ee=lt,ne=Be}if(pe.done)return s(N,ne),Re&&pt(N,re),X;if(ne===null){for(;!pe.done;re++,pe=R.next())pe=V(N,pe.value,q),pe!==null&&(w=g(pe,w,re),ee===null?X=pe:ee.sibling=pe,ee=pe);return Re&&pt(N,re),X}for(ne=d(N,ne);!pe.done;re++,pe=R.next())pe=$(ne,N,re,pe.value,q),pe!==null&&(n&&pe.alternate!==null&&ne.delete(pe.key===null?re:pe.key),w=g(pe,w,re),ee===null?X=pe:ee.sibling=pe,ee=pe);return n&&ne.forEach(function(Fm){return o(N,Fm)}),Re&&pt(N,re),X}function Ue(N,w,R,q){if(typeof R=="object"&&R!==null&&R.type===oe&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Z:e:{for(var X=R.key,ee=w;ee!==null;){if(ee.key===X){if(X=R.type,X===oe){if(ee.tag===7){s(N,ee.sibling),w=p(ee,R.props.children),w.return=N,N=w;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===xe&&ta(X)===ee.type){s(N,ee.sibling),w=p(ee,R.props),w.ref=xo(N,ee,R),w.return=N,N=w;break e}s(N,ee);break}else o(N,ee);ee=ee.sibling}R.type===oe?(w=St(R.props.children,N.mode,q,R.key),w.return=N,N=w):(q=Or(R.type,R.key,R.props,null,N.mode,q),q.ref=xo(N,w,R),q.return=N,N=q)}return T(N);case b:e:{for(ee=R.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){s(N,w.sibling),w=p(w,R.children||[]),w.return=N,N=w;break e}else{s(N,w);break}else o(N,w);w=w.sibling}w=el(R,N.mode,q),w.return=N,N=w}return T(N);case xe:return ee=R._init,Ue(N,w,ee(R._payload),q)}if(no(R))return K(N,w,R,q);if(te(R))return Q(N,w,R,q);_r(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,w!==null&&w.tag===6?(s(N,w.sibling),w=p(w,R),w.return=N,N=w):(s(N,w),w=js(R,N.mode,q),w.return=N,N=w),T(N)):s(N,w)}return Ue}var qt=oa(!0),ra=oa(!1),Cr=Xn(null),Ir=null,Ht=null,as=null;function ds(){as=Ht=Ir=null}function cs(n){var o=Cr.current;Ie(Cr),n._currentValue=o}function fs(n,o,s){for(;n!==null;){var d=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),n===s)break;n=n.return}}function zt(n,o){Ir=n,as=Ht=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(nn=!0),n.firstContext=null)}function mn(n){var o=n._currentValue;if(as!==n)if(n={context:n,memoizedValue:o,next:null},Ht===null){if(Ir===null)throw Error(r(308));Ht=n,Ir.dependencies={lanes:0,firstContext:n}}else Ht=Ht.next=n;return o}var mt=null;function ps(n){mt===null?mt=[n]:mt.push(n)}function ia(n,o,s,d){var p=o.interleaved;return p===null?(s.next=s,ps(o)):(s.next=p.next,p.next=s),o.interleaved=s,Fn(n,d)}function Fn(n,o){n.lanes|=o;var s=n.alternate;for(s!==null&&(s.lanes|=o),s=n,n=n.return;n!==null;)n.childLanes|=o,s=n.alternate,s!==null&&(s.childLanes|=o),s=n,n=n.return;return s.tag===3?s.stateNode:null}var jn=!1;function ms(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sa(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function et(n,o,s){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(de&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Fn(n,s)}return p=d.interleaved,p===null?(o.next=o,ps(d)):(o.next=p.next,p.next=o),d.interleaved=o,Fn(n,s)}function wr(n,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var d=o.lanes;d&=n.pendingLanes,s|=d,o.lanes=s,Ni(n,s)}}function la(n,o){var s=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var T={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?p=g=T:g=g.next=T,s=s.next}while(s!==null);g===null?p=g=o:g=g.next=o}else p=g=o;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=o:n.next=o,s.lastBaseUpdate=o}function Ar(n,o,s,d){var p=n.updateQueue;jn=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var C=_,P=C.next;C.next=null,T===null?g=P:T.next=P,T=C;var F=n.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==T&&(_===null?F.firstBaseUpdate=P:_.next=P,F.lastBaseUpdate=C))}if(g!==null){var V=p.baseState;T=0,F=P=C=null,_=g;do{var D=_.lane,$=_.eventTime;if((d&D)===D){F!==null&&(F=F.next={eventTime:$,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var K=n,Q=_;switch(D=o,$=s,Q.tag){case 1:if(K=Q.payload,typeof K=="function"){V=K.call($,V,D);break e}V=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Q.payload,D=typeof K=="function"?K.call($,V,D):K,D==null)break e;V=Y({},V,D);break e;case 2:jn=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,D=p.effects,D===null?p.effects=[_]:D.push(_))}else $={eventTime:$,lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(P=F=$,C=V):F=F.next=$,T|=D;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;D=_,_=D.next,D.next=null,p.lastBaseUpdate=D,p.shared.pending=null}}while(!0);if(F===null&&(C=V),p.baseState=C,p.firstBaseUpdate=P,p.lastBaseUpdate=F,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else g===null&&(p.shared.lanes=0);yt|=T,n.lanes=T,n.memoizedState=V}}function ua(n,o,s){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var d=n[o],p=d.callback;if(p!==null){if(d.callback=null,d=s,typeof p!="function")throw Error(r(191,p));p.call(d)}}}var No={},Rn=Xn(No),Ro=Xn(No),Po=Xn(No);function ht(n){if(n===No)throw Error(r(174));return n}function hs(n,o){switch(_e(Po,o),_e(Ro,n),_e(Rn,No),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:gi(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=gi(o,n)}Ie(Rn),_e(Rn,o)}function Bt(){Ie(Rn),Ie(Ro),Ie(Po)}function aa(n){ht(Po.current);var o=ht(Rn.current),s=gi(o,n.type);o!==s&&(_e(Ro,n),_e(Rn,s))}function gs(n){Ro.current===n&&(Ie(Rn),Ie(Ro))}var Pe=Xn(0);function xr(n){for(var o=n;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ys=[];function vs(){for(var n=0;n<ys.length;n++)ys[n]._workInProgressVersionPrimary=null;ys.length=0}var Nr=W.ReactCurrentDispatcher,Ts=W.ReactCurrentBatchConfig,gt=0,Me=null,Ge=null,He=null,Rr=!1,Mo=!1,ko=0,rm=0;function Oe(){throw Error(r(321))}function Es(n,o){if(o===null)return!1;for(var s=0;s<o.length&&s<n.length;s++)if(!En(n[s],o[s]))return!1;return!0}function Ss(n,o,s,d,p,g){if(gt=g,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Nr.current=n===null||n.memoizedState===null?um:am,n=s(d,p),Mo){g=0;do{if(Mo=!1,ko=0,25<=g)throw Error(r(301));g+=1,He=Ge=null,o.updateQueue=null,Nr.current=dm,n=s(d,p)}while(Mo)}if(Nr.current=kr,o=Ge!==null&&Ge.next!==null,gt=0,He=Ge=Me=null,Rr=!1,o)throw Error(r(300));return n}function _s(){var n=ko!==0;return ko=0,n}function Pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Me.memoizedState=He=n:He=He.next=n,He}function hn(){if(Ge===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=Ge.next;var o=He===null?Me.memoizedState:He.next;if(o!==null)He=o,Ge=n;else{if(n===null)throw Error(r(310));Ge=n,n={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},He===null?Me.memoizedState=He=n:He=He.next=n}return He}function Do(n,o){return typeof o=="function"?o(n):o}function Cs(n){var o=hn(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var d=Ge,p=d.baseQueue,g=s.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}d.baseQueue=p=g,s.pending=null}if(p!==null){g=p.next,d=d.baseState;var _=T=null,C=null,P=g;do{var F=P.lane;if((gt&F)===F)C!==null&&(C=C.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),d=P.hasEagerState?P.eagerState:n(d,P.action);else{var V={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};C===null?(_=C=V,T=d):C=C.next=V,Me.lanes|=F,yt|=F}P=P.next}while(P!==null&&P!==g);C===null?T=d:C.next=_,En(d,o.memoizedState)||(nn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=C,s.lastRenderedState=d}if(n=s.interleaved,n!==null){p=n;do g=p.lane,Me.lanes|=g,yt|=g,p=p.next;while(p!==n)}else p===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function Is(n){var o=hn(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var d=s.dispatch,p=s.pending,g=o.memoizedState;if(p!==null){s.pending=null;var T=p=p.next;do g=n(g,T.action),T=T.next;while(T!==p);En(g,o.memoizedState)||(nn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),s.lastRenderedState=g}return[g,d]}function da(){}function ca(n,o){var s=Me,d=hn(),p=o(),g=!En(d.memoizedState,p);if(g&&(d.memoizedState=p,nn=!0),d=d.queue,ws(ma.bind(null,s,d,n),[n]),d.getSnapshot!==o||g||He!==null&&He.memoizedState.tag&1){if(s.flags|=2048,Lo(9,pa.bind(null,s,d,p,o),void 0,null),ze===null)throw Error(r(349));(gt&30)!==0||fa(s,o,p)}return p}function fa(n,o,s){n.flags|=16384,n={getSnapshot:o,value:s},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.stores=[n]):(s=o.stores,s===null?o.stores=[n]:s.push(n))}function pa(n,o,s,d){o.value=s,o.getSnapshot=d,ha(o)&&ga(n)}function ma(n,o,s){return s(function(){ha(o)&&ga(n)})}function ha(n){var o=n.getSnapshot;n=n.value;try{var s=o();return!En(n,s)}catch{return!0}}function ga(n){var o=Fn(n,1);o!==null&&wn(o,n,1,-1)}function ya(n){var o=Pn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:n},o.queue=n,n=n.dispatch=lm.bind(null,Me,n),[o.memoizedState,n]}function Lo(n,o,s,d){return n={tag:n,create:o,destroy:s,deps:d,next:null},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.lastEffect=n.next=n):(s=o.lastEffect,s===null?o.lastEffect=n.next=n:(d=s.next,s.next=n,n.next=d,o.lastEffect=n)),n}function va(){return hn().memoizedState}function Pr(n,o,s,d){var p=Pn();Me.flags|=n,p.memoizedState=Lo(1|o,s,void 0,d===void 0?null:d)}function Mr(n,o,s,d){var p=hn();d=d===void 0?null:d;var g=void 0;if(Ge!==null){var T=Ge.memoizedState;if(g=T.destroy,d!==null&&Es(d,T.deps)){p.memoizedState=Lo(o,s,g,d);return}}Me.flags|=n,p.memoizedState=Lo(1|o,s,g,d)}function Ta(n,o){return Pr(8390656,8,n,o)}function ws(n,o){return Mr(2048,8,n,o)}function Ea(n,o){return Mr(4,2,n,o)}function Sa(n,o){return Mr(4,4,n,o)}function _a(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Ca(n,o,s){return s=s!=null?s.concat([n]):null,Mr(4,4,_a.bind(null,o,n),s)}function As(){}function Ia(n,o){var s=hn();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Es(o,d[1])?d[0]:(s.memoizedState=[n,o],n)}function wa(n,o){var s=hn();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Es(o,d[1])?d[0]:(n=n(),s.memoizedState=[n,o],n)}function Aa(n,o,s){return(gt&21)===0?(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=s):(En(s,o)||(s=tu(),Me.lanes|=s,yt|=s,n.baseState=!0),o)}function im(n,o){var s=ve;ve=s!==0&&4>s?s:4,n(!0);var d=Ts.transition;Ts.transition={};try{n(!1),o()}finally{ve=s,Ts.transition=d}}function xa(){return hn().memoizedState}function sm(n,o,s){var d=rt(n);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},Na(n))Ra(o,s);else if(s=ia(n,o,s,d),s!==null){var p=Ze();wn(s,n,d,p),Pa(s,o,d)}}function lm(n,o,s){var d=rt(n),p={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(Na(n))Ra(o,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var T=o.lastRenderedState,_=g(T,s);if(p.hasEagerState=!0,p.eagerState=_,En(_,T)){var C=o.interleaved;C===null?(p.next=p,ps(o)):(p.next=C.next,C.next=p),o.interleaved=p;return}}catch{}finally{}s=ia(n,o,p,d),s!==null&&(p=Ze(),wn(s,n,d,p),Pa(s,o,d))}}function Na(n){var o=n.alternate;return n===Me||o!==null&&o===Me}function Ra(n,o){Mo=Rr=!0;var s=n.pending;s===null?o.next=o:(o.next=s.next,s.next=o),n.pending=o}function Pa(n,o,s){if((s&4194240)!==0){var d=o.lanes;d&=n.pendingLanes,s|=d,o.lanes=s,Ni(n,s)}}var kr={readContext:mn,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},um={readContext:mn,useCallback:function(n,o){return Pn().memoizedState=[n,o===void 0?null:o],n},useContext:mn,useEffect:Ta,useImperativeHandle:function(n,o,s){return s=s!=null?s.concat([n]):null,Pr(4194308,4,_a.bind(null,o,n),s)},useLayoutEffect:function(n,o){return Pr(4194308,4,n,o)},useInsertionEffect:function(n,o){return Pr(4,2,n,o)},useMemo:function(n,o){var s=Pn();return o=o===void 0?null:o,n=n(),s.memoizedState=[n,o],n},useReducer:function(n,o,s){var d=Pn();return o=s!==void 0?s(o):o,d.memoizedState=d.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},d.queue=n,n=n.dispatch=sm.bind(null,Me,n),[d.memoizedState,n]},useRef:function(n){var o=Pn();return n={current:n},o.memoizedState=n},useState:ya,useDebugValue:As,useDeferredValue:function(n){return Pn().memoizedState=n},useTransition:function(){var n=ya(!1),o=n[0];return n=im.bind(null,n[1]),Pn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,s){var d=Me,p=Pn();if(Re){if(s===void 0)throw Error(r(407));s=s()}else{if(s=o(),ze===null)throw Error(r(349));(gt&30)!==0||fa(d,o,s)}p.memoizedState=s;var g={value:s,getSnapshot:o};return p.queue=g,Ta(ma.bind(null,d,g,n),[n]),d.flags|=2048,Lo(9,pa.bind(null,d,g,s,o),void 0,null),s},useId:function(){var n=Pn(),o=ze.identifierPrefix;if(Re){var s=Un,d=Ln;s=(d&~(1<<32-Tn(d)-1)).toString(32)+s,o=":"+o+"R"+s,s=ko++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=rm++,o=":"+o+"r"+s.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},am={readContext:mn,useCallback:Ia,useContext:mn,useEffect:ws,useImperativeHandle:Ca,useInsertionEffect:Ea,useLayoutEffect:Sa,useMemo:wa,useReducer:Cs,useRef:va,useState:function(){return Cs(Do)},useDebugValue:As,useDeferredValue:function(n){var o=hn();return Aa(o,Ge.memoizedState,n)},useTransition:function(){var n=Cs(Do)[0],o=hn().memoizedState;return[n,o]},useMutableSource:da,useSyncExternalStore:ca,useId:xa,unstable_isNewReconciler:!1},dm={readContext:mn,useCallback:Ia,useContext:mn,useEffect:ws,useImperativeHandle:Ca,useInsertionEffect:Ea,useLayoutEffect:Sa,useMemo:wa,useReducer:Is,useRef:va,useState:function(){return Is(Do)},useDebugValue:As,useDeferredValue:function(n){var o=hn();return Ge===null?o.memoizedState=n:Aa(o,Ge.memoizedState,n)},useTransition:function(){var n=Is(Do)[0],o=hn().memoizedState;return[n,o]},useMutableSource:da,useSyncExternalStore:ca,useId:xa,unstable_isNewReconciler:!1};function _n(n,o){if(n&&n.defaultProps){o=Y({},o),n=n.defaultProps;for(var s in n)o[s]===void 0&&(o[s]=n[s]);return o}return o}function xs(n,o,s,d){o=n.memoizedState,s=s(d,o),s=s==null?o:Y({},o,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Dr={isMounted:function(n){return(n=n._reactInternals)?at(n)===n:!1},enqueueSetState:function(n,o,s){n=n._reactInternals;var d=Ze(),p=rt(n),g=Vn(d,p);g.payload=o,s!=null&&(g.callback=s),o=et(n,g,p),o!==null&&(wn(o,n,p,d),wr(o,n,p))},enqueueReplaceState:function(n,o,s){n=n._reactInternals;var d=Ze(),p=rt(n),g=Vn(d,p);g.tag=1,g.payload=o,s!=null&&(g.callback=s),o=et(n,g,p),o!==null&&(wn(o,n,p,d),wr(o,n,p))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var s=Ze(),d=rt(n),p=Vn(s,d);p.tag=2,o!=null&&(p.callback=o),o=et(n,p,d),o!==null&&(wn(o,n,d,s),wr(o,n,d))}};function Ma(n,o,s,d,p,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,T):o.prototype&&o.prototype.isPureReactComponent?!Eo(s,d)||!Eo(p,g):!0}function ka(n,o,s){var d=!1,p=Zn,g=o.contextType;return typeof g=="object"&&g!==null?g=mn(g):(p=en(o)?ct:$e.current,d=o.contextTypes,g=(d=d!=null)?Ut(n,p):Zn),o=new o(s,g),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dr,n.stateNode=o,o._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=g),o}function Da(n,o,s,d){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,d),o.state!==n&&Dr.enqueueReplaceState(o,o.state,null)}function Ns(n,o,s,d){var p=n.stateNode;p.props=s,p.state=n.memoizedState,p.refs={},ms(n);var g=o.contextType;typeof g=="object"&&g!==null?p.context=mn(g):(g=en(o)?ct:$e.current,p.context=Ut(n,g)),p.state=n.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(xs(n,o,g,s),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Dr.enqueueReplaceState(p,p.state,null),Ar(n,s,p,d),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Jt(n,o){try{var s="",d=o;do s+=ce(d),d=d.return;while(d);var p=s}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:o,stack:p,digest:null}}function Rs(n,o,s){return{value:n,source:null,stack:s??null,digest:o??null}}function Ps(n,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var cm=typeof WeakMap=="function"?WeakMap:Map;function La(n,o,s){s=Vn(-1,s),s.tag=3,s.payload={element:null};var d=o.value;return s.callback=function(){Hr||(Hr=!0,$s=d),Ps(n,o)},s}function Ua(n,o,s){s=Vn(-1,s),s.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;s.payload=function(){return d(p)},s.callback=function(){Ps(n,o)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){Ps(n,o),typeof d!="function"&&(tt===null?tt=new Set([this]):tt.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),s}function Fa(n,o,s){var d=n.pingCache;if(d===null){d=n.pingCache=new cm;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(s)||(p.add(s),n=wm.bind(null,n,o,s),o.then(n,n))}function Va(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Ga(n,o,s,d,p){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=Vn(-1,1),o.tag=2,et(s,o,1))),s.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var fm=W.ReactCurrentOwner,nn=!1;function Xe(n,o,s,d){o.child=n===null?ra(o,null,s,d):qt(o,n.child,s,d)}function qa(n,o,s,d,p){s=s.render;var g=o.ref;return zt(o,p),d=Ss(n,o,s,d,g,p),s=_s(),n!==null&&!nn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,Gn(n,o,p)):(Re&&s&&rs(o),o.flags|=1,Xe(n,o,d,p),o.child)}function Ha(n,o,s,d,p){if(n===null){var g=s.type;return typeof g=="function"&&!bs(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=g,za(n,o,g,d,p)):(n=Or(s.type,null,d,o,o.mode,p),n.ref=o.ref,n.return=o,o.child=n)}if(g=n.child,(n.lanes&p)===0){var T=g.memoizedProps;if(s=s.compare,s=s!==null?s:Eo,s(T,d)&&n.ref===o.ref)return Gn(n,o,p)}return o.flags|=1,n=st(g,d),n.ref=o.ref,n.return=o,o.child=n}function za(n,o,s,d,p){if(n!==null){var g=n.memoizedProps;if(Eo(g,d)&&n.ref===o.ref)if(nn=!1,o.pendingProps=d=g,(n.lanes&p)!==0)(n.flags&131072)!==0&&(nn=!0);else return o.lanes=n.lanes,Gn(n,o,p)}return Ms(n,o,s,d,p)}function Ba(n,o,s){var d=o.pendingProps,p=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e($t,cn),cn|=s;else{if((s&1073741824)===0)return n=g!==null?g.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,_e($t,cn),cn|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:s,_e($t,cn),cn|=d}else g!==null?(d=g.baseLanes|s,o.memoizedState=null):d=s,_e($t,cn),cn|=d;return Xe(n,o,p,s),o.child}function Ja(n,o){var s=o.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function Ms(n,o,s,d,p){var g=en(s)?ct:$e.current;return g=Ut(o,g),zt(o,p),s=Ss(n,o,s,d,g,p),d=_s(),n!==null&&!nn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,Gn(n,o,p)):(Re&&d&&rs(o),o.flags|=1,Xe(n,o,s,p),o.child)}function Wa(n,o,s,d,p){if(en(s)){var g=!0;yr(o)}else g=!1;if(zt(o,p),o.stateNode===null)Ur(n,o),ka(o,s,d),Ns(o,s,d,p),d=!0;else if(n===null){var T=o.stateNode,_=o.memoizedProps;T.props=_;var C=T.context,P=s.contextType;typeof P=="object"&&P!==null?P=mn(P):(P=en(s)?ct:$e.current,P=Ut(o,P));var F=s.getDerivedStateFromProps,V=typeof F=="function"||typeof T.getSnapshotBeforeUpdate=="function";V||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==d||C!==P)&&Da(o,T,d,P),jn=!1;var D=o.memoizedState;T.state=D,Ar(o,d,T,p),C=o.memoizedState,_!==d||D!==C||je.current||jn?(typeof F=="function"&&(xs(o,s,F,d),C=o.memoizedState),(_=jn||Ma(o,s,_,d,D,C,P))?(V||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=C),T.props=d,T.state=C,T.context=P,d=_):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,sa(n,o),_=o.memoizedProps,P=o.type===o.elementType?_:_n(o.type,_),T.props=P,V=o.pendingProps,D=T.context,C=s.contextType,typeof C=="object"&&C!==null?C=mn(C):(C=en(s)?ct:$e.current,C=Ut(o,C));var $=s.getDerivedStateFromProps;(F=typeof $=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==V||D!==C)&&Da(o,T,d,C),jn=!1,D=o.memoizedState,T.state=D,Ar(o,d,T,p);var K=o.memoizedState;_!==V||D!==K||je.current||jn?(typeof $=="function"&&(xs(o,s,$,d),K=o.memoizedState),(P=jn||Ma(o,s,P,d,D,K,C)||!1)?(F||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,K,C),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,K,C)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||_===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=K),T.props=d,T.state=K,T.context=C,d=P):(typeof T.componentDidUpdate!="function"||_===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),d=!1)}return ks(n,o,s,d,g,p)}function ks(n,o,s,d,p,g){Ja(n,o);var T=(o.flags&128)!==0;if(!d&&!T)return p&&Qu(o,s,!1),Gn(n,o,g);d=o.stateNode,fm.current=o;var _=T&&typeof s.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,n!==null&&T?(o.child=qt(o,n.child,null,g),o.child=qt(o,null,_,g)):Xe(n,o,_,g),o.memoizedState=d.state,p&&Qu(o,s,!0),o.child}function $a(n){var o=n.stateNode;o.pendingContext?Yu(n,o.pendingContext,o.pendingContext!==o.context):o.context&&Yu(n,o.context,!1),hs(n,o.containerInfo)}function Oa(n,o,s,d,p){return Gt(),us(p),o.flags|=256,Xe(n,o,s,d),o.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ya(n,o,s){var d=o.pendingProps,p=Pe.current,g=!1,T=(o.flags&128)!==0,_;if((_=T)||(_=n!==null&&n.memoizedState===null?!1:(p&2)!==0),_?(g=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),_e(Pe,p&1),n===null)return ls(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,n=d.fallback,g?(d=o.mode,g=o.child,T={mode:"hidden",children:T},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=T):g=Yr(T,d,0,null),n=St(n,d,s,null),g.return=o,n.return=o,g.sibling=n,o.child=g,o.child.memoizedState=Ls(s),o.memoizedState=Ds,n):Us(o,T));if(p=n.memoizedState,p!==null&&(_=p.dehydrated,_!==null))return pm(n,o,T,d,_,p,s);if(g){g=d.fallback,T=o.mode,p=n.child,_=p.sibling;var C={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=C,o.deletions=null):(d=st(p,C),d.subtreeFlags=p.subtreeFlags&14680064),_!==null?g=st(_,g):(g=St(g,T,s,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,T=n.child.memoizedState,T=T===null?Ls(s):{baseLanes:T.baseLanes|s,cachePool:null,transitions:T.transitions},g.memoizedState=T,g.childLanes=n.childLanes&~s,o.memoizedState=Ds,d}return g=n.child,n=g.sibling,d=st(g,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=s),d.return=o,d.sibling=null,n!==null&&(s=o.deletions,s===null?(o.deletions=[n],o.flags|=16):s.push(n)),o.child=d,o.memoizedState=null,d}function Us(n,o){return o=Yr({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Lr(n,o,s,d){return d!==null&&us(d),qt(o,n.child,null,s),n=Us(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function pm(n,o,s,d,p,g,T){if(s)return o.flags&256?(o.flags&=-257,d=Rs(Error(r(422))),Lr(n,o,T,d)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(g=d.fallback,p=o.mode,d=Yr({mode:"visible",children:d.children},p,0,null),g=St(g,p,T,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,(o.mode&1)!==0&&qt(o,n.child,null,T),o.child.memoizedState=Ls(T),o.memoizedState=Ds,g);if((o.mode&1)===0)return Lr(n,o,T,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var _=d.dgst;return d=_,g=Error(r(419)),d=Rs(g,d,void 0),Lr(n,o,T,d)}if(_=(T&n.childLanes)!==0,nn||_){if(d=ze,d!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|T))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Fn(n,p),wn(d,n,p,-1))}return Zs(),d=Rs(Error(r(421))),Lr(n,o,T,d)}return p.data==="$?"?(o.flags|=128,o.child=n.child,o=Am.bind(null,n),p._reactRetry=o,null):(n=g.treeContext,dn=Qn(p.nextSibling),an=o,Re=!0,Sn=null,n!==null&&(fn[pn++]=Ln,fn[pn++]=Un,fn[pn++]=ft,Ln=n.id,Un=n.overflow,ft=o),o=Us(o,d.children),o.flags|=4096,o)}function Ka(n,o,s){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o),fs(n.return,o,s)}function Fs(n,o,s,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=s,g.tailMode=p)}function Qa(n,o,s){var d=o.pendingProps,p=d.revealOrder,g=d.tail;if(Xe(n,o,d.children,s),d=Pe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ka(n,s,o);else if(n.tag===19)Ka(n,s,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(_e(Pe,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(s=o.child,p=null;s!==null;)n=s.alternate,n!==null&&xr(n)===null&&(p=s),s=s.sibling;s=p,s===null?(p=o.child,o.child=null):(p=s.sibling,s.sibling=null),Fs(o,!1,p,s,g);break;case"backwards":for(s=null,p=o.child,o.child=null;p!==null;){if(n=p.alternate,n!==null&&xr(n)===null){o.child=p;break}n=p.sibling,p.sibling=s,s=p,p=n}Fs(o,!0,s,null,g);break;case"together":Fs(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ur(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Gn(n,o,s){if(n!==null&&(o.dependencies=n.dependencies),yt|=o.lanes,(s&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,s=st(n,n.pendingProps),o.child=s,s.return=o;n.sibling!==null;)n=n.sibling,s=s.sibling=st(n,n.pendingProps),s.return=o;s.sibling=null}return o.child}function mm(n,o,s){switch(o.tag){case 3:$a(o),Gt();break;case 5:aa(o);break;case 1:en(o.type)&&yr(o);break;case 4:hs(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;_e(Cr,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(_e(Pe,Pe.current&1),o.flags|=128,null):(s&o.child.childLanes)!==0?Ya(n,o,s):(_e(Pe,Pe.current&1),n=Gn(n,o,s),n!==null?n.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(d=(s&o.childLanes)!==0,(n.flags&128)!==0){if(d)return Qa(n,o,s);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(Pe,Pe.current),d)break;return null;case 22:case 23:return o.lanes=0,Ba(n,o,s)}return Gn(n,o,s)}var Xa,Vs,Za,ba;Xa=function(n,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Vs=function(){},Za=function(n,o,s,d){var p=n.memoizedProps;if(p!==d){n=o.stateNode,ht(Rn.current);var g=null;switch(s){case"input":p=fi(n,p),d=fi(n,d),g=[];break;case"select":p=Y({},p,{value:void 0}),d=Y({},d,{value:void 0}),g=[];break;case"textarea":p=hi(n,p),d=hi(n,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=mr)}yi(s,d);var T;s=null;for(P in p)if(!d.hasOwnProperty(P)&&p.hasOwnProperty(P)&&p[P]!=null)if(P==="style"){var _=p[P];for(T in _)_.hasOwnProperty(T)&&(s||(s={}),s[T]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?g||(g=[]):(g=g||[]).push(P,null));for(P in d){var C=d[P];if(_=p!=null?p[P]:void 0,d.hasOwnProperty(P)&&C!==_&&(C!=null||_!=null))if(P==="style")if(_){for(T in _)!_.hasOwnProperty(T)||C&&C.hasOwnProperty(T)||(s||(s={}),s[T]="");for(T in C)C.hasOwnProperty(T)&&_[T]!==C[T]&&(s||(s={}),s[T]=C[T])}else s||(g||(g=[]),g.push(P,s)),s=C;else P==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,_=_?_.__html:void 0,C!=null&&_!==C&&(g=g||[]).push(P,C)):P==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(P,""+C):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(C!=null&&P==="onScroll"&&Ce("scroll",n),g||_===C||(g=[])):(g=g||[]).push(P,C))}s&&(g=g||[]).push("style",s);var P=g;(o.updateQueue=P)&&(o.flags|=4)}},ba=function(n,o,s,d){s!==d&&(o.flags|=4)};function Uo(n,o){if(!Re)switch(n.tailMode){case"hidden":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Ye(n){var o=n.alternate!==null&&n.alternate.child===n.child,s=0,d=0;if(o)for(var p=n.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=s,o}function hm(n,o,s){var d=o.pendingProps;switch(is(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(o),null;case 1:return en(o.type)&&gr(),Ye(o),null;case 3:return d=o.stateNode,Bt(),Ie(je),Ie($e),vs(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Sr(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sn!==null&&(Ks(Sn),Sn=null))),Vs(n,o),Ye(o),null;case 5:gs(o);var p=ht(Po.current);if(s=o.type,n!==null&&o.stateNode!=null)Za(n,o,s,d,p),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ye(o),null}if(n=ht(Rn.current),Sr(o)){d=o.stateNode,s=o.type;var g=o.memoizedProps;switch(d[Nn]=o,d[wo]=g,n=(o.mode&1)!==0,s){case"dialog":Ce("cancel",d),Ce("close",d);break;case"iframe":case"object":case"embed":Ce("load",d);break;case"video":case"audio":for(p=0;p<_o.length;p++)Ce(_o[p],d);break;case"source":Ce("error",d);break;case"img":case"image":case"link":Ce("error",d),Ce("load",d);break;case"details":Ce("toggle",d);break;case"input":kl(d,g),Ce("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ce("invalid",d);break;case"textarea":Ul(d,g),Ce("invalid",d)}yi(s,g),p=null;for(var T in g)if(g.hasOwnProperty(T)){var _=g[T];T==="children"?typeof _=="string"?d.textContent!==_&&(g.suppressHydrationWarning!==!0&&pr(d.textContent,_,n),p=["children",_]):typeof _=="number"&&d.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&pr(d.textContent,_,n),p=["children",""+_]):u.hasOwnProperty(T)&&_!=null&&T==="onScroll"&&Ce("scroll",d)}switch(s){case"input":Wo(d),Ll(d,g,!0);break;case"textarea":Wo(d),Vl(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=mr)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Gl(s)),n==="http://www.w3.org/1999/xhtml"?s==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=T.createElement(s,{is:d.is}):(n=T.createElement(s),s==="select"&&(T=n,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):n=T.createElementNS(n,s),n[Nn]=o,n[wo]=d,Xa(n,o,!1,!1),o.stateNode=n;e:{switch(T=vi(s,d),s){case"dialog":Ce("cancel",n),Ce("close",n),p=d;break;case"iframe":case"object":case"embed":Ce("load",n),p=d;break;case"video":case"audio":for(p=0;p<_o.length;p++)Ce(_o[p],n);p=d;break;case"source":Ce("error",n),p=d;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),p=d;break;case"details":Ce("toggle",n),p=d;break;case"input":kl(n,d),p=fi(n,d),Ce("invalid",n);break;case"option":p=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},p=Y({},d,{value:void 0}),Ce("invalid",n);break;case"textarea":Ul(n,d),p=hi(n,d),Ce("invalid",n);break;default:p=d}yi(s,p),_=p;for(g in _)if(_.hasOwnProperty(g)){var C=_[g];g==="style"?zl(n,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ql(n,C)):g==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&to(n,C):typeof C=="number"&&to(n,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(u.hasOwnProperty(g)?C!=null&&g==="onScroll"&&Ce("scroll",n):C!=null&&H(n,g,C,T))}switch(s){case"input":Wo(n),Ll(n,d,!1);break;case"textarea":Wo(n),Vl(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ye(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?Ct(n,!!d.multiple,g,!1):d.defaultValue!=null&&Ct(n,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=mr)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ye(o),null;case 6:if(n&&o.stateNode!=null)ba(n,o,n.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=ht(Po.current),ht(Rn.current),Sr(o)){if(d=o.stateNode,s=o.memoizedProps,d[Nn]=o,(g=d.nodeValue!==s)&&(n=an,n!==null))switch(n.tag){case 3:pr(d.nodeValue,s,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pr(d.nodeValue,s,(n.mode&1)!==0)}g&&(o.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Nn]=o,o.stateNode=d}return Ye(o),null;case 13:if(Ie(Pe),d=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Re&&dn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)na(),Gt(),o.flags|=98560,g=!1;else if(g=Sr(o),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Nn]=o}else Gt(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ye(o),g=!1}else Sn!==null&&(Ks(Sn),Sn=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=s,o):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(Pe.current&1)!==0?qe===0&&(qe=3):Zs())),o.updateQueue!==null&&(o.flags|=4),Ye(o),null);case 4:return Bt(),Vs(n,o),n===null&&Co(o.stateNode.containerInfo),Ye(o),null;case 10:return cs(o.type._context),Ye(o),null;case 17:return en(o.type)&&gr(),Ye(o),null;case 19:if(Ie(Pe),g=o.memoizedState,g===null)return Ye(o),null;if(d=(o.flags&128)!==0,T=g.rendering,T===null)if(d)Uo(g,!1);else{if(qe!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(T=xr(n),T!==null){for(o.flags|=128,Uo(g,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=s,s=o.child;s!==null;)g=s,n=d,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,n=T.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s=s.sibling;return _e(Pe,Pe.current&1|2),o.child}n=n.sibling}g.tail!==null&&Le()>Ot&&(o.flags|=128,d=!0,Uo(g,!1),o.lanes=4194304)}else{if(!d)if(n=xr(T),n!==null){if(o.flags|=128,d=!0,s=n.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Uo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Re)return Ye(o),null}else 2*Le()-g.renderingStartTime>Ot&&s!==1073741824&&(o.flags|=128,d=!0,Uo(g,!1),o.lanes=4194304);g.isBackwards?(T.sibling=o.child,o.child=T):(s=g.last,s!==null?s.sibling=T:o.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Le(),o.sibling=null,s=Pe.current,_e(Pe,d?s&1|2:s&1),o):(Ye(o),null);case 22:case 23:return Xs(),d=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(cn&1073741824)!==0&&(Ye(o),o.subtreeFlags&6&&(o.flags|=8192)):Ye(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function gm(n,o){switch(is(o),o.tag){case 1:return en(o.type)&&gr(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Bt(),Ie(je),Ie($e),vs(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return gs(o),null;case 13:if(Ie(Pe),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Gt()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Ie(Pe),null;case 4:return Bt(),null;case 10:return cs(o.type._context),null;case 22:case 23:return Xs(),null;case 24:return null;default:return null}}var Fr=!1,Ke=!1,ym=typeof WeakSet=="function"?WeakSet:Set,O=null;function Wt(n,o){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){ke(n,o,d)}else s.current=null}function Gs(n,o,s){try{s()}catch(d){ke(n,o,d)}}var ja=!1;function vm(n,o){if(Xi=tr,n=Mu(),Bi(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var T=0,_=-1,C=-1,P=0,F=0,V=n,D=null;n:for(;;){for(var $;V!==s||p!==0&&V.nodeType!==3||(_=T+p),V!==g||d!==0&&V.nodeType!==3||(C=T+d),V.nodeType===3&&(T+=V.nodeValue.length),($=V.firstChild)!==null;)D=V,V=$;for(;;){if(V===n)break n;if(D===s&&++P===p&&(_=T),D===g&&++F===d&&(C=T),($=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=$}s=_===-1||C===-1?null:{start:_,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zi={focusedElem:n,selectionRange:s},tr=!1,O=o;O!==null;)if(o=O,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,O=n;else for(;O!==null;){o=O;try{var K=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Q=K.memoizedProps,Ue=K.memoizedState,N=o.stateNode,w=N.getSnapshotBeforeUpdate(o.elementType===o.type?Q:_n(o.type,Q),Ue);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var R=o.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(q){ke(o,o.return,q)}if(n=o.sibling,n!==null){n.return=o.return,O=n;break}O=o.return}return K=ja,ja=!1,K}function Fo(n,o,s){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&n)===n){var g=p.destroy;p.destroy=void 0,g!==void 0&&Gs(o,s,g)}p=p.next}while(p!==d)}}function Vr(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&n)===n){var d=s.create;s.destroy=d()}s=s.next}while(s!==o)}}function qs(n){var o=n.ref;if(o!==null){var s=n.stateNode;switch(n.tag){case 5:n=s;break;default:n=s}typeof o=="function"?o(n):o.current=n}}function ed(n){var o=n.alternate;o!==null&&(n.alternate=null,ed(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Nn],delete o[wo],delete o[ns],delete o[em],delete o[nm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nd(n){return n.tag===5||n.tag===3||n.tag===4}function td(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hs(n,o,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(n,o):s.insertBefore(n,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(n,s)):(o=s,o.appendChild(n)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=mr));else if(d!==4&&(n=n.child,n!==null))for(Hs(n,o,s),n=n.sibling;n!==null;)Hs(n,o,s),n=n.sibling}function zs(n,o,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?s.insertBefore(n,o):s.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(zs(n,o,s),n=n.sibling;n!==null;)zs(n,o,s),n=n.sibling}var Je=null,Cn=!1;function nt(n,o,s){for(s=s.child;s!==null;)od(n,o,s),s=s.sibling}function od(n,o,s){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Xo,s)}catch{}switch(s.tag){case 5:Ke||Wt(s,o);case 6:var d=Je,p=Cn;Je=null,nt(n,o,s),Je=d,Cn=p,Je!==null&&(Cn?(n=Je,s=s.stateNode,n.nodeType===8?n.parentNode.removeChild(s):n.removeChild(s)):Je.removeChild(s.stateNode));break;case 18:Je!==null&&(Cn?(n=Je,s=s.stateNode,n.nodeType===8?es(n.parentNode,s):n.nodeType===1&&es(n,s),mo(n)):es(Je,s.stateNode));break;case 4:d=Je,p=Cn,Je=s.stateNode.containerInfo,Cn=!0,nt(n,o,s),Je=d,Cn=p;break;case 0:case 11:case 14:case 15:if(!Ke&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,T=g.destroy;g=g.tag,T!==void 0&&((g&2)!==0||(g&4)!==0)&&Gs(s,o,T),p=p.next}while(p!==d)}nt(n,o,s);break;case 1:if(!Ke&&(Wt(s,o),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(_){ke(s,o,_)}nt(n,o,s);break;case 21:nt(n,o,s);break;case 22:s.mode&1?(Ke=(d=Ke)||s.memoizedState!==null,nt(n,o,s),Ke=d):nt(n,o,s);break;default:nt(n,o,s)}}function rd(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new ym),o.forEach(function(d){var p=xm.bind(null,n,d);s.has(d)||(s.add(d),d.then(p,p))})}}function In(n,o){var s=o.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];try{var g=n,T=o,_=T;e:for(;_!==null;){switch(_.tag){case 5:Je=_.stateNode,Cn=!1;break e;case 3:Je=_.stateNode.containerInfo,Cn=!0;break e;case 4:Je=_.stateNode.containerInfo,Cn=!0;break e}_=_.return}if(Je===null)throw Error(r(160));od(g,T,p),Je=null,Cn=!1;var C=p.alternate;C!==null&&(C.return=null),p.return=null}catch(P){ke(p,o,P)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)id(o,n),o=o.sibling}function id(n,o){var s=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(In(o,n),Mn(n),d&4){try{Fo(3,n,n.return),Vr(3,n)}catch(Q){ke(n,n.return,Q)}try{Fo(5,n,n.return)}catch(Q){ke(n,n.return,Q)}}break;case 1:In(o,n),Mn(n),d&512&&s!==null&&Wt(s,s.return);break;case 5:if(In(o,n),Mn(n),d&512&&s!==null&&Wt(s,s.return),n.flags&32){var p=n.stateNode;try{to(p,"")}catch(Q){ke(n,n.return,Q)}}if(d&4&&(p=n.stateNode,p!=null)){var g=n.memoizedProps,T=s!==null?s.memoizedProps:g,_=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&Dl(p,g),vi(_,T);var P=vi(_,g);for(T=0;T<C.length;T+=2){var F=C[T],V=C[T+1];F==="style"?zl(p,V):F==="dangerouslySetInnerHTML"?ql(p,V):F==="children"?to(p,V):H(p,F,V,P)}switch(_){case"input":pi(p,g);break;case"textarea":Fl(p,g);break;case"select":var D=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var $=g.value;$!=null?Ct(p,!!g.multiple,$,!1):D!==!!g.multiple&&(g.defaultValue!=null?Ct(p,!!g.multiple,g.defaultValue,!0):Ct(p,!!g.multiple,g.multiple?[]:"",!1))}p[wo]=g}catch(Q){ke(n,n.return,Q)}}break;case 6:if(In(o,n),Mn(n),d&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,g=n.memoizedProps;try{p.nodeValue=g}catch(Q){ke(n,n.return,Q)}}break;case 3:if(In(o,n),Mn(n),d&4&&s!==null&&s.memoizedState.isDehydrated)try{mo(o.containerInfo)}catch(Q){ke(n,n.return,Q)}break;case 4:In(o,n),Mn(n);break;case 13:In(o,n),Mn(n),p=n.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Ws=Le())),d&4&&rd(n);break;case 22:if(F=s!==null&&s.memoizedState!==null,n.mode&1?(Ke=(P=Ke)||F,In(o,n),Ke=P):In(o,n),Mn(n),d&8192){if(P=n.memoizedState!==null,(n.stateNode.isHidden=P)&&!F&&(n.mode&1)!==0)for(O=n,F=n.child;F!==null;){for(V=O=F;O!==null;){switch(D=O,$=D.child,D.tag){case 0:case 11:case 14:case 15:Fo(4,D,D.return);break;case 1:Wt(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){d=D,s=D.return;try{o=d,K.props=o.memoizedProps,K.state=o.memoizedState,K.componentWillUnmount()}catch(Q){ke(d,s,Q)}}break;case 5:Wt(D,D.return);break;case 22:if(D.memoizedState!==null){ud(V);continue}}$!==null?($.return=D,O=$):ud(V)}F=F.sibling}e:for(F=null,V=n;;){if(V.tag===5){if(F===null){F=V;try{p=V.stateNode,P?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=V.stateNode,C=V.memoizedProps.style,T=C!=null&&C.hasOwnProperty("display")?C.display:null,_.style.display=Hl("display",T))}catch(Q){ke(n,n.return,Q)}}}else if(V.tag===6){if(F===null)try{V.stateNode.nodeValue=P?"":V.memoizedProps}catch(Q){ke(n,n.return,Q)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===n)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===n)break e;for(;V.sibling===null;){if(V.return===null||V.return===n)break e;F===V&&(F=null),V=V.return}F===V&&(F=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:In(o,n),Mn(n),d&4&&rd(n);break;case 21:break;default:In(o,n),Mn(n)}}function Mn(n){var o=n.flags;if(o&2){try{e:{for(var s=n.return;s!==null;){if(nd(s)){var d=s;break e}s=s.return}throw Error(r(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(to(p,""),d.flags&=-33);var g=td(n);zs(n,g,p);break;case 3:case 4:var T=d.stateNode.containerInfo,_=td(n);Hs(n,_,T);break;default:throw Error(r(161))}}catch(C){ke(n,n.return,C)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Tm(n,o,s){O=n,sd(n)}function sd(n,o,s){for(var d=(n.mode&1)!==0;O!==null;){var p=O,g=p.child;if(p.tag===22&&d){var T=p.memoizedState!==null||Fr;if(!T){var _=p.alternate,C=_!==null&&_.memoizedState!==null||Ke;_=Fr;var P=Ke;if(Fr=T,(Ke=C)&&!P)for(O=p;O!==null;)T=O,C=T.child,T.tag===22&&T.memoizedState!==null?ad(p):C!==null?(C.return=T,O=C):ad(p);for(;g!==null;)O=g,sd(g),g=g.sibling;O=p,Fr=_,Ke=P}ld(n)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,O=g):ld(n)}}function ld(n){for(;O!==null;){var o=O;if((o.flags&8772)!==0){var s=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ke||Vr(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ke)if(s===null)d.componentDidMount();else{var p=o.elementType===o.type?s.memoizedProps:_n(o.type,s.memoizedProps);d.componentDidUpdate(p,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&ua(o,g,d);break;case 3:var T=o.updateQueue;if(T!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ua(o,T,s)}break;case 5:var _=o.stateNode;if(s===null&&o.flags&4){s=_;var C=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var P=o.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var V=F.dehydrated;V!==null&&mo(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ke||o.flags&512&&qs(o)}catch(D){ke(o,o.return,D)}}if(o===n){O=null;break}if(s=o.sibling,s!==null){s.return=o.return,O=s;break}O=o.return}}function ud(n){for(;O!==null;){var o=O;if(o===n){O=null;break}var s=o.sibling;if(s!==null){s.return=o.return,O=s;break}O=o.return}}function ad(n){for(;O!==null;){var o=O;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Vr(4,o)}catch(C){ke(o,s,C)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(C){ke(o,p,C)}}var g=o.return;try{qs(o)}catch(C){ke(o,g,C)}break;case 5:var T=o.return;try{qs(o)}catch(C){ke(o,T,C)}}}catch(C){ke(o,o.return,C)}if(o===n){O=null;break}var _=o.sibling;if(_!==null){_.return=o.return,O=_;break}O=o.return}}var Em=Math.ceil,Gr=W.ReactCurrentDispatcher,Bs=W.ReactCurrentOwner,gn=W.ReactCurrentBatchConfig,de=0,ze=null,Ve=null,We=0,cn=0,$t=Xn(0),qe=0,Vo=null,yt=0,qr=0,Js=0,Go=null,tn=null,Ws=0,Ot=1/0,qn=null,Hr=!1,$s=null,tt=null,zr=!1,ot=null,Br=0,qo=0,Os=null,Jr=-1,Wr=0;function Ze(){return(de&6)!==0?Le():Jr!==-1?Jr:Jr=Le()}function rt(n){return(n.mode&1)===0?1:(de&2)!==0&&We!==0?We&-We:om.transition!==null?(Wr===0&&(Wr=tu()),Wr):(n=ve,n!==0||(n=window.event,n=n===void 0?16:cu(n.type)),n)}function wn(n,o,s,d){if(50<qo)throw qo=0,Os=null,Error(r(185));uo(n,s,d),((de&2)===0||n!==ze)&&(n===ze&&((de&2)===0&&(qr|=s),qe===4&&it(n,We)),on(n,d),s===1&&de===0&&(o.mode&1)===0&&(Ot=Le()+500,vr&&bn()))}function on(n,o){var s=n.callbackNode;op(n,o);var d=jo(n,n===ze?We:0);if(d===0)s!==null&&jl(s),n.callbackNode=null,n.callbackPriority=0;else if(o=d&-d,n.callbackPriority!==o){if(s!=null&&jl(s),o===1)n.tag===0?tm(cd.bind(null,n)):Xu(cd.bind(null,n)),bp(function(){(de&6)===0&&bn()}),s=null;else{switch(ou(d)){case 1:s=wi;break;case 4:s=eu;break;case 16:s=Qo;break;case 536870912:s=nu;break;default:s=Qo}s=Td(s,dd.bind(null,n))}n.callbackPriority=o,n.callbackNode=s}}function dd(n,o){if(Jr=-1,Wr=0,(de&6)!==0)throw Error(r(327));var s=n.callbackNode;if(Yt()&&n.callbackNode!==s)return null;var d=jo(n,n===ze?We:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||o)o=$r(n,d);else{o=d;var p=de;de|=2;var g=pd();(ze!==n||We!==o)&&(qn=null,Ot=Le()+500,Tt(n,o));do try{Cm();break}catch(_){fd(n,_)}while(!0);ds(),Gr.current=g,de=p,Ve!==null?o=0:(ze=null,We=0,o=qe)}if(o!==0){if(o===2&&(p=Ai(n),p!==0&&(d=p,o=Ys(n,p))),o===1)throw s=Vo,Tt(n,0),it(n,d),on(n,Le()),s;if(o===6)it(n,d);else{if(p=n.current.alternate,(d&30)===0&&!Sm(p)&&(o=$r(n,d),o===2&&(g=Ai(n),g!==0&&(d=g,o=Ys(n,g))),o===1))throw s=Vo,Tt(n,0),it(n,d),on(n,Le()),s;switch(n.finishedWork=p,n.finishedLanes=d,o){case 0:case 1:throw Error(r(345));case 2:Et(n,tn,qn);break;case 3:if(it(n,d),(d&130023424)===d&&(o=Ws+500-Le(),10<o)){if(jo(n,0)!==0)break;if(p=n.suspendedLanes,(p&d)!==d){Ze(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=ji(Et.bind(null,n,tn,qn),o);break}Et(n,tn,qn);break;case 4:if(it(n,d),(d&4194240)===d)break;for(o=n.eventTimes,p=-1;0<d;){var T=31-Tn(d);g=1<<T,T=o[T],T>p&&(p=T),d&=~g}if(d=p,d=Le()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Em(d/1960))-d,10<d){n.timeoutHandle=ji(Et.bind(null,n,tn,qn),d);break}Et(n,tn,qn);break;case 5:Et(n,tn,qn);break;default:throw Error(r(329))}}}return on(n,Le()),n.callbackNode===s?dd.bind(null,n):null}function Ys(n,o){var s=Go;return n.current.memoizedState.isDehydrated&&(Tt(n,o).flags|=256),n=$r(n,o),n!==2&&(o=tn,tn=s,o!==null&&Ks(o)),n}function Ks(n){tn===null?tn=n:tn.push.apply(tn,n)}function Sm(n){for(var o=n;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var p=s[d],g=p.getSnapshot;p=p.value;try{if(!En(g(),p))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function it(n,o){for(o&=~Js,o&=~qr,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var s=31-Tn(o),d=1<<s;n[s]=-1,o&=~d}}function cd(n){if((de&6)!==0)throw Error(r(327));Yt();var o=jo(n,0);if((o&1)===0)return on(n,Le()),null;var s=$r(n,o);if(n.tag!==0&&s===2){var d=Ai(n);d!==0&&(o=d,s=Ys(n,d))}if(s===1)throw s=Vo,Tt(n,0),it(n,o),on(n,Le()),s;if(s===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Et(n,tn,qn),on(n,Le()),null}function Qs(n,o){var s=de;de|=1;try{return n(o)}finally{de=s,de===0&&(Ot=Le()+500,vr&&bn())}}function vt(n){ot!==null&&ot.tag===0&&(de&6)===0&&Yt();var o=de;de|=1;var s=gn.transition,d=ve;try{if(gn.transition=null,ve=1,n)return n()}finally{ve=d,gn.transition=s,de=o,(de&6)===0&&bn()}}function Xs(){cn=$t.current,Ie($t)}function Tt(n,o){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==-1&&(n.timeoutHandle=-1,Zp(s)),Ve!==null)for(s=Ve.return;s!==null;){var d=s;switch(is(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gr();break;case 3:Bt(),Ie(je),Ie($e),vs();break;case 5:gs(d);break;case 4:Bt();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:cs(d.type._context);break;case 22:case 23:Xs()}s=s.return}if(ze=n,Ve=n=st(n.current,null),We=cn=o,qe=0,Vo=null,Js=qr=yt=0,tn=Go=null,mt!==null){for(o=0;o<mt.length;o++)if(s=mt[o],d=s.interleaved,d!==null){s.interleaved=null;var p=d.next,g=s.pending;if(g!==null){var T=g.next;g.next=p,d.next=T}s.pending=d}mt=null}return n}function fd(n,o){do{var s=Ve;try{if(ds(),Nr.current=kr,Rr){for(var d=Me.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Rr=!1}if(gt=0,He=Ge=Me=null,Mo=!1,ko=0,Bs.current=null,s===null||s.return===null){qe=1,Vo=o,Ve=null;break}e:{var g=n,T=s.return,_=s,C=o;if(o=We,_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=C,F=_,V=F.tag;if((F.mode&1)===0&&(V===0||V===11||V===15)){var D=F.alternate;D?(F.updateQueue=D.updateQueue,F.memoizedState=D.memoizedState,F.lanes=D.lanes):(F.updateQueue=null,F.memoizedState=null)}var $=Va(T);if($!==null){$.flags&=-257,Ga($,T,_,g,o),$.mode&1&&Fa(g,P,o),o=$,C=P;var K=o.updateQueue;if(K===null){var Q=new Set;Q.add(C),o.updateQueue=Q}else K.add(C);break e}else{if((o&1)===0){Fa(g,P,o),Zs();break e}C=Error(r(426))}}else if(Re&&_.mode&1){var Ue=Va(T);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Ga(Ue,T,_,g,o),us(Jt(C,_));break e}}g=C=Jt(C,_),qe!==4&&(qe=2),Go===null?Go=[g]:Go.push(g),g=T;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var N=La(g,C,o);la(g,N);break e;case 1:_=C;var w=g.type,R=g.stateNode;if((g.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(tt===null||!tt.has(R)))){g.flags|=65536,o&=-o,g.lanes|=o;var q=Ua(g,_,o);la(g,q);break e}}g=g.return}while(g!==null)}hd(s)}catch(X){o=X,Ve===s&&s!==null&&(Ve=s=s.return);continue}break}while(!0)}function pd(){var n=Gr.current;return Gr.current=kr,n===null?kr:n}function Zs(){(qe===0||qe===3||qe===2)&&(qe=4),ze===null||(yt&268435455)===0&&(qr&268435455)===0||it(ze,We)}function $r(n,o){var s=de;de|=2;var d=pd();(ze!==n||We!==o)&&(qn=null,Tt(n,o));do try{_m();break}catch(p){fd(n,p)}while(!0);if(ds(),de=s,Gr.current=d,Ve!==null)throw Error(r(261));return ze=null,We=0,qe}function _m(){for(;Ve!==null;)md(Ve)}function Cm(){for(;Ve!==null&&!Kf();)md(Ve)}function md(n){var o=vd(n.alternate,n,cn);n.memoizedProps=n.pendingProps,o===null?hd(n):Ve=o,Bs.current=null}function hd(n){var o=n;do{var s=o.alternate;if(n=o.return,(o.flags&32768)===0){if(s=hm(s,o,cn),s!==null){Ve=s;return}}else{if(s=gm(s,o),s!==null){s.flags&=32767,Ve=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{qe=6,Ve=null;return}}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=n}while(o!==null);qe===0&&(qe=5)}function Et(n,o,s){var d=ve,p=gn.transition;try{gn.transition=null,ve=1,Im(n,o,s,d)}finally{gn.transition=p,ve=d}return null}function Im(n,o,s,d){do Yt();while(ot!==null);if((de&6)!==0)throw Error(r(327));s=n.finishedWork;var p=n.finishedLanes;if(s===null)return null;if(n.finishedWork=null,n.finishedLanes=0,s===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=s.lanes|s.childLanes;if(rp(n,g),n===ze&&(Ve=ze=null,We=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||zr||(zr=!0,Td(Qo,function(){return Yt(),null})),g=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||g){g=gn.transition,gn.transition=null;var T=ve;ve=1;var _=de;de|=4,Bs.current=null,vm(n,s),id(s,n),Wp(Zi),tr=!!Xi,Zi=Xi=null,n.current=s,Tm(s),Qf(),de=_,ve=T,gn.transition=g}else n.current=s;if(zr&&(zr=!1,ot=n,Br=p),g=n.pendingLanes,g===0&&(tt=null),bf(s.stateNode),on(n,Le()),o!==null)for(d=n.onRecoverableError,s=0;s<o.length;s++)p=o[s],d(p.value,{componentStack:p.stack,digest:p.digest});if(Hr)throw Hr=!1,n=$s,$s=null,n;return(Br&1)!==0&&n.tag!==0&&Yt(),g=n.pendingLanes,(g&1)!==0?n===Os?qo++:(qo=0,Os=n):qo=0,bn(),null}function Yt(){if(ot!==null){var n=ou(Br),o=gn.transition,s=ve;try{if(gn.transition=null,ve=16>n?16:n,ot===null)var d=!1;else{if(n=ot,ot=null,Br=0,(de&6)!==0)throw Error(r(331));var p=de;for(de|=4,O=n.current;O!==null;){var g=O,T=g.child;if((O.flags&16)!==0){var _=g.deletions;if(_!==null){for(var C=0;C<_.length;C++){var P=_[C];for(O=P;O!==null;){var F=O;switch(F.tag){case 0:case 11:case 15:Fo(8,F,g)}var V=F.child;if(V!==null)V.return=F,O=V;else for(;O!==null;){F=O;var D=F.sibling,$=F.return;if(ed(F),F===P){O=null;break}if(D!==null){D.return=$,O=D;break}O=$}}}var K=g.alternate;if(K!==null){var Q=K.child;if(Q!==null){K.child=null;do{var Ue=Q.sibling;Q.sibling=null,Q=Ue}while(Q!==null)}}O=g}}if((g.subtreeFlags&2064)!==0&&T!==null)T.return=g,O=T;else e:for(;O!==null;){if(g=O,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Fo(9,g,g.return)}var N=g.sibling;if(N!==null){N.return=g.return,O=N;break e}O=g.return}}var w=n.current;for(O=w;O!==null;){T=O;var R=T.child;if((T.subtreeFlags&2064)!==0&&R!==null)R.return=T,O=R;else e:for(T=w;O!==null;){if(_=O,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Vr(9,_)}}catch(X){ke(_,_.return,X)}if(_===T){O=null;break e}var q=_.sibling;if(q!==null){q.return=_.return,O=q;break e}O=_.return}}if(de=p,bn(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Xo,n)}catch{}d=!0}return d}finally{ve=s,gn.transition=o}}return!1}function gd(n,o,s){o=Jt(s,o),o=La(n,o,1),n=et(n,o,1),o=Ze(),n!==null&&(uo(n,1,o),on(n,o))}function ke(n,o,s){if(n.tag===3)gd(n,n,s);else for(;o!==null;){if(o.tag===3){gd(o,n,s);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(tt===null||!tt.has(d))){n=Jt(s,n),n=Ua(o,n,1),o=et(o,n,1),n=Ze(),o!==null&&(uo(o,1,n),on(o,n));break}}o=o.return}}function wm(n,o,s){var d=n.pingCache;d!==null&&d.delete(o),o=Ze(),n.pingedLanes|=n.suspendedLanes&s,ze===n&&(We&s)===s&&(qe===4||qe===3&&(We&130023424)===We&&500>Le()-Ws?Tt(n,0):Js|=s),on(n,o)}function yd(n,o){o===0&&((n.mode&1)===0?o=1:(o=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var s=Ze();n=Fn(n,o),n!==null&&(uo(n,o,s),on(n,s))}function Am(n){var o=n.memoizedState,s=0;o!==null&&(s=o.retryLane),yd(n,s)}function xm(n,o){var s=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(o),yd(n,s)}var vd;vd=function(n,o,s){if(n!==null)if(n.memoizedProps!==o.pendingProps||je.current)nn=!0;else{if((n.lanes&s)===0&&(o.flags&128)===0)return nn=!1,mm(n,o,s);nn=(n.flags&131072)!==0}else nn=!1,Re&&(o.flags&1048576)!==0&&Zu(o,Er,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Ur(n,o),n=o.pendingProps;var p=Ut(o,$e.current);zt(o,s),p=Ss(null,o,d,n,p,s);var g=_s();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,en(d)?(g=!0,yr(o)):g=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ms(o),p.updater=Dr,o.stateNode=p,p._reactInternals=o,Ns(o,d,n,s),o=ks(null,o,d,!0,g,s)):(o.tag=0,Re&&g&&rs(o),Xe(null,o,p,s),o=o.child),o;case 16:d=o.elementType;e:{switch(Ur(n,o),n=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=Rm(d),n=_n(d,n),p){case 0:o=Ms(null,o,d,n,s);break e;case 1:o=Wa(null,o,d,n,s);break e;case 11:o=qa(null,o,d,n,s);break e;case 14:o=Ha(null,o,d,_n(d.type,n),s);break e}throw Error(r(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:_n(d,p),Ms(n,o,d,p,s);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:_n(d,p),Wa(n,o,d,p,s);case 3:e:{if($a(o),n===null)throw Error(r(387));d=o.pendingProps,g=o.memoizedState,p=g.element,sa(n,o),Ar(o,d,null,s);var T=o.memoizedState;if(d=T.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){p=Jt(Error(r(423)),o),o=Oa(n,o,d,s,p);break e}else if(d!==p){p=Jt(Error(r(424)),o),o=Oa(n,o,d,s,p);break e}else for(dn=Qn(o.stateNode.containerInfo.firstChild),an=o,Re=!0,Sn=null,s=ra(o,null,d,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Gt(),d===p){o=Gn(n,o,s);break e}Xe(n,o,d,s)}o=o.child}return o;case 5:return aa(o),n===null&&ls(o),d=o.type,p=o.pendingProps,g=n!==null?n.memoizedProps:null,T=p.children,bi(d,p)?T=null:g!==null&&bi(d,g)&&(o.flags|=32),Ja(n,o),Xe(n,o,T,s),o.child;case 6:return n===null&&ls(o),null;case 13:return Ya(n,o,s);case 4:return hs(o,o.stateNode.containerInfo),d=o.pendingProps,n===null?o.child=qt(o,null,d,s):Xe(n,o,d,s),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:_n(d,p),qa(n,o,d,p,s);case 7:return Xe(n,o,o.pendingProps,s),o.child;case 8:return Xe(n,o,o.pendingProps.children,s),o.child;case 12:return Xe(n,o,o.pendingProps.children,s),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,g=o.memoizedProps,T=p.value,_e(Cr,d._currentValue),d._currentValue=T,g!==null)if(En(g.value,T)){if(g.children===p.children&&!je.current){o=Gn(n,o,s);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var _=g.dependencies;if(_!==null){T=g.child;for(var C=_.firstContext;C!==null;){if(C.context===d){if(g.tag===1){C=Vn(-1,s&-s),C.tag=2;var P=g.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?C.next=C:(C.next=F.next,F.next=C),P.pending=C}}g.lanes|=s,C=g.alternate,C!==null&&(C.lanes|=s),fs(g.return,s,o),_.lanes|=s;break}C=C.next}}else if(g.tag===10)T=g.type===o.type?null:g.child;else if(g.tag===18){if(T=g.return,T===null)throw Error(r(341));T.lanes|=s,_=T.alternate,_!==null&&(_.lanes|=s),fs(T,s,o),T=g.sibling}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===o){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}Xe(n,o,p.children,s),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,zt(o,s),p=mn(p),d=d(p),o.flags|=1,Xe(n,o,d,s),o.child;case 14:return d=o.type,p=_n(d,o.pendingProps),p=_n(d.type,p),Ha(n,o,d,p,s);case 15:return za(n,o,o.type,o.pendingProps,s);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:_n(d,p),Ur(n,o),o.tag=1,en(d)?(n=!0,yr(o)):n=!1,zt(o,s),ka(o,d,p),Ns(o,d,p,s),ks(null,o,d,!0,n,s);case 19:return Qa(n,o,s);case 22:return Ba(n,o,s)}throw Error(r(156,o.tag))};function Td(n,o){return bl(n,o)}function Nm(n,o,s,d){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,o,s,d){return new Nm(n,o,s,d)}function bs(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Rm(n){if(typeof n=="function")return bs(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ae)return 11;if(n===sn)return 14}return 2}function st(n,o){var s=n.alternate;return s===null?(s=yn(n.tag,o,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=o,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,o=n.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}function Or(n,o,s,d,p,g){var T=2;if(d=n,typeof n=="function")bs(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case oe:return St(s.children,p,g,o);case he:T=8,p|=8;break;case j:return n=yn(12,s,o,p|2),n.elementType=j,n.lanes=g,n;case Ae:return n=yn(13,s,o,p),n.elementType=Ae,n.lanes=g,n;case be:return n=yn(19,s,o,p),n.elementType=be,n.lanes=g,n;case Ee:return Yr(s,p,g,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:T=10;break e;case Te:T=9;break e;case ae:T=11;break e;case sn:T=14;break e;case xe:T=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return o=yn(T,s,o,p),o.elementType=n,o.type=d,o.lanes=g,o}function St(n,o,s,d){return n=yn(7,n,d,o),n.lanes=s,n}function Yr(n,o,s,d){return n=yn(22,n,d,o),n.elementType=Ee,n.lanes=s,n.stateNode={isHidden:!1},n}function js(n,o,s){return n=yn(6,n,null,o),n.lanes=s,n}function el(n,o,s){return o=yn(4,n.children!==null?n.children:[],n.key,o),o.lanes=s,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Pm(n,o,s,d,p){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function nl(n,o,s,d,p,g,T,_,C){return n=new Pm(n,o,s,_,C),o===1?(o=1,g===!0&&(o|=8)):o=0,g=yn(3,null,null,o),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ms(g),n}function Mm(n,o,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:d==null?null:""+d,children:n,containerInfo:o,implementation:s}}function Ed(n){if(!n)return Zn;n=n._reactInternals;e:{if(at(n)!==n||n.tag!==1)throw Error(r(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(n.tag===1){var s=n.type;if(en(s))return Ku(n,s,o)}return o}function Sd(n,o,s,d,p,g,T,_,C){return n=nl(s,d,!0,n,p,g,T,_,C),n.context=Ed(null),s=n.current,d=Ze(),p=rt(s),g=Vn(d,p),g.callback=o??null,et(s,g,p),n.current.lanes=p,uo(n,p,d),on(n,d),n}function Kr(n,o,s,d){var p=o.current,g=Ze(),T=rt(p);return s=Ed(s),o.context===null?o.context=s:o.pendingContext=s,o=Vn(g,T),o.payload={element:n},d=d===void 0?null:d,d!==null&&(o.callback=d),n=et(p,o,T),n!==null&&(wn(n,p,T,g),wr(n,p,T)),T}function Qr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function _d(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<o?s:o}}function tl(n,o){_d(n,o),(n=n.alternate)&&_d(n,o)}function km(){return null}var Cd=typeof reportError=="function"?reportError:function(n){console.error(n)};function ol(n){this._internalRoot=n}Xr.prototype.render=ol.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));Kr(n,o,null,null)},Xr.prototype.unmount=ol.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;vt(function(){Kr(null,n,null,null)}),o[kn]=null}};function Xr(n){this._internalRoot=n}Xr.prototype.unstable_scheduleHydration=function(n){if(n){var o=su();n={blockedOn:null,target:n,priority:o};for(var s=0;s<On.length&&o!==0&&o<On[s].priority;s++);On.splice(s,0,n),s===0&&au(n)}};function rl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zr(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Id(){}function Dm(n,o,s,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var P=Qr(T);g.call(P)}}var T=Sd(o,d,n,0,null,!1,!1,"",Id);return n._reactRootContainer=T,n[kn]=T.current,Co(n.nodeType===8?n.parentNode:n),vt(),T}for(;p=n.lastChild;)n.removeChild(p);if(typeof d=="function"){var _=d;d=function(){var P=Qr(C);_.call(P)}}var C=nl(n,0,!1,null,null,!1,!1,"",Id);return n._reactRootContainer=C,n[kn]=C.current,Co(n.nodeType===8?n.parentNode:n),vt(function(){Kr(o,C,s,d)}),C}function br(n,o,s,d,p){var g=s._reactRootContainer;if(g){var T=g;if(typeof p=="function"){var _=p;p=function(){var C=Qr(T);_.call(C)}}Kr(o,T,n,p)}else T=Dm(s,o,n,p,d);return Qr(T)}ru=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var s=lo(o.pendingLanes);s!==0&&(Ni(o,s|1),on(o,Le()),(de&6)===0&&(Ot=Le()+500,bn()))}break;case 13:vt(function(){var d=Fn(n,1);if(d!==null){var p=Ze();wn(d,n,1,p)}}),tl(n,1)}},Ri=function(n){if(n.tag===13){var o=Fn(n,134217728);if(o!==null){var s=Ze();wn(o,n,134217728,s)}tl(n,134217728)}},iu=function(n){if(n.tag===13){var o=rt(n),s=Fn(n,o);if(s!==null){var d=Ze();wn(s,n,o,d)}tl(n,o)}},su=function(){return ve},lu=function(n,o){var s=ve;try{return ve=n,o()}finally{ve=s}},Si=function(n,o,s){switch(o){case"input":if(pi(n,s),o=s.name,s.type==="radio"&&o!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var d=s[o];if(d!==n&&d.form===n.form){var p=hr(d);if(!p)throw Error(r(90));Ml(d),pi(d,p)}}}break;case"textarea":Fl(n,s);break;case"select":o=s.value,o!=null&&Ct(n,!!s.multiple,o,!1)}},$l=Qs,Ol=vt;var Lm={usingClientEntryPoint:!1,Events:[Ao,Dt,hr,Jl,Wl,Qs]},Ho={findFiberByHostInstance:dt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Um={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xl(n),n===null?null:n.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||km,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{Xo=jr.inject(Um),xn=jr}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lm,rn.createPortal=function(n,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rl(o))throw Error(r(200));return Mm(n,o,null,s)},rn.createRoot=function(n,o){if(!rl(n))throw Error(r(299));var s=!1,d="",p=Cd;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=nl(n,1,!1,null,null,s,!1,d,p),n[kn]=o.current,Co(n.nodeType===8?n.parentNode:n),new ol(o)},rn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Xl(o),n=n===null?null:n.stateNode,n},rn.flushSync=function(n){return vt(n)},rn.hydrate=function(n,o,s){if(!Zr(o))throw Error(r(200));return br(null,n,o,!0,s)},rn.hydrateRoot=function(n,o,s){if(!rl(n))throw Error(r(405));var d=s!=null&&s.hydratedSources||null,p=!1,g="",T=Cd;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),o=Sd(o,null,n,1,s??null,p,!1,g,T),n[kn]=o.current,Co(n),d)for(n=0;n<d.length;n++)s=d[n],p=s._getVersion,p=p(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,p]:o.mutableSourceEagerHydrationData.push(s,p);return new Xr(o)},rn.render=function(n,o,s){if(!Zr(o))throw Error(r(200));return br(null,n,o,!1,s)},rn.unmountComponentAtNode=function(n){if(!Zr(n))throw Error(r(40));return n._reactRootContainer?(vt(function(){br(null,null,n,!1,function(){n._reactRootContainer=null,n[kn]=null})}),!0):!1},rn.unstable_batchedUpdates=Qs,rn.unstable_renderSubtreeIntoContainer=function(n,o,s,d){if(!Zr(s))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return br(n,o,s,!1,d)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var kd;function Wm(){if(kd)return ll.exports;kd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ll.exports=Jm(),ll.exports}var Dd;function $m(){if(Dd)return ei;Dd=1;var t=Wm();return ei.createRoot=t.createRoot,ei.hydrateRoot=t.hydrateRoot,ei}var Om=$m();const Ym=uf(Om);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Km={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(t,e)=>{const r=ge.forwardRef(({color:i="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:m="",children:y,...h},v)=>ge.createElement("svg",{ref:v,...Km,width:u,height:u,stroke:i,strokeWidth:f?Number(c)*24/Number(u):c,className:["lucide",`lucide-${Qm(t)}`,m].join(" "),...h},[...e.map(([E,S])=>ge.createElement(E,S)),...Array.isArray(y)?y:[y]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Fe("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Fe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Fe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ch=({currentView:t,setView:e})=>{const r=[{id:"wardrobe",icon:dh,label:"Closet"},{id:"scan",icon:af,label:"Scan"},{id:"outfits",icon:df,label:"Looks"},{id:"chat",icon:oh,label:"Ask AI"}];return A.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-20 bg-surface/90 backdrop-blur-lg border-t border-zinc-800 flex items-center justify-around px-2 z-50 pb-safe",children:r.map(i=>{const u=t===i.id,c=i.icon;return A.jsxs("button",{onClick:()=>e(i.id),className:`flex flex-col items-center justify-center w-16 h-16 rounded-2xl transition-all duration-300 ${u?"text-indigo-400 -translate-y-2":"text-zinc-500 hover:text-zinc-300"}`,children:[A.jsx("div",{className:`p-2 rounded-xl transition-all ${u?"bg-indigo-500/10":"bg-transparent"}`,children:A.jsx(c,{size:u?24:22,strokeWidth:u?2.5:2})}),A.jsx("span",{className:`text-[10px] font-medium mt-1 ${u?"opacity-100":"opacity-70"}`,children:i.label})]},i.id)})})};var Sl=(t=>(t.TOP="Top",t.BOTTOM="Bottom",t.SHOES="Shoes",t.OUTERWEAR="Outerwear",t.ACCESSORY="Accessory",t.ONE_PIECE="One-Piece",t.UNKNOWN="Unknown",t))(Sl||{}),ff=(t=>(t.SUMMER="Summer",t.WINTER="Winter",t.SPRING="Spring",t.FALL="Fall",t.ALL_SEASON="All Season",t))(ff||{});const fh=({items:t,onDelete:e})=>{const[r,i]=ge.useState("All"),[u,c]=ge.useState(null),f=ge.useMemo(()=>r==="All"?t:t.filter(m=>m.category===r),[t,r]);return t.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 text-zinc-500",children:[A.jsx("div",{className:"w-20 h-20 bg-zinc-900 rounded-full flex items-center justify-center mb-4",children:A.jsx(lh,{size:32,className:"opacity-50"})}),A.jsx("h3",{className:"text-xl font-semibold text-zinc-300 mb-2",children:"Closet Empty"}),A.jsx("p",{className:"max-w-xs",children:"Start by scanning your clothes to build your digital wardrobe."})]}):A.jsxs("div",{className:"h-full flex flex-col p-4 pb-24 overflow-hidden relative",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white",children:["My Wardrobe ",A.jsxs("span",{className:"text-zinc-600 text-lg font-normal ml-2",children:[t.length," items"]})]}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:r,onChange:m=>i(m.target.value),className:"appearance-none bg-zinc-900 text-sm text-zinc-300 pl-9 pr-4 py-2 rounded-lg border border-zinc-800 focus:outline-none focus:border-indigo-500",children:[A.jsx("option",{value:"All",children:"All Items"}),Object.values(Sl).map(m=>A.jsx("option",{value:m,children:m},m))]}),A.jsx(th,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 pointer-events-none"})]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar grid grid-cols-2 gap-4 pb-20",children:f.map(m=>A.jsxs("div",{onClick:()=>c(m),className:"group relative bg-surface rounded-2xl overflow-hidden border border-zinc-800 shadow-sm hover:shadow-md transition-all cursor-pointer active:scale-95",children:[A.jsxs("div",{className:"aspect-[4/5] w-full bg-zinc-900 relative",children:[A.jsx("img",{src:m.imageUrl,alt:m.type,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity"}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60"}),A.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[A.jsxs("p",{className:"text-white font-medium text-sm truncate",children:[m.color," ",m.type]}),A.jsx("p",{className:"text-zinc-400 text-xs",children:m.category})]})]}),A.jsx("button",{onClick:y=>{y.stopPropagation(),e(m.id)},className:"absolute top-2 right-2 p-2 bg-black/40 backdrop-blur rounded-full text-white/70 hover:bg-red-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:A.jsx(Ld,{size:14})})]},m.id))}),u&&A.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-fade-in",children:A.jsxs("div",{className:"bg-surface w-full max-h-[90%] rounded-3xl border border-zinc-700 shadow-2xl flex flex-col relative animate-fade-in-up overflow-hidden",children:[A.jsx("div",{className:"absolute top-4 right-4 z-20",children:A.jsx("button",{onClick:()=>c(null),className:"p-2 bg-black/50 backdrop-blur rounded-full text-white hover:bg-zinc-700 transition",children:A.jsx(El,{size:24})})}),A.jsxs("div",{className:"overflow-y-auto no-scrollbar flex-1",children:[A.jsx("div",{className:"w-full aspect-[4/3] bg-zinc-900 relative",children:A.jsx("img",{src:u.imageUrl,alt:u.type,className:"w-full h-full object-contain"})}),A.jsxs("div",{className:"p-6",children:[A.jsx("div",{className:"flex justify-between items-start mb-4",children:A.jsxs("div",{children:[A.jsxs("h3",{className:"text-2xl font-bold text-white capitalize",children:[u.color," ",u.type]}),A.jsx("span",{className:"text-sm text-indigo-400 uppercase font-bold tracking-wider",children:u.category})]})}),A.jsx("p",{className:"text-zinc-300 leading-relaxed mb-6",children:u.description}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-2 font-semibold",children:"Seasons"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:u.season.map(m=>A.jsx("span",{className:"px-3 py-1.5 bg-zinc-800 rounded-lg text-sm text-zinc-300 border border-zinc-700",children:m},m))})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-2 font-semibold",children:"Style Tags"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:u.tags.map(m=>A.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-500/10 text-indigo-300 rounded-lg text-sm border border-indigo-500/20",children:[A.jsx(cf,{size:12})," ",m]},m))})]})]}),A.jsxs("button",{onClick:()=>{confirm("Delete this item?")&&(e(u.id),c(null))},className:"w-full mt-8 py-3 bg-red-500/10 text-red-400 border border-red-500/20 rounded-xl font-semibold hover:bg-red-500/20 transition flex items-center justify-center gap-2",children:[A.jsx(Ld,{size:18})," Remove from Wardrobe"]})]})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ph,mh;function hh(){return{geminiUrl:ph,vertexUrl:mh}}function gh(t,e,r,i){var u,c;if(!(t!=null&&t.baseUrl)){const f=hh();return e?(u=f.vertexUrl)!==null&&u!==void 0?u:r:(c=f.geminiUrl)!==null&&c!==void 0?c:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn{}function B(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(i,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const c=e[u];return c!=null?String(c):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function a(t,e,r){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in t))if(Array.isArray(r))t[m]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[m])){const y=t[m];if(Array.isArray(r))for(let h=0;h<y.length;h++){const v=y[h];a(v,e.slice(c+1),r[h])}else for(const h of y)a(h,e.slice(c+1),r)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in t||(t[m]=[{}]);const y=t[m];a(y[0],e.slice(c+1),r);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const i=e[e.length-1],u=t[i];if(u!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===u)return;if(typeof u=="object"&&typeof r=="object"&&u!==null&&r!==null)Object.assign(u,r);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[i]=r}function l(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return r;const u=e[i];if(u.endsWith("[]")){const c=u.slice(0,-2);if(c in t){const f=t[c];return Array.isArray(f)?f.map(m=>l(m,e.slice(i+1),r)):r}else return r}else t=t[u]}return t}catch(i){if(i instanceof TypeError)return r;throw i}}function yh(t,e){for(const[r,i]of Object.entries(e)){const u=r.split("."),c=i.split("."),f=new Set;let m=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){m=y;break}if(m!==-1&&c.length>m)for(let y=m;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}dl(t,u,c,0,f)}}function dl(t,e,r,i,u){if(i>=e.length||typeof t!="object"||t===null)return;const c=e[i];if(c.endsWith("[]")){const f=c.slice(0,-2),m=t;if(f in m&&Array.isArray(m[f]))for(const y of m[f])dl(y,e,r,i+1,u)}else if(c==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,m=Object.keys(f).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of m)y[h]=f[h];for(const[h,v]of Object.entries(y)){const E=[];for(const S of r.slice(i))S==="*"?E.push(h):E.push(S);a(f,E,v)}for(const h of m)delete f[h]}}else{const f=t;c in f&&dl(f[c],e,r,i+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _l(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vh(t){const e={},r=l(t,["operationName"]);r!=null&&a(e,["operationName"],r);const i=l(t,["resourceName"]);return i!=null&&a(e,["_url","resourceName"],i),e}function Th(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&a(e,["response"],Sh(f)),e}function Eh(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],_h(f)),e}function Sh(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Ch(f))),a(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function _h(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Ih(f))),a(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function Ch(t){const e={},r=l(t,["video"]);return r!=null&&a(e,["video"],Ph(r)),e}function Ih(t){const e={},r=l(t,["_self"]);return r!=null&&a(e,["video"],Mh(r)),e}function wh(t){const e={},r=l(t,["operationName"]);return r!=null&&a(e,["_url","operationName"],r),e}function Ah(t){const e={},r=l(t,["operationName"]);return r!=null&&a(e,["_url","operationName"],r),e}function xh(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],Nh(f)),e}function Nh(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["parent"]);i!=null&&a(e,["parent"],i);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function pf(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],Rh(f)),e}function Rh(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["parent"]);i!=null&&a(e,["parent"],i);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function Ph(t){const e={},r=l(t,["uri"]);r!=null&&a(e,["uri"],r);const i=l(t,["encodedVideo"]);i!=null&&a(e,["videoBytes"],_l(i));const u=l(t,["encoding"]);return u!=null&&a(e,["mimeType"],u),e}function Mh(t){const e={},r=l(t,["gcsUri"]);r!=null&&a(e,["uri"],r);const i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],_l(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ud;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ud||(Ud={}));var Fd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Fd||(Fd={}));var Vd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Vd||(Vd={}));var De;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(De||(De={}));var Gd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Gd||(Gd={}));var qd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qd||(qd={}));var Hd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hd||(Hd={}));var zd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zd||(zd={}));var Bd;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bd||(Bd={}));var Jd;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Jd||(Jd={}));var Wd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wd||(Wd={}));var $d;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($d||($d={}));var Od;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Od||(Od={}));var Yd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Yd||(Yd={}));var Kd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Kd||(Kd={}));var Qd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qd||(Qd={}));var Xd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xd||(Xd={}));var Zd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Zd||(Zd={}));var bd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bd||(bd={}));var ri;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ri||(ri={}));var jd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jd||(jd={}));var ec;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ec||(ec={}));var nc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nc||(nc={}));var cl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cl||(cl={}));var tc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tc||(tc={}));var oc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oc||(oc={}));var rc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(rc||(rc={}));var ic;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ic||(ic={}));var sc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sc||(sc={}));var lc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lc||(lc={}));var uc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uc||(uc={}));var ac;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ac||(ac={}));var dc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dc||(dc={}));var cc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(cc||(cc={}));var fc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fc||(fc={}));var pc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pc||(pc={}));var mc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mc||(mc={}));var hc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hc||(hc={}));var gc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(gc||(gc={}));var yc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yc||(yc={}));var vc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(vc||(vc={}));var Tc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Tc||(Tc={}));var Ec;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ec||(Ec={}));var Sc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Sc||(Sc={}));var _c;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(_c||(_c={}));var Cc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Cc||(Cc={}));var Ic;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ic||(Ic={}));var wc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(wc||(wc={}));var Ac;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ac||(Ac={}));var xc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xc||(xc={}));var Nc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Nc||(Nc={}));var Rc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Rc||(Rc={}));var Pc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pc||(Pc={}));var Mc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Mc||(Mc={}));var Kt;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Kt||(Kt={}));class fl{constructor(e){const r={};for(const i of e.headers.entries())r[i[0]]=i[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bo{get text(){var e,r,i,u,c,f,m,y;if(((u=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const S of(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[I,M]of Object.entries(S))I!=="text"&&I!=="thought"&&I!=="thoughtSignature"&&(M!==null||M!==void 0)&&E.push(I);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,r,i,u,c,f,m,y;if(((u=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[S,I]of Object.entries(E))S!=="inlineData"&&(I!==null||I!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,r,i,u,c,f,m,y;if(((u=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,r,i,u,c,f,m,y,h;if(((u=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,r,i,u,c,f,m,y,h;if(((u=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class kc{}class Dc{}class kh{}class Dh{}class Lh{}class Uh{}class Lc{}class Uc{}class Fc{}class Fh{}class ii{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new ii;let u;const c=e;return r?u=Eh(c):u=Th(c),Object.assign(i,u),i}}class Vc{}class Gc{}class qc{}class Vh{}class Gh{}class qh{}class Cl{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new Cl,c=xh(e);return Object.assign(i,c),i}}class Hh{}class zh{}class Bh{}class Hc{}class Jh{get text(){var e,r,i;let u="",c=!1;const f=[];for(const m of(i=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&i!==void 0?i:[]){for(const[y,h]of Object.entries(m))y!=="text"&&y!=="thought"&&h!==null&&f.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,u+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,r,i;let u="";const c=[];for(const f of(i=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&i!==void 0?i:[]){for(const[m,y]of Object.entries(f))m!=="inlineData"&&y!==null&&c.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Wh{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Il{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new Il,c=pf(e);return Object.assign(i,c),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function me(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mf(t,e){const r=me(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function hf(t){return Array.isArray(t)?t.map(e=>si(e)):[si(t)]}function si(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function gf(t){const e=si(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yf(t){const e=si(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vf(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zc(e)):[zc(t)]}function pl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Bc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Jc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qe(t){if(t==null)throw new Error("ContentUnion is required");return pl(t)?t:{role:"user",parts:vf(t)}}function wl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const i=Qe(r);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const r=Qe(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Qe(r)):[Qe(e)]}function vn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Bc(t)||Jc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(t)]}const e=[],r=[],i=pl(t[0]);for(const u of t){const c=pl(u);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(u);else{if(Bc(u)||Jc(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(u)}}return i||e.push({role:"user",parts:vf(r)}),e}function $h(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(i=>i!=="null");if(r.length===1)e.type=Object.values(De).includes(r[0].toUpperCase())?r[0].toUpperCase():De.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of r)e.anyOf.push({type:Object.values(De).includes(i.toUpperCase())?i.toUpperCase():De.TYPE_UNSPECIFIED})}}function Qt(t){const e={},r=["items"],i=["anyOf"],u=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&$h(t.type,e);for(const[f,m]of Object.entries(t))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(De).includes(m.toUpperCase())?m.toUpperCase():De.TYPE_UNSPECIFIED}else if(r.includes(f))e[f]=Qt(m);else if(i.includes(f)){const y=[];for(const h of m){if(h.type=="null"){e.nullable=!0;continue}y.push(Qt(h))}e[f]=y}else if(u.includes(f)){const y={};for(const[h,v]of Object.entries(m))y[h]=Qt(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=m}return e}function Al(t){return Qt(t)}function xl(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nl(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bt(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Qt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Qt(e.response));return t}function jt(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function Oh(t,e,r,i=1){const u=!e.startsWith(`${r}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:u?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:u?`${r}/${e}`:e}function Bn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Oh(t,e,"cachedContents")}function Tf(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ut(t){return _l(t)}function Yh(t){return t!=null&&typeof t=="object"&&"name"in t}function Kh(t){return t!=null&&typeof t=="object"&&"video"in t}function Qh(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ef(t){var e;let r;if(Yh(t)&&(r=t.name),!(Qh(t)&&(r=t.uri,r===void 0))&&!(Kh(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const u=r.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${r}`);r=u[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Sf(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function _f(t){for(const e of["models","tunedModels","publisherModels"])if(Xh(t,e))return t[e];return[]}function Xh(t,e){return t!==null&&typeof t=="object"&&e in t}function Zh(t,e={}){const r=t,i={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(i.responseJsonSchema=r.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function bh(t,e={}){const r=[],i=new Set;for(const u of t){const c=u.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const f=Zh(u,e);f.functionDeclarations&&r.push(...f.functionDeclarations)}return{functionDeclarations:r}}function Cf(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const i=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,u=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(u>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function jh(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function If(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const u=r.inlinedResponses;if(!Array.isArray(u)||u.length===0)return t;let c=!1;for(const f of u){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function eo(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function wf(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eg(t){const e={},r=l(t,["responsesFile"]);r!=null&&a(e,["fileName"],r);const i=l(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Lg(f))),a(e,["inlinedResponses"],c)}const u=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["inlinedEmbedContentResponses"],c)}return e}function ng(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&a(e,["format"],r);const i=l(t,["gcsDestination","outputUriPrefix"]);i!=null&&a(e,["gcsUri"],i);const u=l(t,["bigqueryDestination","outputUri"]);return u!=null&&a(e,["bigqueryUri"],u),e}function tg(t){const e={},r=l(t,["format"]);r!=null&&a(e,["predictionsFormat"],r);const i=l(t,["gcsUri"]);i!=null&&a(e,["gcsDestination","outputUriPrefix"],i);const u=l(t,["bigqueryUri"]);if(u!=null&&a(e,["bigqueryDestination","outputUri"],u),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ni(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata","displayName"]);i!=null&&a(e,["displayName"],i);const u=l(t,["metadata","state"]);u!=null&&a(e,["state"],wf(u));const c=l(t,["metadata","createTime"]);c!=null&&a(e,["createTime"],c);const f=l(t,["metadata","endTime"]);f!=null&&a(e,["endTime"],f);const m=l(t,["metadata","updateTime"]);m!=null&&a(e,["updateTime"],m);const y=l(t,["metadata","model"]);y!=null&&a(e,["model"],y);const h=l(t,["metadata","output"]);return h!=null&&a(e,["dest"],eg(If(h))),e}function ml(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const u=l(t,["state"]);u!=null&&a(e,["state"],wf(u));const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["createTime"]);f!=null&&a(e,["createTime"],f);const m=l(t,["startTime"]);m!=null&&a(e,["startTime"],m);const y=l(t,["endTime"]);y!=null&&a(e,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(e,["updateTime"],h);const v=l(t,["model"]);v!=null&&a(e,["model"],v);const E=l(t,["inputConfig"]);E!=null&&a(e,["src"],og(E));const S=l(t,["outputConfig"]);S!=null&&a(e,["dest"],ng(If(S)));const I=l(t,["completionStats"]);return I!=null&&a(e,["completionStats"],I),e}function og(t){const e={},r=l(t,["instancesFormat"]);r!=null&&a(e,["format"],r);const i=l(t,["gcsSource","uris"]);i!=null&&a(e,["gcsUri"],i);const u=l(t,["bigquerySource","inputUri"]);return u!=null&&a(e,["bigqueryUri"],u),e}function rg(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&a(r,["fileName"],i);const u=l(e,["inlinedRequests"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>Dg(t,f))),a(r,["requests","requests"],c)}return r}function ig(t){const e={},r=l(t,["format"]);r!=null&&a(e,["instancesFormat"],r);const i=l(t,["gcsUri"]);i!=null&&a(e,["gcsSource","uris"],i);const u=l(t,["bigqueryUri"]);if(u!=null&&a(e,["bigquerySource","inputUri"],u),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sg(t){const e={},r=l(t,["data"]);if(r!=null&&a(e,["data"],r),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function lg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function ug(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function ag(t){const e={},r=l(t,["content"]);r!=null&&a(e,["content"],r);const i=l(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],dg(i));const u=l(t,["tokenCount"]);u!=null&&a(e,["tokenCount"],u);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&a(e,["avgLogprobs"],f);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const y=l(t,["index"]);y!=null&&a(e,["index"],y);const h=l(t,["logprobsResult"]);h!=null&&a(e,["logprobsResult"],h);const v=l(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(I=>I)),a(e,["safetyRatings"],S)}const E=l(t,["urlContextMetadata"]);return E!=null&&a(e,["urlContextMetadata"],E),e}function dg(t){const e={},r=l(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(u=>u)),a(e,["citations"],i)}return e}function Af(t){const e={},r=l(t,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>zg(c))),a(e,["parts"],u)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function cg(t,e){const r={},i=l(t,["displayName"]);if(e!==void 0&&i!=null&&a(e,["batch","displayName"],i),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function fg(t,e){const r={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const u=l(t,["dest"]);return e!==void 0&&u!=null&&a(e,["outputConfig"],tg(jh(u))),r}function Wc(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["src"]);u!=null&&a(r,["batch","inputConfig"],rg(t,Cf(t,u)));const c=l(e,["config"]);return c!=null&&cg(c,r),r}function pg(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["model"],me(t,i));const u=l(e,["src"]);u!=null&&a(r,["inputConfig"],ig(Cf(t,u)));const c=l(e,["config"]);return c!=null&&fg(c,r),r}function mg(t,e){const r={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&a(e,["batch","displayName"],i),r}function hg(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["src"]);u!=null&&a(r,["batch","inputConfig"],_g(t,u));const c=l(e,["config"]);return c!=null&&mg(c,r),r}function gg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function yg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function vg(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);return c!=null&&a(e,["error"],c),e}function Tg(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);return c!=null&&a(e,["error"],c),e}function Eg(t,e){const r={},i=l(e,["contents"]);if(i!=null){let c=wl(t,i);Array.isArray(c)&&(c=c.map(f=>f)),a(r,["requests[]","request","content"],c)}const u=l(e,["config"]);return u!=null&&(a(r,["_self"],Sg(u,r)),yh(r,{"requests[].*":"requests[].request.*"})),r}function Sg(t,e){const r={},i=l(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["requests[]","title"],u);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&a(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function _g(t,e){const r={},i=l(e,["fileName"]);i!=null&&a(r,["file_name"],i);const u=l(e,["inlinedRequests"]);return u!=null&&a(r,["requests"],Eg(t,u)),r}function Cg(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Ig(t){const e={},r=l(t,["id"]);r!=null&&a(e,["id"],r);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wg(t){const e={},r=l(t,["mode"]);r!=null&&a(e,["mode"],r);const i=l(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ag(t,e,r){const i={},u=l(e,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],Af(Qe(u)));const c=l(e,["temperature"]);c!=null&&a(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(i,["topP"],f);const m=l(e,["topK"]);m!=null&&a(i,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(i,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(i,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(i,["stopSequences"],v);const E=l(e,["responseLogprobs"]);E!=null&&a(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&a(i,["logprobs"],S);const I=l(e,["presencePenalty"]);I!=null&&a(i,["presencePenalty"],I);const M=l(e,["frequencyPenalty"]);M!=null&&a(i,["frequencyPenalty"],M);const k=l(e,["seed"]);k!=null&&a(i,["seed"],k);const G=l(e,["responseMimeType"]);G!=null&&a(i,["responseMimeType"],G);const L=l(e,["responseSchema"]);L!=null&&a(i,["responseSchema"],Al(L));const z=l(e,["responseJsonSchema"]);if(z!=null&&a(i,["responseJsonSchema"],z),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(r!==void 0&&H!=null){let ae=H;Array.isArray(ae)&&(ae=ae.map(Ae=>Bg(Ae))),a(r,["safetySettings"],ae)}const W=l(e,["tools"]);if(r!==void 0&&W!=null){let ae=jt(W);Array.isArray(ae)&&(ae=ae.map(Ae=>Wg(bt(Ae)))),a(r,["tools"],ae)}const Z=l(e,["toolConfig"]);if(r!==void 0&&Z!=null&&a(r,["toolConfig"],Jg(Z)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(e,["cachedContent"]);r!==void 0&&b!=null&&a(r,["cachedContent"],Bn(t,b));const oe=l(e,["responseModalities"]);oe!=null&&a(i,["responseModalities"],oe);const he=l(e,["mediaResolution"]);he!=null&&a(i,["mediaResolution"],he);const j=l(e,["speechConfig"]);if(j!=null&&a(i,["speechConfig"],xl(j)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=l(e,["thinkingConfig"]);ie!=null&&a(i,["thinkingConfig"],ie);const Te=l(e,["imageConfig"]);return Te!=null&&a(i,["imageConfig"],kg(Te)),i}function xg(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["candidates"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>ag(h))),a(e,["candidates"],y)}const u=l(t,["modelVersion"]);u!=null&&a(e,["modelVersion"],u);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&a(e,["responseId"],f);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function Ng(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function Rg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],eo(t,i)),r}function Pg(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(t,["enableWidget"]);return r!=null&&a(e,["enableWidget"],r),e}function Mg(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(t,["timeRangeFilter"]);return r!=null&&a(e,["timeRangeFilter"],r),e}function kg(t){const e={},r=l(t,["aspectRatio"]);r!=null&&a(e,["aspectRatio"],r);const i=l(t,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Dg(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["request","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let m=vn(u);Array.isArray(m)&&(m=m.map(y=>Af(y))),a(r,["request","contents"],m)}const c=l(e,["metadata"]);c!=null&&a(r,["metadata"],c);const f=l(e,["config"]);return f!=null&&a(r,["request","generationConfig"],Ag(t,f,l(r,["request"],{}))),r}function Lg(t){const e={},r=l(t,["response"]);r!=null&&a(e,["response"],xg(r));const i=l(t,["error"]);return i!=null&&a(e,["error"],i),e}function Ug(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);if(e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Fg(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);e!==void 0&&u!=null&&a(e,["_query","pageToken"],u);const c=l(t,["filter"]);return e!==void 0&&c!=null&&a(e,["_query","filter"],c),r}function Vg(t){const e={},r=l(t,["config"]);return r!=null&&Ug(r,e),e}function Gg(t){const e={},r=l(t,["config"]);return r!=null&&Fg(r,e),e}function qg(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["operations"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>ni(f))),a(e,["batchJobs"],c)}return e}function Hg(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["batchPredictionJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>ml(f))),a(e,["batchJobs"],c)}return e}function zg(t){const e={},r=l(t,["mediaResolution"]);r!=null&&a(e,["mediaResolution"],r);const i=l(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],Cg(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],Ig(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],sg(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const E=l(t,["thoughtSignature"]);E!=null&&a(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&a(e,["videoMetadata"],S),e}function Bg(t){const e={},r=l(t,["category"]);if(r!=null&&a(e,["category"],r),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function Jg(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&a(e,["functionCallingConfig"],wg(r));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function Wg(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],Pg(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],Mg(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Hn||(Hn={}));class _t{constructor(e,r,i,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,i,u)}init(e,r,i){var u,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=r.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(u=f.config)===null||u===void 0?void 0:u.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $g extends zn{constructor(e){super(),this.apiClient=e,this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)},this.list=async(r={})=>new _t(Hn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(r),r)}createInlinedGenerateContentRequest(e){const r=Wc(this.apiClient,e),i=r._url,u=B("{model}:batchGenerateContent",i),m=r.batch.inputConfig.requests,y=m.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const I=E.request;I.systemInstruction=S,E.request=I}h.push(E)}return m.requests=h,delete r.config,delete r._url,delete r._query,{path:u,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const i=r?Object.assign({},r):{},u=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${u}`),i.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?i.dest=`${c.slice(0,-6)}/dest`:i.dest=`${c}_dest_${u}`;else if(f)i.dest=`${f}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=pg(this.apiClient,e);return m=B("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>ml(v))}else{const h=Wc(this.apiClient,e);return m=B("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>ni(v))}}async createEmbeddingsInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=hg(this.apiClient,e);return c=B("{model}:asyncBatchEmbedContent",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>ni(y))}}async get(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Rg(this.apiClient,e);return m=B("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>ml(v))}else{const h=Ng(this.apiClient,e);return m=B("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>ni(v))}}async cancel(e){var r,i,u,c;let f="",m={};if(this.apiClient.isVertexAI()){const y=ug(this.apiClient,e);f=B("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const y=lg(this.apiClient,e);f=B("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Gg(e);return m=B("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Hg(v),S=new Hc;return Object.assign(S,E),S})}else{const h=Vg(e);return m=B("batches",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=qg(v),S=new Hc;return Object.assign(S,E),S})}}async delete(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=yg(this.apiClient,e);return m=B("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Tg(v))}else{const h=gg(this.apiClient,e);return m=B("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>vg(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Og(t){const e={},r=l(t,["data"]);if(r!=null&&a(e,["data"],r),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function $c(t){const e={},r=l(t,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>hy(c))),a(e,["parts"],u)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function Yg(t,e){const r={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const u=l(t,["expireTime"]);e!==void 0&&u!=null&&a(e,["expireTime"],u);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let v=vn(f);Array.isArray(v)&&(v=v.map(E=>$c(E))),a(e,["contents"],v)}const m=l(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["systemInstruction"],$c(Qe(m)));const y=l(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>yy(E))),a(e,["tools"],v)}const h=l(t,["toolConfig"]);if(e!==void 0&&h!=null&&a(e,["toolConfig"],gy(h)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Kg(t,e){const r={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const u=l(t,["expireTime"]);e!==void 0&&u!=null&&a(e,["expireTime"],u);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let E=vn(f);Array.isArray(E)&&(E=E.map(S=>S)),a(e,["contents"],E)}const m=l(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["systemInstruction"],Qe(m));const y=l(t,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>vy(S))),a(e,["tools"],E)}const h=l(t,["toolConfig"]);e!==void 0&&h!=null&&a(e,["toolConfig"],h);const v=l(t,["kmsKeyName"]);return e!==void 0&&v!=null&&a(e,["encryption_spec","kmsKeyName"],v),r}function Qg(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["model"],mf(t,i));const u=l(e,["config"]);return u!=null&&Yg(u,r),r}function Xg(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["model"],mf(t,i));const u=l(e,["config"]);return u!=null&&Kg(u,r),r}function Zg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],Bn(t,i)),r}function bg(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],Bn(t,i)),r}function jg(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function ey(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function ny(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ty(t){const e={},r=l(t,["id"]);r!=null&&a(e,["id"],r);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oy(t){const e={},r=l(t,["mode"]);r!=null&&a(e,["mode"],r);const i=l(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ry(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&a(e,["description"],r);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function iy(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],Bn(t,i)),r}function sy(t,e){const r={},i=l(e,["name"]);return i!=null&&a(r,["_url","name"],Bn(t,i)),r}function ly(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(t,["enableWidget"]);return r!=null&&a(e,["enableWidget"],r),e}function uy(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(t,["timeRangeFilter"]);return r!=null&&a(e,["timeRangeFilter"],r),e}function ay(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),r}function dy(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),r}function cy(t){const e={},r=l(t,["config"]);return r!=null&&ay(r,e),e}function fy(t){const e={},r=l(t,["config"]);return r!=null&&dy(r,e),e}function py(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["cachedContents"],c)}return e}function my(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["cachedContents"],c)}return e}function hy(t){const e={},r=l(t,["mediaResolution"]);r!=null&&a(e,["mediaResolution"],r);const i=l(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],ny(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],ty(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],Og(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const E=l(t,["thoughtSignature"]);E!=null&&a(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&a(e,["videoMetadata"],S),e}function gy(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&a(e,["functionCallingConfig"],oy(r));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function yy(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],ly(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],uy(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function vy(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(S=>ry(S))),a(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function Ty(t,e){const r={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const u=l(t,["expireTime"]);return e!==void 0&&u!=null&&a(e,["expireTime"],u),r}function Ey(t,e){const r={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const u=l(t,["expireTime"]);return e!==void 0&&u!=null&&a(e,["expireTime"],u),r}function Sy(t,e){const r={},i=l(e,["name"]);i!=null&&a(r,["_url","name"],Bn(t,i));const u=l(e,["config"]);return u!=null&&Ty(u,r),r}function _y(t,e){const r={},i=l(e,["name"]);i!=null&&a(r,["_url","name"],Bn(t,i));const u=l(e,["config"]);return u!=null&&Ey(u,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cy extends zn{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new _t(Hn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(r),r)}async create(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Xg(this.apiClient,e);return m=B("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=Qg(this.apiClient,e);return m=B("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=sy(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=iy(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=bg(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=ey(v),S=new Gc;return Object.assign(S,E),S})}else{const h=Zg(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=jg(v),S=new Gc;return Object.assign(S,E),S})}}async update(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=_y(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=Sy(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=fy(e);return m=B("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=my(v),S=new qc;return Object.assign(S,E),S})}else{const h=cy(e);return m=B("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=py(v),S=new qc;return Object.assign(S,E),S})}}}function Oc(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function we(t){return this instanceof we?(this.v=t,this):new we(t)}function Xt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(I){return function(M){return Promise.resolve(M).then(I,E)}}function m(I,M){i[I]&&(u[I]=function(k){return new Promise(function(G,L){c.push([I,k,G,L])>1||y(I,k)})},M&&(u[I]=M(u[I])))}function y(I,M){try{h(i[I](M))}catch(k){S(c[0][3],k)}}function h(I){I.value instanceof we?Promise.resolve(I.value.v).then(v,E):S(c[0][2],I)}function v(I){y("next",I)}function E(I){y("throw",I)}function S(I,M){I(M),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Jo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Oc=="function"?Oc(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(c){r[c]=t[c]&&function(f){return new Promise(function(m,y){f=t[c](f),u(m,y,f.done,f.value)})}}function u(c,f,m,y){Promise.resolve(y).then(function(h){c({value:h,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:xf(r)}function xf(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Yc(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let i=0;for(;i<r;)if(t[i].role==="user")e.push(t[i]),i++;else{const u=[];let c=!0;for(;i<r&&t[i].role==="model";)u.push(t[i]),c&&!xf(t[i])&&(c=!1),i++;c?e.push(...u):e.pop()}return e}class Ay{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new xy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xy{constructor(e,r,i,u={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=i,this.config=u,this.history=c,this.sendPromise=Promise.resolve(),wy(c)}async sendMessage(e){var r;await this.sendPromise;const i=Qe(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,f,m;const y=await u,h=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(m=v.slice(E))!==null&&m!==void 0?m:[]);const I=h?[h]:[];this.recordHistory(i,I,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var r;await this.sendPromise;const i=Qe(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const c=await u;return this.processStreamResponse(c,i)}getHistory(e=!1){const r=e?Yc(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var i,u;return Xt(this,arguments,function*(){var f,m,y,h;const v=[];try{for(var E=!0,S=Jo(e),I;I=yield we(S.next()),f=I.done,!f;E=!0){h=I.value,E=!1;const M=h;if(Iy(M)){const k=(u=(i=M.candidates)===null||i===void 0?void 0:i[0])===null||u===void 0?void 0:u.content;k!==void 0&&v.push(k)}yield yield we(M)}}catch(M){m={error:M}}finally{try{!E&&!f&&(y=S.return)&&(yield we(y.call(S)))}finally{if(m)throw m.error}}this.recordHistory(r,v)})}recordHistory(e,r,i){let u=[];r.length>0&&r.every(c=>c.role!==void 0)?u=r:u.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Yc(i)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ui.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ny(t){const e={},r=l(t,["file"]);return r!=null&&a(e,["file"],r),e}function Ry(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function Py(t){const e={},r=l(t,["name"]);return r!=null&&a(e,["_url","file"],Ef(r)),e}function My(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function ky(t){const e={},r=l(t,["name"]);return r!=null&&a(e,["_url","file"],Ef(r)),e}function Dy(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),r}function Ly(t){const e={},r=l(t,["config"]);return r!=null&&Dy(r,e),e}function Uy(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["files"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fy extends zn{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new _t(Hn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Ly(e);return c=B("files",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Uy(y),v=new Hh;return Object.assign(v,h),v})}}async createInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Ny(e);return c=B("upload/v1beta/files",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=Ry(y),v=new zh;return Object.assign(v,h),v})}}async get(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ky(e);return c=B("files/{file}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Py(e);return c=B("files/{file}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=My(y),v=new Bh;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ti(t){const e={},r=l(t,["data"]);if(r!=null&&a(e,["data"],r),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Vy(t){const e={},r=l(t,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>jy(c))),a(e,["parts"],u)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function Gy(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function qy(t){const e={},r=l(t,["id"]);r!=null&&a(e,["id"],r);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hy(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&a(e,["description"],r);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function zy(t){const e={},r=l(t,["modelSelectionConfig"]);r!=null&&a(e,["modelConfig"],r);const i=l(t,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const u=l(t,["audioTimestamp"]);u!=null&&a(e,["audioTimestamp"],u);const c=l(t,["candidateCount"]);c!=null&&a(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&a(e,["enableAffectiveDialog"],f);const m=l(t,["frequencyPenalty"]);m!=null&&a(e,["frequencyPenalty"],m);const y=l(t,["logprobs"]);y!=null&&a(e,["logprobs"],y);const h=l(t,["maxOutputTokens"]);h!=null&&a(e,["maxOutputTokens"],h);const v=l(t,["mediaResolution"]);v!=null&&a(e,["mediaResolution"],v);const E=l(t,["presencePenalty"]);E!=null&&a(e,["presencePenalty"],E);const S=l(t,["responseLogprobs"]);S!=null&&a(e,["responseLogprobs"],S);const I=l(t,["responseMimeType"]);I!=null&&a(e,["responseMimeType"],I);const M=l(t,["responseModalities"]);M!=null&&a(e,["responseModalities"],M);const k=l(t,["responseSchema"]);k!=null&&a(e,["responseSchema"],k);const G=l(t,["routingConfig"]);G!=null&&a(e,["routingConfig"],G);const L=l(t,["seed"]);L!=null&&a(e,["seed"],L);const z=l(t,["speechConfig"]);z!=null&&a(e,["speechConfig"],Nf(z));const H=l(t,["stopSequences"]);H!=null&&a(e,["stopSequences"],H);const W=l(t,["temperature"]);W!=null&&a(e,["temperature"],W);const Z=l(t,["thinkingConfig"]);Z!=null&&a(e,["thinkingConfig"],Z);const b=l(t,["topK"]);b!=null&&a(e,["topK"],b);const oe=l(t,["topP"]);if(oe!=null&&a(e,["topP"],oe),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function By(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(t,["enableWidget"]);return r!=null&&a(e,["enableWidget"],r),e}function Jy(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(t,["timeRangeFilter"]);return r!=null&&a(e,["timeRangeFilter"],r),e}function Wy(t,e){const r={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&a(e,["setup","generationConfig","speechConfig"],Nl(E));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&a(e,["setup","generationConfig","thinkingConfig"],S);const I=l(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],I);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&a(e,["setup","systemInstruction"],Vy(Qe(M)));const k=l(t,["tools"]);if(e!==void 0&&k!=null){let b=jt(k);Array.isArray(b)&&(b=b.map(oe=>nv(bt(oe)))),a(e,["setup","tools"],b)}const G=l(t,["sessionResumption"]);e!==void 0&&G!=null&&a(e,["setup","sessionResumption"],ev(G));const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","inputAudioTranscription"],L);const z=l(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],z);const H=l(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&a(e,["setup","realtimeInputConfig"],H);const W=l(t,["contextWindowCompression"]);e!==void 0&&W!=null&&a(e,["setup","contextWindowCompression"],W);const Z=l(t,["proactivity"]);return e!==void 0&&Z!=null&&a(e,["setup","proactivity"],Z),r}function $y(t,e){const r={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],zy(i));const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&a(e,["setup","generationConfig","speechConfig"],Nf(Nl(E)));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&a(e,["setup","generationConfig","thinkingConfig"],S);const I=l(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],I);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&a(e,["setup","systemInstruction"],Qe(M));const k=l(t,["tools"]);if(e!==void 0&&k!=null){let b=jt(k);Array.isArray(b)&&(b=b.map(oe=>tv(bt(oe)))),a(e,["setup","tools"],b)}const G=l(t,["sessionResumption"]);e!==void 0&&G!=null&&a(e,["setup","sessionResumption"],G);const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","inputAudioTranscription"],L);const z=l(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],z);const H=l(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&a(e,["setup","realtimeInputConfig"],H);const W=l(t,["contextWindowCompression"]);e!==void 0&&W!=null&&a(e,["setup","contextWindowCompression"],W);const Z=l(t,["proactivity"]);return e!==void 0&&Z!=null&&a(e,["setup","proactivity"],Z),r}function Oy(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["setup","model"],me(t,i));const u=l(e,["config"]);return u!=null&&a(r,["config"],Wy(u,r)),r}function Yy(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["setup","model"],me(t,i));const u=l(e,["config"]);return u!=null&&a(r,["config"],$y(u,r)),r}function Ky(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&a(e,["musicGenerationConfig"],r),e}function Qy(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(u=>u)),a(e,["weightedPrompts"],i)}return e}function Xy(t){const e={},r=l(t,["media"]);if(r!=null){let h=hf(r);Array.isArray(h)&&(h=h.map(v=>ti(v))),a(e,["mediaChunks"],h)}const i=l(t,["audio"]);i!=null&&a(e,["audio"],ti(yf(i)));const u=l(t,["audioStreamEnd"]);u!=null&&a(e,["audioStreamEnd"],u);const c=l(t,["video"]);c!=null&&a(e,["video"],ti(gf(c)));const f=l(t,["text"]);f!=null&&a(e,["text"],f);const m=l(t,["activityStart"]);m!=null&&a(e,["activityStart"],m);const y=l(t,["activityEnd"]);return y!=null&&a(e,["activityEnd"],y),e}function Zy(t){const e={},r=l(t,["media"]);if(r!=null){let h=hf(r);Array.isArray(h)&&(h=h.map(v=>v)),a(e,["mediaChunks"],h)}const i=l(t,["audio"]);i!=null&&a(e,["audio"],yf(i));const u=l(t,["audioStreamEnd"]);u!=null&&a(e,["audioStreamEnd"],u);const c=l(t,["video"]);c!=null&&a(e,["video"],gf(c));const f=l(t,["text"]);f!=null&&a(e,["text"],f);const m=l(t,["activityStart"]);m!=null&&a(e,["activityStart"],m);const y=l(t,["activityEnd"]);return y!=null&&a(e,["activityEnd"],y),e}function by(t){const e={},r=l(t,["setupComplete"]);r!=null&&a(e,["setupComplete"],r);const i=l(t,["serverContent"]);i!=null&&a(e,["serverContent"],i);const u=l(t,["toolCall"]);u!=null&&a(e,["toolCall"],u);const c=l(t,["toolCallCancellation"]);c!=null&&a(e,["toolCallCancellation"],c);const f=l(t,["usageMetadata"]);f!=null&&a(e,["usageMetadata"],ov(f));const m=l(t,["goAway"]);m!=null&&a(e,["goAway"],m);const y=l(t,["sessionResumptionUpdate"]);return y!=null&&a(e,["sessionResumptionUpdate"],y),e}function jy(t){const e={},r=l(t,["mediaResolution"]);r!=null&&a(e,["mediaResolution"],r);const i=l(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],Gy(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],qy(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],ti(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const E=l(t,["thoughtSignature"]);E!=null&&a(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&a(e,["videoMetadata"],S),e}function ev(t){const e={},r=l(t,["handle"]);if(r!=null&&a(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nf(t){const e={},r=l(t,["languageCode"]);r!=null&&a(e,["languageCode"],r);const i=l(t,["voiceConfig"]);if(i!=null&&a(e,["voiceConfig"],i),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nv(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],By(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],Jy(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function tv(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(S=>Hy(S))),a(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function ov(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&a(e,["promptTokenCount"],r);const i=l(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const u=l(t,["candidatesTokenCount"]);u!=null&&a(e,["responseTokenCount"],u);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&a(e,["toolUsePromptTokenCount"],c);const f=l(t,["thoughtsTokenCount"]);f!=null&&a(e,["thoughtsTokenCount"],f);const m=l(t,["totalTokenCount"]);m!=null&&a(e,["totalTokenCount"],m);const y=l(t,["promptTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(M=>M)),a(e,["promptTokensDetails"],I)}const h=l(t,["cacheTokensDetails"]);if(h!=null){let I=h;Array.isArray(I)&&(I=I.map(M=>M)),a(e,["cacheTokensDetails"],I)}const v=l(t,["candidatesTokensDetails"]);if(v!=null){let I=v;Array.isArray(I)&&(I=I.map(M=>M)),a(e,["responseTokensDetails"],I)}const E=l(t,["toolUsePromptTokensDetails"]);if(E!=null){let I=E;Array.isArray(I)&&(I=I.map(M=>M)),a(e,["toolUsePromptTokensDetails"],I)}const S=l(t,["trafficType"]);return S!=null&&a(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(t){const e={},r=l(t,["data"]);if(r!=null&&a(e,["data"],r),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function iv(t){const e={},r=l(t,["content"]);r!=null&&a(e,["content"],r);const i=l(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],sv(i));const u=l(t,["tokenCount"]);u!=null&&a(e,["tokenCount"],u);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&a(e,["avgLogprobs"],f);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const y=l(t,["index"]);y!=null&&a(e,["index"],y);const h=l(t,["logprobsResult"]);h!=null&&a(e,["logprobsResult"],h);const v=l(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(I=>I)),a(e,["safetyRatings"],S)}const E=l(t,["urlContextMetadata"]);return E!=null&&a(e,["urlContextMetadata"],E),e}function sv(t){const e={},r=l(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(u=>u)),a(e,["citations"],i)}return e}function lv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let c=vn(u);Array.isArray(c)&&(c=c.map(f=>f)),a(r,["contents"],c)}return r}function uv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["tokensInfo"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["tokensInfo"],u)}return e}function av(t){const e={},r=l(t,["values"]);r!=null&&a(e,["values"],r);const i=l(t,["statistics"]);return i!=null&&a(e,["statistics"],dv(i)),e}function dv(t){const e={},r=l(t,["truncated"]);r!=null&&a(e,["truncated"],r);const i=l(t,["token_count"]);return i!=null&&a(e,["tokenCount"],i),e}function ai(t){const e={},r=l(t,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>T0(c))),a(e,["parts"],u)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function cv(t){const e={},r=l(t,["controlType"]);r!=null&&a(e,["controlType"],r);const i=l(t,["enableControlImageComputation"]);return i!=null&&a(e,["computeControl"],i),e}function fv(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function pv(t,e){const r={},i=l(t,["systemInstruction"]);e!==void 0&&i!=null&&a(e,["systemInstruction"],Qe(i));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Df(m))),a(e,["tools"],f)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&a(e,["generationConfig"],r0(c)),r}function mv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let f=vn(u);Array.isArray(f)&&(f=f.map(m=>ai(m))),a(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&fv(c),r}function hv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let f=vn(u);Array.isArray(f)&&(f=f.map(m=>m)),a(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&pv(c,r),r}function gv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["totalTokens"]);i!=null&&a(e,["totalTokens"],i);const u=l(t,["cachedContentTokenCount"]);return u!=null&&a(e,["cachedContentTokenCount"],u),e}function yv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["totalTokens"]);return i!=null&&a(e,["totalTokens"],i),e}function vv(t,e){const r={},i=l(e,["model"]);return i!=null&&a(r,["_url","name"],me(t,i)),r}function Tv(t,e){const r={},i=l(e,["model"]);return i!=null&&a(r,["_url","name"],me(t,i)),r}function Ev(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function Sv(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}function _v(t,e){const r={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&a(e,["parameters","negativePrompt"],u);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&a(e,["parameters","aspectRatio"],f);const m=l(t,["guidanceScale"]);e!==void 0&&m!=null&&a(e,["parameters","guidanceScale"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["parameters","seed"],y);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&a(e,["parameters","safetySetting"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const E=l(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&a(e,["parameters","includeSafetyAttributes"],E);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&a(e,["parameters","includeRaiReason"],S);const I=l(t,["language"]);e!==void 0&&I!=null&&a(e,["parameters","language"],I);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&a(e,["parameters","outputOptions","mimeType"],M);const k=l(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&a(e,["parameters","outputOptions","compressionQuality"],k);const G=l(t,["addWatermark"]);e!==void 0&&G!=null&&a(e,["parameters","addWatermark"],G);const L=l(t,["labels"]);e!==void 0&&L!=null&&a(e,["labels"],L);const z=l(t,["editMode"]);e!==void 0&&z!=null&&a(e,["parameters","editMode"],z);const H=l(t,["baseSteps"]);return e!==void 0&&H!=null&&a(e,["parameters","editConfig","baseSteps"],H),r}function Cv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const c=l(e,["referenceImages"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>w0(y))),a(r,["instances[0]","referenceImages"],m)}const f=l(e,["config"]);return f!=null&&_v(f,r),r}function Iv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>di(c))),a(e,["generatedImages"],u)}return e}function wv(t,e){const r={},i=l(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["requests[]","title"],u);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&a(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Av(t,e){const r={},i=l(t,["taskType"]);e!==void 0&&i!=null&&a(e,["instances[]","task_type"],i);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["instances[]","title"],u);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&a(e,["parameters","outputDimensionality"],c);const f=l(t,["mimeType"]);e!==void 0&&f!=null&&a(e,["instances[]","mimeType"],f);const m=l(t,["autoTruncate"]);return e!==void 0&&m!=null&&a(e,["parameters","autoTruncate"],m),r}function xv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let m=wl(t,u);Array.isArray(m)&&(m=m.map(y=>y)),a(r,["requests[]","content"],m)}const c=l(e,["config"]);c!=null&&wv(c,r);const f=l(e,["model"]);return f!==void 0&&a(r,["requests[]","model"],me(t,f)),r}function Nv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let f=wl(t,u);Array.isArray(f)&&(f=f.map(m=>m)),a(r,["instances[]","content"],f)}const c=l(e,["config"]);return c!=null&&Av(c,r),r}function Rv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["embeddings"],c)}const u=l(t,["metadata"]);return u!=null&&a(e,["metadata"],u),e}function Pv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>av(f))),a(e,["embeddings"],c)}const u=l(t,["metadata"]);return u!=null&&a(e,["metadata"],u),e}function Mv(t){const e={},r=l(t,["endpoint"]);r!=null&&a(e,["name"],r);const i=l(t,["deployedModelId"]);return i!=null&&a(e,["deployedModelId"],i),e}function kv(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Dv(t){const e={},r=l(t,["id"]);r!=null&&a(e,["id"],r);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lv(t){const e={},r=l(t,["mode"]);r!=null&&a(e,["mode"],r);const i=l(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Uv(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&a(e,["description"],r);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function Fv(t,e,r){const i={},u=l(e,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],ai(Qe(u)));const c=l(e,["temperature"]);c!=null&&a(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(i,["topP"],f);const m=l(e,["topK"]);m!=null&&a(i,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(i,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(i,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(i,["stopSequences"],v);const E=l(e,["responseLogprobs"]);E!=null&&a(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&a(i,["logprobs"],S);const I=l(e,["presencePenalty"]);I!=null&&a(i,["presencePenalty"],I);const M=l(e,["frequencyPenalty"]);M!=null&&a(i,["frequencyPenalty"],M);const k=l(e,["seed"]);k!=null&&a(i,["seed"],k);const G=l(e,["responseMimeType"]);G!=null&&a(i,["responseMimeType"],G);const L=l(e,["responseSchema"]);L!=null&&a(i,["responseSchema"],Al(L));const z=l(e,["responseJsonSchema"]);if(z!=null&&a(i,["responseJsonSchema"],z),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(r!==void 0&&H!=null){let ae=H;Array.isArray(ae)&&(ae=ae.map(Ae=>A0(Ae))),a(r,["safetySettings"],ae)}const W=l(e,["tools"]);if(r!==void 0&&W!=null){let ae=jt(W);Array.isArray(ae)&&(ae=ae.map(Ae=>D0(bt(Ae)))),a(r,["tools"],ae)}const Z=l(e,["toolConfig"]);if(r!==void 0&&Z!=null&&a(r,["toolConfig"],k0(Z)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(e,["cachedContent"]);r!==void 0&&b!=null&&a(r,["cachedContent"],Bn(t,b));const oe=l(e,["responseModalities"]);oe!=null&&a(i,["responseModalities"],oe);const he=l(e,["mediaResolution"]);he!=null&&a(i,["mediaResolution"],he);const j=l(e,["speechConfig"]);if(j!=null&&a(i,["speechConfig"],xl(j)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=l(e,["thinkingConfig"]);ie!=null&&a(i,["thinkingConfig"],ie);const Te=l(e,["imageConfig"]);return Te!=null&&a(i,["imageConfig"],a0(Te)),i}function Vv(t,e,r){const i={},u=l(e,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],Qe(u));const c=l(e,["temperature"]);c!=null&&a(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(i,["topP"],f);const m=l(e,["topK"]);m!=null&&a(i,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(i,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(i,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(i,["stopSequences"],v);const E=l(e,["responseLogprobs"]);E!=null&&a(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&a(i,["logprobs"],S);const I=l(e,["presencePenalty"]);I!=null&&a(i,["presencePenalty"],I);const M=l(e,["frequencyPenalty"]);M!=null&&a(i,["frequencyPenalty"],M);const k=l(e,["seed"]);k!=null&&a(i,["seed"],k);const G=l(e,["responseMimeType"]);G!=null&&a(i,["responseMimeType"],G);const L=l(e,["responseSchema"]);L!=null&&a(i,["responseSchema"],Al(L));const z=l(e,["responseJsonSchema"]);z!=null&&a(i,["responseJsonSchema"],z);const H=l(e,["routingConfig"]);H!=null&&a(i,["routingConfig"],H);const W=l(e,["modelSelectionConfig"]);W!=null&&a(i,["modelConfig"],W);const Z=l(e,["safetySettings"]);if(r!==void 0&&Z!=null){let xe=Z;Array.isArray(xe)&&(xe=xe.map(Ee=>Ee)),a(r,["safetySettings"],xe)}const b=l(e,["tools"]);if(r!==void 0&&b!=null){let xe=jt(b);Array.isArray(xe)&&(xe=xe.map(Ee=>Df(bt(Ee)))),a(r,["tools"],xe)}const oe=l(e,["toolConfig"]);r!==void 0&&oe!=null&&a(r,["toolConfig"],oe);const he=l(e,["labels"]);r!==void 0&&he!=null&&a(r,["labels"],he);const j=l(e,["cachedContent"]);r!==void 0&&j!=null&&a(r,["cachedContent"],Bn(t,j));const ie=l(e,["responseModalities"]);ie!=null&&a(i,["responseModalities"],ie);const Te=l(e,["mediaResolution"]);Te!=null&&a(i,["mediaResolution"],Te);const ae=l(e,["speechConfig"]);ae!=null&&a(i,["speechConfig"],kf(xl(ae)));const Ae=l(e,["audioTimestamp"]);Ae!=null&&a(i,["audioTimestamp"],Ae);const be=l(e,["thinkingConfig"]);be!=null&&a(i,["thinkingConfig"],be);const sn=l(e,["imageConfig"]);return sn!=null&&a(i,["imageConfig"],d0(sn)),i}function Kc(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let f=vn(u);Array.isArray(f)&&(f=f.map(m=>ai(m))),a(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&a(r,["generationConfig"],Fv(t,c,r)),r}function Qc(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["contents"]);if(u!=null){let f=vn(u);Array.isArray(f)&&(f=f.map(m=>m)),a(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&a(r,["generationConfig"],Vv(t,c,r)),r}function Xc(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["candidates"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>iv(h))),a(e,["candidates"],y)}const u=l(t,["modelVersion"]);u!=null&&a(e,["modelVersion"],u);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&a(e,["responseId"],f);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function Zc(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(v=>v)),a(e,["candidates"],h)}const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const c=l(t,["modelVersion"]);c!=null&&a(e,["modelVersion"],c);const f=l(t,["promptFeedback"]);f!=null&&a(e,["promptFeedback"],f);const m=l(t,["responseId"]);m!=null&&a(e,["responseId"],m);const y=l(t,["usageMetadata"]);return y!=null&&a(e,["usageMetadata"],y),e}function Gv(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&a(e,["parameters","aspectRatio"],u);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&a(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const m=l(t,["personGeneration"]);e!==void 0&&m!=null&&a(e,["parameters","personGeneration"],m);const y=l(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&a(e,["parameters","includeSafetyAttributes"],y);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const v=l(t,["language"]);e!==void 0&&v!=null&&a(e,["parameters","language"],v);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=l(t,["imageSize"]);if(e!==void 0&&I!=null&&a(e,["parameters","sampleImageSize"],I),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function qv(t,e){const r={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&a(e,["parameters","negativePrompt"],u);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&a(e,["parameters","aspectRatio"],f);const m=l(t,["guidanceScale"]);e!==void 0&&m!=null&&a(e,["parameters","guidanceScale"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["parameters","seed"],y);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&a(e,["parameters","safetySetting"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const E=l(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&a(e,["parameters","includeSafetyAttributes"],E);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&a(e,["parameters","includeRaiReason"],S);const I=l(t,["language"]);e!==void 0&&I!=null&&a(e,["parameters","language"],I);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&a(e,["parameters","outputOptions","mimeType"],M);const k=l(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&a(e,["parameters","outputOptions","compressionQuality"],k);const G=l(t,["addWatermark"]);e!==void 0&&G!=null&&a(e,["parameters","addWatermark"],G);const L=l(t,["labels"]);e!==void 0&&L!=null&&a(e,["labels"],L);const z=l(t,["imageSize"]);e!==void 0&&z!=null&&a(e,["parameters","sampleImageSize"],z);const H=l(t,["enhancePrompt"]);return e!==void 0&&H!=null&&a(e,["parameters","enhancePrompt"],H),r}function Hv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const c=l(e,["config"]);return c!=null&&Gv(c,r),r}function zv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const c=l(e,["config"]);return c!=null&&qv(c,r),r}function Bv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>e0(f))),a(e,["generatedImages"],c)}const u=l(t,["positivePromptSafetyAttributes"]);return u!=null&&a(e,["positivePromptSafetyAttributes"],Pf(u)),e}function Jv(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>di(f))),a(e,["generatedImages"],c)}const u=l(t,["positivePromptSafetyAttributes"]);return u!=null&&a(e,["positivePromptSafetyAttributes"],Mf(u)),e}function Wv(t,e){const r={},i=l(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=l(t,["durationSeconds"]);if(e!==void 0&&u!=null&&a(e,["parameters","durationSeconds"],u),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&a(e,["parameters","resolution"],f);const m=l(t,["personGeneration"]);if(e!==void 0&&m!=null&&a(e,["parameters","personGeneration"],m),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=l(t,["negativePrompt"]);e!==void 0&&y!=null&&a(e,["parameters","negativePrompt"],y);const h=l(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=l(t,["lastFrame"]);e!==void 0&&v!=null&&a(e,["instances[0]","lastFrame"],ci(v));const E=l(t,["referenceImages"]);if(e!==void 0&&E!=null){let S=E;Array.isArray(S)&&(S=S.map(I=>O0(I))),a(e,["instances[0]","referenceImages"],S)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function $v(t,e){const r={},i=l(t,["numberOfVideos"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const u=l(t,["outputGcsUri"]);e!==void 0&&u!=null&&a(e,["parameters","storageUri"],u);const c=l(t,["fps"]);e!==void 0&&c!=null&&a(e,["parameters","fps"],c);const f=l(t,["durationSeconds"]);e!==void 0&&f!=null&&a(e,["parameters","durationSeconds"],f);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const y=l(t,["aspectRatio"]);e!==void 0&&y!=null&&a(e,["parameters","aspectRatio"],y);const h=l(t,["resolution"]);e!==void 0&&h!=null&&a(e,["parameters","resolution"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const E=l(t,["pubsubTopic"]);e!==void 0&&E!=null&&a(e,["parameters","pubsubTopic"],E);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&a(e,["parameters","negativePrompt"],S);const I=l(t,["enhancePrompt"]);e!==void 0&&I!=null&&a(e,["parameters","enhancePrompt"],I);const M=l(t,["generateAudio"]);e!==void 0&&M!=null&&a(e,["parameters","generateAudio"],M);const k=l(t,["lastFrame"]);e!==void 0&&k!=null&&a(e,["instances[0]","lastFrame"],An(k));const G=l(t,["referenceImages"]);if(e!==void 0&&G!=null){let H=G;Array.isArray(H)&&(H=H.map(W=>Y0(W))),a(e,["instances[0]","referenceImages"],H)}const L=l(t,["mask"]);e!==void 0&&L!=null&&a(e,["instances[0]","mask"],$0(L));const z=l(t,["compressionQuality"]);return e!==void 0&&z!=null&&a(e,["parameters","compressionQuality"],z),r}function Ov(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&a(e,["response"],Xv(f)),e}function Yv(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],Zv(f)),e}function Kv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const c=l(e,["image"]);c!=null&&a(r,["instances[0]","image"],ci(c));const f=l(e,["video"]);f!=null&&a(r,["instances[0]","video"],Lf(f));const m=l(e,["source"]);m!=null&&bv(m,r);const y=l(e,["config"]);return y!=null&&Wv(y,r),r}function Qv(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const c=l(e,["image"]);c!=null&&a(r,["instances[0]","image"],An(c));const f=l(e,["video"]);f!=null&&a(r,["instances[0]","video"],Uf(f));const m=l(e,["source"]);m!=null&&jv(m,r);const y=l(e,["config"]);return y!=null&&$v(y,r),r}function Xv(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>t0(f))),a(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function Zv(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>o0(f))),a(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function bv(t,e){const r={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],ci(u));const c=l(t,["video"]);return e!==void 0&&c!=null&&a(e,["instances[0]","video"],Lf(c)),r}function jv(t,e){const r={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],An(u));const c=l(t,["video"]);return e!==void 0&&c!=null&&a(e,["instances[0]","video"],Uf(c)),r}function e0(t){const e={},r=l(t,["_self"]);r!=null&&a(e,["image"],c0(r));const i=l(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const u=l(t,["_self"]);return u!=null&&a(e,["safetyAttributes"],Pf(u)),e}function di(t){const e={},r=l(t,["_self"]);r!=null&&a(e,["image"],Rf(r));const i=l(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const u=l(t,["_self"]);u!=null&&a(e,["safetyAttributes"],Mf(u));const c=l(t,["prompt"]);return c!=null&&a(e,["enhancedPrompt"],c),e}function n0(t){const e={},r=l(t,["_self"]);r!=null&&a(e,["mask"],Rf(r));const i=l(t,["labels"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["labels"],u)}return e}function t0(t){const e={},r=l(t,["video"]);return r!=null&&a(e,["video"],J0(r)),e}function o0(t){const e={},r=l(t,["_self"]);return r!=null&&a(e,["video"],W0(r)),e}function r0(t){const e={},r=l(t,["modelSelectionConfig"]);r!=null&&a(e,["modelConfig"],r);const i=l(t,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const u=l(t,["audioTimestamp"]);u!=null&&a(e,["audioTimestamp"],u);const c=l(t,["candidateCount"]);c!=null&&a(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&a(e,["enableAffectiveDialog"],f);const m=l(t,["frequencyPenalty"]);m!=null&&a(e,["frequencyPenalty"],m);const y=l(t,["logprobs"]);y!=null&&a(e,["logprobs"],y);const h=l(t,["maxOutputTokens"]);h!=null&&a(e,["maxOutputTokens"],h);const v=l(t,["mediaResolution"]);v!=null&&a(e,["mediaResolution"],v);const E=l(t,["presencePenalty"]);E!=null&&a(e,["presencePenalty"],E);const S=l(t,["responseLogprobs"]);S!=null&&a(e,["responseLogprobs"],S);const I=l(t,["responseMimeType"]);I!=null&&a(e,["responseMimeType"],I);const M=l(t,["responseModalities"]);M!=null&&a(e,["responseModalities"],M);const k=l(t,["responseSchema"]);k!=null&&a(e,["responseSchema"],k);const G=l(t,["routingConfig"]);G!=null&&a(e,["routingConfig"],G);const L=l(t,["seed"]);L!=null&&a(e,["seed"],L);const z=l(t,["speechConfig"]);z!=null&&a(e,["speechConfig"],kf(z));const H=l(t,["stopSequences"]);H!=null&&a(e,["stopSequences"],H);const W=l(t,["temperature"]);W!=null&&a(e,["temperature"],W);const Z=l(t,["thinkingConfig"]);Z!=null&&a(e,["thinkingConfig"],Z);const b=l(t,["topK"]);b!=null&&a(e,["topK"],b);const oe=l(t,["topP"]);if(oe!=null&&a(e,["topP"],oe),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function i0(t,e){const r={},i=l(e,["model"]);return i!=null&&a(r,["_url","name"],me(t,i)),r}function s0(t,e){const r={},i=l(e,["model"]);return i!=null&&a(r,["_url","name"],me(t,i)),r}function l0(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(t,["enableWidget"]);return r!=null&&a(e,["enableWidget"],r),e}function u0(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(t,["timeRangeFilter"]);return r!=null&&a(e,["timeRangeFilter"],r),e}function a0(t){const e={},r=l(t,["aspectRatio"]);r!=null&&a(e,["aspectRatio"],r);const i=l(t,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function d0(t){const e={},r=l(t,["aspectRatio"]);r!=null&&a(e,["aspectRatio"],r);const i=l(t,["imageSize"]);i!=null&&a(e,["imageSize"],i);const u=l(t,["outputMimeType"]);u!=null&&a(e,["imageOutputOptions","mimeType"],u);const c=l(t,["outputCompressionQuality"]);return c!=null&&a(e,["imageOutputOptions","compressionQuality"],c),e}function c0(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["imageBytes"],ut(r));const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Rf(t){const e={},r=l(t,["gcsUri"]);r!=null&&a(e,["gcsUri"],r);const i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],ut(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function ci(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&a(e,["bytesBase64Encoded"],ut(r));const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function An(t){const e={},r=l(t,["gcsUri"]);r!=null&&a(e,["gcsUri"],r);const i=l(t,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],ut(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function f0(t,e,r){const i={},u=l(e,["pageSize"]);r!==void 0&&u!=null&&a(r,["_query","pageSize"],u);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&a(r,["_query","pageToken"],c);const f=l(e,["filter"]);r!==void 0&&f!=null&&a(r,["_query","filter"],f);const m=l(e,["queryBase"]);return r!==void 0&&m!=null&&a(r,["_url","models_url"],Sf(t,m)),i}function p0(t,e,r){const i={},u=l(e,["pageSize"]);r!==void 0&&u!=null&&a(r,["_query","pageSize"],u);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&a(r,["_query","pageToken"],c);const f=l(e,["filter"]);r!==void 0&&f!=null&&a(r,["_query","filter"],f);const m=l(e,["queryBase"]);return r!==void 0&&m!=null&&a(r,["_url","models_url"],Sf(t,m)),i}function m0(t,e){const r={},i=l(e,["config"]);return i!=null&&f0(t,i,r),r}function h0(t,e){const r={},i=l(e,["config"]);return i!=null&&p0(t,i,r),r}function g0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["_self"]);if(u!=null){let c=_f(u);Array.isArray(c)&&(c=c.map(f=>hl(f))),a(e,["models"],c)}return e}function y0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["_self"]);if(u!=null){let c=_f(u);Array.isArray(c)&&(c=c.map(f=>gl(f))),a(e,["models"],c)}return e}function v0(t){const e={},r=l(t,["maskMode"]);r!=null&&a(e,["maskMode"],r);const i=l(t,["segmentationClasses"]);i!=null&&a(e,["maskClasses"],i);const u=l(t,["maskDilation"]);return u!=null&&a(e,["dilation"],u),e}function hl(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const u=l(t,["description"]);u!=null&&a(e,["description"],u);const c=l(t,["version"]);c!=null&&a(e,["version"],c);const f=l(t,["_self"]);f!=null&&a(e,["tunedModelInfo"],L0(f));const m=l(t,["inputTokenLimit"]);m!=null&&a(e,["inputTokenLimit"],m);const y=l(t,["outputTokenLimit"]);y!=null&&a(e,["outputTokenLimit"],y);const h=l(t,["supportedGenerationMethods"]);h!=null&&a(e,["supportedActions"],h);const v=l(t,["temperature"]);v!=null&&a(e,["temperature"],v);const E=l(t,["maxTemperature"]);E!=null&&a(e,["maxTemperature"],E);const S=l(t,["topP"]);S!=null&&a(e,["topP"],S);const I=l(t,["topK"]);I!=null&&a(e,["topK"],I);const M=l(t,["thinking"]);return M!=null&&a(e,["thinking"],M),e}function gl(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const u=l(t,["description"]);u!=null&&a(e,["description"],u);const c=l(t,["versionId"]);c!=null&&a(e,["version"],c);const f=l(t,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>Mv(S))),a(e,["endpoints"],E)}const m=l(t,["labels"]);m!=null&&a(e,["labels"],m);const y=l(t,["_self"]);y!=null&&a(e,["tunedModelInfo"],U0(y));const h=l(t,["defaultCheckpointId"]);h!=null&&a(e,["defaultCheckpointId"],h);const v=l(t,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>S)),a(e,["checkpoints"],E)}return e}function T0(t){const e={},r=l(t,["mediaResolution"]);r!=null&&a(e,["mediaResolution"],r);const i=l(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],kv(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],Dv(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],rv(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const E=l(t,["thoughtSignature"]);E!=null&&a(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&a(e,["videoMetadata"],S),e}function E0(t){const e={},r=l(t,["productImage"]);return r!=null&&a(e,["image"],An(r)),e}function S0(t,e){const r={},i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const u=l(t,["baseSteps"]);e!==void 0&&u!=null&&a(e,["parameters","baseSteps"],u);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&a(e,["parameters","storageUri"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&a(e,["parameters","seed"],f);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&a(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const h=l(t,["addWatermark"]);e!==void 0&&h!=null&&a(e,["parameters","addWatermark"],h);const v=l(t,["outputMimeType"]);e!==void 0&&v!=null&&a(e,["parameters","outputOptions","mimeType"],v);const E=l(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);const S=l(t,["enhancePrompt"]);e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S);const I=l(t,["labels"]);return e!==void 0&&I!=null&&a(e,["labels"],I),r}function _0(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["source"]);u!=null&&I0(u,r);const c=l(e,["config"]);return c!=null&&S0(c,r),r}function C0(t){const e={},r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(u=>di(u))),a(e,["generatedImages"],i)}return e}function I0(t,e){const r={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const u=l(t,["personImage"]);e!==void 0&&u!=null&&a(e,["instances[0]","personImage","image"],An(u));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>E0(m))),a(e,["instances[0]","productImages"],f)}return r}function w0(t){const e={},r=l(t,["referenceImage"]);r!=null&&a(e,["referenceImage"],An(r));const i=l(t,["referenceId"]);i!=null&&a(e,["referenceId"],i);const u=l(t,["referenceType"]);u!=null&&a(e,["referenceType"],u);const c=l(t,["maskImageConfig"]);c!=null&&a(e,["maskImageConfig"],v0(c));const f=l(t,["controlImageConfig"]);f!=null&&a(e,["controlImageConfig"],cv(f));const m=l(t,["styleImageConfig"]);m!=null&&a(e,["styleImageConfig"],m);const y=l(t,["subjectImageConfig"]);return y!=null&&a(e,["subjectImageConfig"],y),e}function Pf(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&a(e,["categories"],r);const i=l(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const u=l(t,["contentType"]);return u!=null&&a(e,["contentType"],u),e}function Mf(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&a(e,["categories"],r);const i=l(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const u=l(t,["contentType"]);return u!=null&&a(e,["contentType"],u),e}function A0(t){const e={},r=l(t,["category"]);if(r!=null&&a(e,["category"],r),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function x0(t){const e={},r=l(t,["image"]);return r!=null&&a(e,["image"],An(r)),e}function N0(t,e){const r={},i=l(t,["mode"]);e!==void 0&&i!=null&&a(e,["parameters","mode"],i);const u=l(t,["maxPredictions"]);e!==void 0&&u!=null&&a(e,["parameters","maxPredictions"],u);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&a(e,["parameters","confidenceThreshold"],c);const f=l(t,["maskDilation"]);e!==void 0&&f!=null&&a(e,["parameters","maskDilation"],f);const m=l(t,["binaryColorThreshold"]);e!==void 0&&m!=null&&a(e,["parameters","binaryColorThreshold"],m);const y=l(t,["labels"]);return e!==void 0&&y!=null&&a(e,["labels"],y),r}function R0(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["source"]);u!=null&&M0(u,r);const c=l(e,["config"]);return c!=null&&N0(c,r),r}function P0(t){const e={},r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(u=>n0(u))),a(e,["generatedMasks"],i)}return e}function M0(t,e){const r={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],An(u));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&a(e,["instances[0]","scribble"],x0(c)),r}function kf(t){const e={},r=l(t,["languageCode"]);r!=null&&a(e,["languageCode"],r);const i=l(t,["voiceConfig"]);if(i!=null&&a(e,["voiceConfig"],i),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function k0(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&a(e,["functionCallingConfig"],Lv(r));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function D0(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],l0(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],u0(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function Df(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(S=>Uv(S))),a(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function L0(t){const e={},r=l(t,["baseModel"]);r!=null&&a(e,["baseModel"],r);const i=l(t,["createTime"]);i!=null&&a(e,["createTime"],i);const u=l(t,["updateTime"]);return u!=null&&a(e,["updateTime"],u),e}function U0(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&a(e,["baseModel"],r);const i=l(t,["createTime"]);i!=null&&a(e,["createTime"],i);const u=l(t,["updateTime"]);return u!=null&&a(e,["updateTime"],u),e}function F0(t,e){const r={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const u=l(t,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),r}function V0(t,e){const r={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const u=l(t,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),r}function G0(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","name"],me(t,i));const u=l(e,["config"]);return u!=null&&F0(u,r),r}function q0(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["config"]);return u!=null&&V0(u,r),r}function H0(t,e){const r={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const u=l(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&a(e,["parameters","includeRaiReason"],f);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const y=l(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","compressionQuality"],y);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=l(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=l(t,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const S=l(t,["numberOfImages"]);e!==void 0&&S!=null&&a(e,["parameters","sampleCount"],S);const I=l(t,["mode"]);return e!==void 0&&I!=null&&a(e,["parameters","mode"],I),r}function z0(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["_url","model"],me(t,i));const u=l(e,["image"]);u!=null&&a(r,["instances[0]","image"],An(u));const c=l(e,["upscaleFactor"]);c!=null&&a(r,["parameters","upscaleConfig","upscaleFactor"],c);const f=l(e,["config"]);return f!=null&&H0(f,r),r}function B0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>di(c))),a(e,["generatedImages"],u)}return e}function J0(t){const e={},r=l(t,["uri"]);r!=null&&a(e,["uri"],r);const i=l(t,["encodedVideo"]);i!=null&&a(e,["videoBytes"],ut(i));const u=l(t,["encoding"]);return u!=null&&a(e,["mimeType"],u),e}function W0(t){const e={},r=l(t,["gcsUri"]);r!=null&&a(e,["uri"],r);const i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],ut(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function $0(t){const e={},r=l(t,["image"]);r!=null&&a(e,["_self"],An(r));const i=l(t,["maskMode"]);return i!=null&&a(e,["maskMode"],i),e}function O0(t){const e={},r=l(t,["image"]);r!=null&&a(e,["image"],ci(r));const i=l(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function Y0(t){const e={},r=l(t,["image"]);r!=null&&a(e,["image"],An(r));const i=l(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function Lf(t){const e={},r=l(t,["uri"]);r!=null&&a(e,["uri"],r);const i=l(t,["videoBytes"]);i!=null&&a(e,["encodedVideo"],ut(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["encoding"],u),e}function Uf(t){const e={},r=l(t,["uri"]);r!=null&&a(e,["gcsUri"],r);const i=l(t,["videoBytes"]);i!=null&&a(e,["bytesBase64Encoded"],ut(i));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K0="Content-Type",Q0="X-Server-Timeout",X0="User-Agent",yl="x-goog-api-client",Z0="1.30.0",b0=`google-genai-sdk/${Z0}`,j0="v1beta1",eT="v1beta",bc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nT{constructor(e){var r,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:j0,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:eT,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,i){const u=[this.getRequestUrlInternal(r)];return i&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,r,i);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))u.searchParams.append(f,String(m));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,u.toString(),e.abortSignal),this.unaryApiCall(u,c,e.httpMethod)}patchHttpOptions(e,r){const i=JSON.parse(JSON.stringify(e));for(const[u,c]of Object.entries(r))typeof c=="object"?i[u]=Object.assign(Object.assign({},i[u]),c):c!==void 0&&(i[u]=c);return i}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,r,i);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,u.toString(),e.abortSignal),this.streamApiCall(u,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,i,u){if(r&&r.timeout||u){const c=new AbortController,f=c.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const m=setTimeout(()=>c.abort(),r.timeout);m&&typeof m.unref=="function"&&m.unref()}u&&u.addEventListener("abort",()=>{c.abort()}),e.signal=f}return r&&r.extraBody!==null&&tT(e,r.extraBody),e.headers=await this.getHeadersInternal(r,i),e}async unaryApiCall(e,r,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:i})).then(async u=>(await jc(u),new fl(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,r,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:i})).then(async u=>(await jc(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var r;return Xt(this,arguments,function*(){const u=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let f="";for(;;){const{done:m,value:y}=yield we(u.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=c.decode(y,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),I=S.status,M=S.code,k=`got status: ${I}. ${JSON.stringify(E)}`;if(M>=400&&M<600)throw new ui({message:k,status:M})}}catch(E){if(E.name==="ApiError")throw E}f+=h;let v=f.match(bc);for(;v;){const E=v[1];try{const S=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield we(new fl(S)),f=f.slice(v[0].length),v=f.match(bc)}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}finally{u.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},r=b0+" "+this.clientOptions.userAgentExtra;return e[X0]=r,e[yl]=r,e[K0]="application/json",e}async getHeadersInternal(e,r){const i=new Headers;if(e&&e.headers){for(const[u,c]of Object.entries(e.headers))i.append(u,c);e.timeout&&e.timeout>0&&i.append(Q0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,r),i}getFileName(e){var r;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(r=i.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),i}async uploadFile(e,r){var i;const u={};r!=null&&(u.mimeType=r.mimeType,u.name=r.name,u.displayName=r.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);u.sizeBytes=String(f.size);const m=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=m;const y={file:u},h=this.getFileName(e),v=B("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,r==null?void 0:r.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,r,i){var u;const c=this.clientOptions.uploader,f=await c.stat(r),m=String(f.size),y=(u=i==null?void 0:i.mimeType)!==null&&u!==void 0?u:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(r),E={};i!=null&&i.customMetadata&&(E.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(E.chunkingConfig=i.chunkingConfig);const S=await this.fetchUploadUrl(h,m,y,v,E,i==null?void 0:i.httpOptions);return c.uploadToFileSearchStore(r,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,i,u,c,f){var m;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${i}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=h==null?void 0:h.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function jc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const u=JSON.stringify(i);throw r>=400&&r<600?new ui({message:u,status:r}):new Error(u)}}function tT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,f){const m=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const h=f[y],v=m[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),m[y]=h)}return m}const u=i(r,e);t.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oT="mcp_used/unknown";let rT=!1;function Ff(t){for(const e of t)if(iT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return rT}function Vf(t){var e;const r=(e=t[yl])!==null&&e!==void 0?e:"";t[yl]=(r+` ${oT}`).trimStart()}function iT(t){return t!==null&&typeof t=="object"&&t instanceof Rl}function sT(t,e=100){return Xt(this,arguments,function*(){let i,u=0;for(;u<e;){const c=yield we(t.listTools({cursor:i}));for(const f of c.tools)yield yield we(f),u++;if(!c.nextCursor)break;i=c.nextCursor}})}class Rl{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Rl(e,r)}async initialize(){var e,r,i,u;if(this.mcpTools.length>0)return;const c={},f=[];for(const v of this.mcpClients)try{for(var m=!0,y=(r=void 0,Jo(sT(v))),h;h=await y.next(),e=h.done,!e;m=!0){u=h.value,m=!1;const E=u;f.push(E);const S=E.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(E){r={error:E}}finally{try{!m&&!e&&(i=y.return)&&await i.call(y)}finally{if(r)throw r.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),bh(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await u.callTool({name:i.name,arguments:i.args},void 0,c);r.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lT(t,e,r){const i=new Wh;let u;r.data instanceof Blob?u=JSON.parse(await r.data.text()):u=JSON.parse(r.data),Object.assign(i,u),e(i)}class uT{constructor(e,r,i){this.apiClient=e,this.auth=r,this.webSocketFactory=i}async connect(e){var r,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=cT(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const v=new Promise(H=>{h=H}),E=e.callbacks,S=function(){h({})},I=this.apiClient,M={onopen:S,onmessage:H=>{lT(I,E.onmessage,H)},onerror:(r=E==null?void 0:E.onerror)!==null&&r!==void 0?r:function(H){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(H){}},k=this.webSocketFactory.create(y,dT(f),M);k.connect(),await v;const z={setup:{model:me(this.apiClient,e.model)}};return k.send(JSON.stringify(z)),new aT(k,this.apiClient)}}class aT{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Qy(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Ky(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Kt.PLAY)}pause(){this.sendPlaybackControl(Kt.PAUSE)}stop(){this.sendPlaybackControl(Kt.STOP)}resetContext(){this.sendPlaybackControl(Kt.RESET_CONTEXT)}close(){this.conn.close()}}function dT(t){const e={};return t.forEach((r,i)=>{e[i]=r}),e}function cT(t){const e=new Headers;for(const[r,i]of Object.entries(t))e.append(r,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pT(t,e,r){const i=new Jh;let u;r.data instanceof Blob?u=await r.data.text():r.data instanceof ArrayBuffer?u=new TextDecoder().decode(r.data):u=r.data;const c=JSON.parse(u);if(t.isVertexAI()){const f=by(c);Object.assign(i,f)}else Object.assign(i,c);e(i)}class mT{constructor(e,r,i){this.apiClient=e,this.auth=r,this.webSocketFactory=i,this.music=new uT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,i,u,c,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Ff(e.config.tools)&&Vf(E);const S=vT(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const j=this.apiClient.getApiKey();let ie="BidiGenerateContent",Te="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",Te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ie}?${Te}=${j}`}let I=()=>{};const M=new Promise(j=>{I=j}),k=e.callbacks,G=function(){var j;(j=k==null?void 0:k.onopen)===null||j===void 0||j.call(k),I({})},L=this.apiClient,z={onopen:G,onmessage:j=>{pT(L,k.onmessage,j)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(j){},onclose:(i=k==null?void 0:k.onclose)!==null&&i!==void 0?i:function(j){}},H=this.webSocketFactory.create(v,yT(S),z);H.connect(),await M;let W=me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const j=this.apiClient.getProject(),ie=this.apiClient.getLocation();W=`projects/${j}/locations/${ie}/`+W}let Z={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ri.AUDIO]}:e.config.responseModalities=[ri.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],oe=[];for(const j of b)if(this.isCallableTool(j)){const ie=j;oe.push(await ie.tool())}else oe.push(j);oe.length>0&&(e.config.tools=oe);const he={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=Yy(this.apiClient,he):Z=Oy(this.apiClient,he),delete Z.config,H.send(JSON.stringify(Z)),new gT(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const hT={turnComplete:!0};class gT{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let i=[];try{i=vn(r.turns),e.isVertexAI()||(i=i.map(u=>ai(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:i,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let i=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?i=r.functionResponses:i=[r.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(fT)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},hT),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Zy(e)}:r={realtimeInput:Xy(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function yT(t){const e={};return t.forEach((r,i)=>{e[i]=r}),e}function vT(t){const e=new Headers;for(const[r,i]of Object.entries(t))e.append(r,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ef=10;function nf(t){var e,r,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const f of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Zt(f)){u=!0;break}if(!u)return!0;const c=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Zt(t){return"callTool"in t&&typeof t.callTool=="function"}function TT(t){var e,r,i;return(i=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(u=>Zt(u)))!==null&&i!==void 0?i:!1}function tf(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,u)=>{if(Zt(i))return;const c=i;c.functionDeclarations&&c.functionDeclarations.length>0&&r.push(u)}),r}function of(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET extends zn{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var i,u,c,f,m;const y=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!TT(r)||nf(r.config))return await this.generateContentInternal(y);const h=tf(r);if(h.length>0){const k=h.map(G=>`tools[${G}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,E;const S=vn(y.contents),I=(c=(u=(i=y.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&c!==void 0?c:ef;let M=0;for(;M<I&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,G=[];for(const L of(m=(f=r.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(Zt(L)){const H=await L.callTool(v.functionCalls);G.push(...H)}M++,E={role:"user",parts:G},y.contents=vn(y.contents),y.contents.push(k),y.contents.push(E),of(y.config)&&(S.push(k),S.push(E))}return of(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async r=>{var i,u,c,f,m;if(this.maybeMoveToResponseJsonSchem(r),nf(r.config)){const E=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(E)}const y=tf(r);if(y.length>0){const E=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(u=(i=r==null?void 0:r.config)===null||i===void 0?void 0:i.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(m=(f=r==null?void 0:r.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(i=>{var u;let c;const f=[];if(i!=null&&i.generatedImages)for(const y of i.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:f.push(y);let m;return c?m={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},m}),this.list=async r=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new _t(Hn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async r=>{const i={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(i.referenceImages=r.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async r=>{let i={numberOfImages:1,mode:"upscale"};r.config&&(i=Object.assign(Object.assign({},i),r.config));const u={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:i};return await this.upscaleImageInternal(u)},this.generateVideos=async r=>{var i,u,c,f,m,y;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=r.video)===null||i===void 0)&&i.uri&&(!((u=r.video)===null||u===void 0)&&u.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((f=(c=r.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(m=r.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,i,u;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const f=await Promise.all(c.map(async y=>Zt(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&Ff(e.config.tools)){const y=(u=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Vf(h),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(e){var r,i,u;const c=new Map;for(const f of(i=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&i!==void 0?i:[])if(Zt(f)){const m=f,y=await m.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,m)}}return c}async processAfcStream(e){var r,i,u;const c=(u=(i=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&u!==void 0?u:ef;let f=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(h,v,E){var S,I;return Xt(this,arguments,function*(){for(var M,k,G,L;m<c;){f&&(m++,f=!1);const Z=yield we(h.processParamsMaybeAddMcpUsage(E)),b=yield we(h.generateContentStreamInternal(Z)),oe=[],he=[];try{for(var z=!0,H=(k=void 0,Jo(b)),W;W=yield we(H.next()),M=W.done,!M;z=!0){L=W.value,z=!1;const j=L;if(yield yield we(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){he.push(j.candidates[0].content);for(const ie of(I=j.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(m<c&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const Te=yield we(v.get(ie.functionCall.name).callTool([ie.functionCall]));oe.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(j){k={error:j}}finally{try{!z&&!M&&(G=H.return)&&(yield we(G.call(H)))}finally{if(k)throw k.error}}if(oe.length>0){f=!0;const j=new Bo;j.candidates=[{content:{role:"user",parts:oe}}],yield yield we(j);const ie=[];ie.push(...he),ie.push({role:"user",parts:oe});const Te=vn(E.contents).concat(ie);E.contents=Te}else break}})})(this,y,e)}async generateContentInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qc(this.apiClient,e);return m=B("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Zc(v),S=new Bo;return Object.assign(S,E),S})}else{const h=Kc(this.apiClient,e);return m=B("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Xc(v),S=new Bo;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qc(this.apiClient,e);return m=B("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(E){return Xt(this,arguments,function*(){var S,I,M,k;try{for(var G=!0,L=Jo(E),z;z=yield we(L.next()),S=z.done,!S;G=!0){k=z.value,G=!1;const H=k,W=Zc(yield we(H.json()));W.sdkHttpResponse={headers:H.headers};const Z=new Bo;Object.assign(Z,W),yield yield we(Z)}}catch(H){I={error:H}}finally{try{!G&&!S&&(M=L.return)&&(yield we(M.call(L)))}finally{if(I)throw I.error}}})})}else{const h=Kc(this.apiClient,e);return m=B("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(E){return Xt(this,arguments,function*(){var S,I,M,k;try{for(var G=!0,L=Jo(E),z;z=yield we(L.next()),S=z.done,!S;G=!0){k=z.value,G=!1;const H=k,W=Xc(yield we(H.json()));W.sdkHttpResponse={headers:H.headers};const Z=new Bo;Object.assign(Z,W),yield yield we(Z)}}catch(H){I={error:H}}finally{try{!G&&!S&&(M=L.return)&&(yield we(M.call(L)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Nv(this.apiClient,e);return m=B("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Pv(v),S=new kc;return Object.assign(S,E),S})}else{const h=xv(this.apiClient,e);return m=B("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Rv(v),S=new kc;return Object.assign(S,E),S})}}async generateImagesInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=zv(this.apiClient,e);return m=B("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Jv(v),S=new Dc;return Object.assign(S,E),S})}else{const h=Hv(this.apiClient,e);return m=B("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Bv(v),S=new Dc;return Object.assign(S,E),S})}}async editImageInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=Cv(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Iv(y),v=new kh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=z0(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=B0(y),v=new Dh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=_0(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=C0(y),v=new Lh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=R0(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=P0(y),v=new Uh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=s0(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>gl(v))}else{const h=i0(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>hl(v))}}async listInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=h0(this.apiClient,e);return m=B("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=y0(v),S=new Lc;return Object.assign(S,E),S})}else{const h=m0(this.apiClient,e);return m=B("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=g0(v),S=new Lc;return Object.assign(S,E),S})}}async update(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=q0(this.apiClient,e);return m=B("{model}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>gl(v))}else{const h=G0(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>hl(v))}}async delete(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Tv(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Sv(v),S=new Uc;return Object.assign(S,E),S})}else{const h=vv(this.apiClient,e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Ev(v),S=new Uc;return Object.assign(S,E),S})}}async countTokens(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=hv(this.apiClient,e);return m=B("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=yv(v),S=new Fc;return Object.assign(S,E),S})}else{const h=mv(this.apiClient,e);return m=B("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=gv(v),S=new Fc;return Object.assign(S,E),S})}}async computeTokens(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=lv(this.apiClient,e);return c=B("{model}:computeTokens",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=uv(y),v=new Fh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qv(this.apiClient,e);return m=B("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const E=Yv(v),S=new ii;return Object.assign(S,E),S})}else{const h=Kv(this.apiClient,e);return m=B("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>{const E=Ov(v),S=new ii;return Object.assign(S,E),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST extends zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,i=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:i});return r._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(e){const r=e.operation,i=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:i});return r._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Ah(e);return m=B("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f}else{const h=wh(e);return m=B("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=vh(e);return c=B("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(t){const e={},r=l(t,["data"]);if(r!=null&&a(e,["data"],r),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function CT(t){const e={},r=l(t,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>kT(c))),a(e,["parts"],u)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function IT(t,e,r){const i={},u=l(e,["expireTime"]);r!==void 0&&u!=null&&a(r,["expireTime"],u);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&a(r,["newSessionExpireTime"],c);const f=l(e,["uses"]);r!==void 0&&f!=null&&a(r,["uses"],f);const m=l(e,["liveConnectConstraints"]);r!==void 0&&m!=null&&a(r,["bidiGenerateContentSetup"],MT(t,m));const y=l(e,["lockAdditionalFields"]);return r!==void 0&&y!=null&&a(r,["fieldMask"],y),i}function wT(t,e){const r={},i=l(e,["config"]);return i!=null&&a(r,["config"],IT(t,i,r)),r}function AT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function xT(t){const e={},r=l(t,["id"]);r!=null&&a(e,["id"],r);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NT(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(t,["enableWidget"]);return r!=null&&a(e,["enableWidget"],r),e}function RT(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(t,["timeRangeFilter"]);return r!=null&&a(e,["timeRangeFilter"],r),e}function PT(t,e){const r={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&a(e,["setup","generationConfig","speechConfig"],Nl(E));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&a(e,["setup","generationConfig","thinkingConfig"],S);const I=l(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],I);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&a(e,["setup","systemInstruction"],CT(Qe(M)));const k=l(t,["tools"]);if(e!==void 0&&k!=null){let b=jt(k);Array.isArray(b)&&(b=b.map(oe=>LT(bt(oe)))),a(e,["setup","tools"],b)}const G=l(t,["sessionResumption"]);e!==void 0&&G!=null&&a(e,["setup","sessionResumption"],DT(G));const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","inputAudioTranscription"],L);const z=l(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&a(e,["setup","outputAudioTranscription"],z);const H=l(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&a(e,["setup","realtimeInputConfig"],H);const W=l(t,["contextWindowCompression"]);e!==void 0&&W!=null&&a(e,["setup","contextWindowCompression"],W);const Z=l(t,["proactivity"]);return e!==void 0&&Z!=null&&a(e,["setup","proactivity"],Z),r}function MT(t,e){const r={},i=l(e,["model"]);i!=null&&a(r,["setup","model"],me(t,i));const u=l(e,["config"]);return u!=null&&a(r,["config"],PT(u,r)),r}function kT(t){const e={},r=l(t,["mediaResolution"]);r!=null&&a(e,["mediaResolution"],r);const i=l(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],AT(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],xT(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],_T(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const E=l(t,["thoughtSignature"]);E!=null&&a(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&a(e,["videoMetadata"],S),e}function DT(t){const e={},r=l(t,["handle"]);if(r!=null&&a(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function LT(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],NT(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],RT(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const u=Object.keys(i).map(c=>`${r}.${c}`);e.push(...u)}else e.push(r)}return e.join(",")}function FT(t,e){let r=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const u=t.fieldMask;if(r){const c=UT(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];u.length>0&&(m=u.map(h=>f.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),m.length>0&&y.push(...m),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?t.fieldMask=u.join(","):delete t.fieldMask;return t}class VT extends zn{constructor(e){super(),this.apiClient=e}async create(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=wT(this.apiClient,e);c=B("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const y=FT(m,e.config);return u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(t,e){const r={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&a(e,["displayName"],i),r}function qT(t){const e={},r=l(t,["config"]);return r!=null&&GT(r,e),e}function HT(t,e){const r={},i=l(t,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),r}function zT(t){const e={},r=l(t,["name"]);r!=null&&a(e,["_url","name"],r);const i=l(t,["config"]);return i!=null&&HT(i,e),e}function BT(t){const e={},r=l(t,["name"]);return r!=null&&a(e,["_url","name"],r),e}function JT(t,e){const r={},i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["customMetadata"],c)}const u=l(t,["chunkingConfig"]);return e!==void 0&&u!=null&&a(e,["chunkingConfig"],u),r}function WT(t){const e={},r=l(t,["name"]);r!=null&&a(e,["name"],r);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],OT(f)),e}function $T(t){const e={},r=l(t,["fileSearchStoreName"]);r!=null&&a(e,["_url","file_search_store_name"],r);const i=l(t,["fileName"]);i!=null&&a(e,["fileName"],i);const u=l(t,["config"]);return u!=null&&JT(u,e),e}function OT(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["parent"]);i!=null&&a(e,["parent"],i);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function YT(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),r}function KT(t){const e={},r=l(t,["config"]);return r!=null&&YT(r,e),e}function QT(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["fileSearchStores"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["fileSearchStores"],c)}return e}function XT(t,e){const r={},i=l(t,["mimeType"]);e!==void 0&&i!=null&&a(e,["mimeType"],i);const u=l(t,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const c=l(t,["customMetadata"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["customMetadata"],m)}const f=l(t,["chunkingConfig"]);return e!==void 0&&f!=null&&a(e,["chunkingConfig"],f),r}function ZT(t){const e={},r=l(t,["fileSearchStoreName"]);r!=null&&a(e,["_url","file_search_store_name"],r);const i=l(t,["config"]);return i!=null&&XT(i,e),e}function bT(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(t,e){const r={},i=l(t,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),r}function eE(t){const e={},r=l(t,["name"]);r!=null&&a(e,["_url","name"],r);const i=l(t,["config"]);return i!=null&&jT(i,e),e}function nE(t){const e={},r=l(t,["name"]);return r!=null&&a(e,["_url","name"],r),e}function tE(t,e){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),r}function oE(t){const e={},r=l(t,["parent"]);r!=null&&a(e,["_url","parent"],r);const i=l(t,["config"]);return i!=null&&tE(i,e),e}function rE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&a(e,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const u=l(t,["documents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iE extends zn{constructor(e){super(),this.apiClient=e,this.list=async r=>new _t(Hn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:r.parent,config:i.config}),await this.listInternal(r),r)}async get(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=nE(e);return c=B("{name}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,i;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=eE(e);u=B("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=oE(e);return c=B("{parent}/documents",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=rE(y),v=new Vh;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sE extends zn{constructor(e,r=new iE(e)){super(),this.apiClient=e,this.documents=r,this.list=async(i={})=>new _t(Hn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=qT(e);return c=B("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=BT(e);return c=B("{name}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,i;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=zT(e);u=B("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=KT(e);return c=B("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=QT(y),v=new Gh;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ZT(e);return c=B("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=bT(y),v=new qh;return Object.assign(v,h),v})}}async importFile(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=$T(e);return c=B("{file_search_store_name}:importFile",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const h=WT(y),v=new Cl;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(t,e){const r={},i=l(t,["name"]);return i!=null&&a(r,["_url","name"],i),r}function uE(t,e){const r={},i=l(t,["name"]);return i!=null&&a(r,["_url","name"],i),r}function aE(t,e,r){const i={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=l(t,["tunedModelDisplayName"]);if(e!==void 0&&u!=null&&a(e,["displayName"],u),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=l(t,["epochCount"]);e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","epochCount"],c);const f=l(t,["learningRateMultiplier"]);if(f!=null&&a(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=l(t,["batchSize"]);e!==void 0&&m!=null&&a(e,["tuningTask","hyperparameters","batchSize"],m);const y=l(t,["learningRate"]);if(e!==void 0&&y!=null&&a(e,["tuningTask","hyperparameters","learningRate"],y),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function dE(t,e,r){const i={};let u=l(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const I=l(t,["validationDataset"]);e!==void 0&&I!=null&&a(e,["supervisedTuningSpec"],rf(I))}else if(u==="PREFERENCE_TUNING"){const I=l(t,["validationDataset"]);e!==void 0&&I!=null&&a(e,["preferenceOptimizationSpec"],rf(I))}const c=l(t,["tunedModelDisplayName"]);e!==void 0&&c!=null&&a(e,["tunedModelDisplayName"],c);const f=l(t,["description"]);e!==void 0&&f!=null&&a(e,["description"],f);let m=l(r,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const I=l(t,["epochCount"]);e!==void 0&&I!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(m==="PREFERENCE_TUNING"){const I=l(t,["epochCount"]);e!==void 0&&I!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}let y=l(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const I=l(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(y==="PREFERENCE_TUNING"){const I=l(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}let h=l(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const I=l(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(h==="PREFERENCE_TUNING"){const I=l(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}let v=l(r,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const I=l(t,["adapterSize"]);e!==void 0&&I!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(v==="PREFERENCE_TUNING"){const I=l(t,["adapterSize"]);e!==void 0&&I!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=l(t,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const S=l(t,["beta"]);return e!==void 0&&S!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function cE(t,e){const r={},i=l(t,["baseModel"]);i!=null&&a(r,["baseModel"],i);const u=l(t,["preTunedModel"]);u!=null&&a(r,["preTunedModel"],u);const c=l(t,["trainingDataset"]);c!=null&&_E(c);const f=l(t,["config"]);return f!=null&&aE(f,r),r}function fE(t,e){const r={},i=l(t,["baseModel"]);i!=null&&a(r,["baseModel"],i);const u=l(t,["preTunedModel"]);u!=null&&a(r,["preTunedModel"],u);const c=l(t,["trainingDataset"]);c!=null&&CE(c,r,e);const f=l(t,["config"]);return f!=null&&dE(f,r,e),r}function pE(t,e){const r={},i=l(t,["name"]);return i!=null&&a(r,["_url","name"],i),r}function mE(t,e){const r={},i=l(t,["name"]);return i!=null&&a(r,["_url","name"],i),r}function hE(t,e,r){const i={},u=l(t,["pageSize"]);e!==void 0&&u!=null&&a(e,["_query","pageSize"],u);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&a(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&a(e,["_query","filter"],f),i}function gE(t,e,r){const i={},u=l(t,["pageSize"]);e!==void 0&&u!=null&&a(e,["_query","pageSize"],u);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&a(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&a(e,["_query","filter"],f),i}function yE(t,e){const r={},i=l(t,["config"]);return i!=null&&hE(i,r),r}function vE(t,e){const r={},i=l(t,["config"]);return i!=null&&gE(i,r),r}function TE(t,e){const r={},i=l(t,["sdkHttpResponse"]);i!=null&&a(r,["sdkHttpResponse"],i);const u=l(t,["nextPageToken"]);u!=null&&a(r,["nextPageToken"],u);const c=l(t,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Gf(m))),a(r,["tuningJobs"],f)}return r}function EE(t,e){const r={},i=l(t,["sdkHttpResponse"]);i!=null&&a(r,["sdkHttpResponse"],i);const u=l(t,["nextPageToken"]);u!=null&&a(r,["nextPageToken"],u);const c=l(t,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>vl(m))),a(r,["tuningJobs"],f)}return r}function SE(t,e){const r={},i=l(t,["name"]);i!=null&&a(r,["model"],i);const u=l(t,["name"]);return u!=null&&a(r,["endpoint"],u),r}function _E(t,e){const r={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=l(t,["examples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(r,["examples","examples"],u)}return r}function CE(t,e,r){const i={};let u=l(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=l(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Gf(t,e){const r={},i=l(t,["sdkHttpResponse"]);i!=null&&a(r,["sdkHttpResponse"],i);const u=l(t,["name"]);u!=null&&a(r,["name"],u);const c=l(t,["state"]);c!=null&&a(r,["state"],Tf(c));const f=l(t,["createTime"]);f!=null&&a(r,["createTime"],f);const m=l(t,["tuningTask","startTime"]);m!=null&&a(r,["startTime"],m);const y=l(t,["tuningTask","completeTime"]);y!=null&&a(r,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(r,["updateTime"],h);const v=l(t,["description"]);v!=null&&a(r,["description"],v);const E=l(t,["baseModel"]);E!=null&&a(r,["baseModel"],E);const S=l(t,["_self"]);return S!=null&&a(r,["tunedModel"],SE(S)),r}function vl(t,e){const r={},i=l(t,["sdkHttpResponse"]);i!=null&&a(r,["sdkHttpResponse"],i);const u=l(t,["name"]);u!=null&&a(r,["name"],u);const c=l(t,["state"]);c!=null&&a(r,["state"],Tf(c));const f=l(t,["createTime"]);f!=null&&a(r,["createTime"],f);const m=l(t,["startTime"]);m!=null&&a(r,["startTime"],m);const y=l(t,["endTime"]);y!=null&&a(r,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(r,["updateTime"],h);const v=l(t,["error"]);v!=null&&a(r,["error"],v);const E=l(t,["description"]);E!=null&&a(r,["description"],E);const S=l(t,["baseModel"]);S!=null&&a(r,["baseModel"],S);const I=l(t,["tunedModel"]);I!=null&&a(r,["tunedModel"],I);const M=l(t,["preTunedModel"]);M!=null&&a(r,["preTunedModel"],M);const k=l(t,["supervisedTuningSpec"]);k!=null&&a(r,["supervisedTuningSpec"],k);const G=l(t,["preferenceOptimizationSpec"]);G!=null&&a(r,["preferenceOptimizationSpec"],G);const L=l(t,["tuningDataStats"]);L!=null&&a(r,["tuningDataStats"],L);const z=l(t,["encryptionSpec"]);z!=null&&a(r,["encryptionSpec"],z);const H=l(t,["partnerModelTuningSpec"]);H!=null&&a(r,["partnerModelTuningSpec"],H);const W=l(t,["customBaseModel"]);W!=null&&a(r,["customBaseModel"],W);const Z=l(t,["experiment"]);Z!=null&&a(r,["experiment"],Z);const b=l(t,["labels"]);b!=null&&a(r,["labels"],b);const oe=l(t,["outputUri"]);oe!=null&&a(r,["outputUri"],oe);const he=l(t,["pipelineJob"]);he!=null&&a(r,["pipelineJob"],he);const j=l(t,["serviceAccount"]);j!=null&&a(r,["serviceAccount"],j);const ie=l(t,["tunedModelDisplayName"]);ie!=null&&a(r,["tunedModelDisplayName"],ie);const Te=l(t,["veoTuningSpec"]);return Te!=null&&a(r,["veoTuningSpec"],Te),r}function IE(t,e){const r={},i=l(t,["sdkHttpResponse"]);i!=null&&a(r,["sdkHttpResponse"],i);const u=l(t,["name"]);u!=null&&a(r,["name"],u);const c=l(t,["metadata"]);c!=null&&a(r,["metadata"],c);const f=l(t,["done"]);f!=null&&a(r,["done"],f);const m=l(t,["error"]);return m!=null&&a(r,["error"],m),r}function rf(t,e){const r={},i=l(t,["gcsUri"]);i!=null&&a(r,["validationDatasetUri"],i);const u=l(t,["vertexDatasetResource"]);return u!=null&&a(r,["validationDatasetUri"],u),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends zn{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new _t(Hn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(r),r),this.tune=async r=>{var i;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const u={tunedModelName:r.baseModel};!((i=r.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(u.checkpointId=r.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},r),{preTunedModel:u});return c.baseModel=void 0,await this.tuneInternal(c)}else{const u=Object.assign({},r);return await this.tuneInternal(u)}else{const u=Object.assign({},r),c=await this.tuneMldevInternal(u);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:cl.JOB_STATE_QUEUED}}}}async getInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=mE(e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>vl(v))}else{const h=pE(e);return m=B("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Gf(v))}}async listInternal(e){var r,i,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=vE(e);return m=B("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=EE(v),S=new Vc;return Object.assign(S,E),S})}else{const h=yE(e);return m=B("tunedModels",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=TE(v),S=new Vc;return Object.assign(S,E),S})}}async cancel(e){var r,i,u,c;let f="",m={};if(this.apiClient.isVertexAI()){const y=uE(e);f=B("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const y=lE(e);f=B("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=fE(e,e);return c=B("tuningJobs",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>vl(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=cE(e);return c=B("tunedModels",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>IE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AE{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xE=1024*1024*8,NE=3,RE=1e3,PE=2,li="x-goog-upload-status";async function ME(t,e,r){var i;const u=await qf(t,e,r),c=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[li])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function kE(t,e,r){var i;const u=await qf(t,e,r),c=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[li])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=pf(c),m=new Il;return Object.assign(m,f),m}async function qf(t,e,r){var i,u;let c=0,f=0,m=new fl(new Response),y="upload";for(c=t.size;f<c;){const h=Math.min(xE,c-f),v=t.slice(f,f+h);f+h>=c&&(y+=", finalize");let E=0,S=RE;for(;E<NE&&(m=await r.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((i=m==null?void 0:m.headers)===null||i===void 0)&&i[li]));)E++,await LE(S),S=S*PE;if(f+=h,((u=m==null?void 0:m.headers)===null||u===void 0?void 0:u[li])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function DE(t){return{size:t.size,type:t.type}}function LE(t){return new Promise(e=>setTimeout(e,t))}class UE{async upload(e,r,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ME(e,r,i)}async uploadToFileSearchStore(e,r,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kE(e,r,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE{create(e,r,i){return new VE(e,r,i)}}class VE{constructor(e,r,i){this.url=e,this.headers=r,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sf="x-goog-api-key";class GE{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(sf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE="gl-node/";class Pl{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const i=gh(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const u=new GE(this.apiKey);this.apiClient=new nT({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qE+"web",uploader:new UE,downloader:new AE}),this.models=new ET(this.apiClient),this.live=new mT(this.apiClient,u,new FE),this.batches=new $g(this.apiClient),this.chats=new Ay(this.models,this.apiClient),this.caches=new Cy(this.apiClient),this.files=new Fy(this.apiClient),this.operations=new ST(this.apiClient),this.authTokens=new VT(this.apiClient),this.tunings=new wE(this.apiClient),this.fileSearchStores=new sE(this.apiClient)}}const HE=t=>t.replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,""),zE=t=>{const e=t.match(/^data:(image\/[a-zA-Z]+);base64,/);return e?e[1]:"image/jpeg"},BE=async t=>{const e=new Pl({apiKey:"AIzaSyC_4ZA_AFkun7YXRiv9e7aAGy-J2KOYkhQ"}),r=zE(t),i=HE(t),u="Analyze this image of a clothing item. Identify the specific type (e.g., Hoodie, Chinos, Blazer), the general category, color, appropriate seasons, style tags (e.g., Casual, Formal, Streetwear, Vintage), and a brief description. Return JSON.";try{const f=(await e.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:r,data:i}},{text:u}]},config:{responseMimeType:"application/json",responseSchema:{type:De.OBJECT,properties:{type:{type:De.STRING,description:"Specific item type, e.g., 'Graphic Hoodie'"},category:{type:De.STRING,enum:Object.values(Sl),description:"General category"},color:{type:De.STRING,description:"Main color of the item"},seasons:{type:De.ARRAY,items:{type:De.STRING,enum:Object.values(ff)},description:"Suitable seasons"},tags:{type:De.ARRAY,items:{type:De.STRING},description:"Style tags like Casual, Business, etc."},description:{type:De.STRING,description:"Short description of the item"}},required:["type","category","color","seasons","tags","description"]}}})).text;if(!f)throw new Error("No response from AI");return JSON.parse(f)}catch(c){throw console.error("Analysis failed:",c),new Error("Failed to analyze clothing item.")}},JE=async(t,e)=>{const r=new Pl({apiKey:"AIzaSyC_4ZA_AFkun7YXRiv9e7aAGy-J2KOYkhQ"}),i=t.map(c=>({id:c.id,type:c.type,color:c.color,tags:c.tags,category:c.category})),u=`
    I have a digital wardrobe with the following items:
    ${JSON.stringify(i)}

    User Request: "${e}"

    Please create the BEST possible outfit from these items for the request.
    If the request is vague (e.g., "Christmas"), pick festive colors or styles.
    If the wardrobe lacks perfect items, do your best with what is available.
    
    Return a JSON object with:
    - name: A creative name for the outfit.
    - itemIds: An array of the IDs of the selected items.
    - reasoning: A short explanation of why this outfit works for the occasion.
  `;try{const f=(await r.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{responseMimeType:"application/json",responseSchema:{type:De.OBJECT,properties:{name:{type:De.STRING},itemIds:{type:De.ARRAY,items:{type:De.STRING}},reasoning:{type:De.STRING}},required:["name","itemIds","reasoning"]}}})).text;if(!f)throw new Error("No response from AI");return JSON.parse(f)}catch(c){throw console.error("Outfit generation failed:",c),new Error("Failed to generate outfit.")}},WE=async(t,e,r)=>{const i=new Pl({apiKey:"AIzaSyC_4ZA_AFkun7YXRiv9e7aAGy-J2KOYkhQ"}),u=`You are a helpful and chic fashion stylist AI. 
    The user has the following items in their wardrobe: ${e.map(m=>`${m.color} ${m.type} (${m.id})`).join(", ")}.
    Always reference their specific items if possible. Be concise and encouraging.`;return(await i.chats.create({model:"gemini-2.5-flash",history:t,config:{systemInstruction:u}}).sendMessage({message:r})).text},$E=t=>new Promise((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=u=>{var f;const c=new Image;c.src=(f=u.target)==null?void 0:f.result,c.onload=()=>{const m=document.createElement("canvas"),y=m.getContext("2d");if(!y){r(new Error("Could not get canvas context"));return}const h=1024,v=1024;let E=c.width,S=c.height;E>S?E>h&&(S*=h/E,E=h):S>v&&(E*=v/S,S=v),m.width=E,m.height=S,y.drawImage(c,0,0,E,S);const I=m.toDataURL("image/jpeg",.7);e(I)},c.onerror=m=>r(m)},i.onerror=u=>r(u)}),OE=({onSave:t,onGoToWardrobe:e})=>{const[r,i]=ge.useState(null),[u,c]=ge.useState(!1),[f,m]=ge.useState(null),[y,h]=ge.useState(null),[v,E]=ge.useState(!1),S=ge.useRef(null),I=async L=>{var H;const z=(H=L.target.files)==null?void 0:H[0];if(z)try{c(!0),h(null);const W=await $E(z);i(W),M(W)}catch{h("Failed to process image. Please try another photo."),c(!1)}},M=async L=>{var z,H,W;c(!0),h(null),m(null),E(!1);try{const Z=await BE(L);m(Z)}catch(Z){console.error(Z);let b="Could not analyze image.";(z=Z.message)!=null&&z.includes("403")||(H=Z.message)!=null&&H.includes("API Key")?b="API Key Invalid or Missing. Please check your configuration.":(W=Z.message)!=null&&W.includes("Failed to fetch")?b="Network error. Please check your internet connection.":b=`Analysis failed: ${Z.message||"Unknown error"}`,h(b)}finally{c(!1)}},k=()=>{i(null),m(null),h(null),E(!1),S.current&&(S.current.value="")},G=()=>{if(!(!f||!r))try{const L={id:crypto.randomUUID(),imageUrl:r,type:f.type,category:f.category,color:f.color,season:f.seasons,tags:f.tags,description:f.description,createdAt:Date.now()};t(L),E(!0)}catch{h("Storage full! Please delete some old items to make space.")}};return v?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center animate-fade-in",children:[A.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 text-green-400",children:A.jsx(eh,{size:40})}),A.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Added to Closet!"}),A.jsxs("p",{className:"text-zinc-400 mb-8",children:["Your ",f==null?void 0:f.color," ",f==null?void 0:f.type," is now in your digital wardrobe."]}),A.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[A.jsxs("button",{onClick:k,className:"w-full py-4 rounded-xl font-semibold bg-zinc-800 text-white hover:bg-zinc-700 transition flex items-center justify-center gap-2",children:[A.jsx(ih,{size:18}),"Scan Another Piece"]}),A.jsxs("button",{onClick:e,className:"w-full py-4 rounded-xl font-semibold bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-900/20 transition flex items-center justify-center gap-2",children:["Go to Closet",A.jsx(Zm,{size:18})]})]})]}):A.jsxs("div",{className:"h-full flex flex-col p-6 overflow-y-auto no-scrollbar pb-24",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"Scan New Item"}),r?A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsxs("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden shadow-2xl border border-zinc-800",children:[A.jsx("img",{src:r,alt:"Scanned item",className:"w-full h-full object-cover"}),u&&A.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[A.jsx(oi,{className:"animate-spin text-indigo-500 mb-4",size:48}),A.jsx("p",{className:"text-lg font-bold text-white mb-1",children:"Analyzing..."}),A.jsx("p",{className:"text-xs text-zinc-400 animate-pulse",children:"Identifying fabric & style"})]}),!u&&!f&&A.jsx("button",{onClick:k,className:"absolute top-4 right-4 p-2 bg-black/50 backdrop-blur rounded-full text-white hover:bg-red-500/80 transition",children:A.jsx(El,{size:20})})]}),y&&A.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex flex-col gap-2",children:[A.jsxs("div",{className:"flex items-start gap-3 text-red-400",children:[A.jsx(Xm,{size:20,className:"shrink-0 mt-0.5"}),A.jsx("p",{className:"text-sm leading-relaxed",children:y})]}),A.jsx("button",{onClick:k,className:"w-full py-2 bg-red-500/20 rounded-lg text-red-200 text-sm font-semibold mt-2 hover:bg-red-500/30 transition",children:"Try Again"})]}),f&&A.jsxs("div",{className:"flex flex-col gap-4 animate-fade-in-up",children:[A.jsxs("div",{className:"bg-surface p-5 rounded-2xl border border-zinc-800 shadow-lg",children:[A.jsx("div",{className:"flex justify-between items-start mb-2",children:A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white capitalize",children:[f.color," ",f.type]}),A.jsx("span",{className:"text-xs text-zinc-400 uppercase tracking-wider",children:f.category})]})}),A.jsx("p",{className:"text-zinc-400 text-sm mb-4 leading-relaxed",children:f.description}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:f.seasons.map(L=>A.jsx("span",{className:"px-2 py-1 bg-zinc-800 rounded-md text-xs text-zinc-300 border border-zinc-700",children:L},L))}),A.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map(L=>A.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-500/10 text-indigo-300 rounded-md text-xs border border-indigo-500/20",children:[A.jsx(cf,{size:10})," ",L]},L))})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:k,className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-zinc-800 text-zinc-300 hover:bg-zinc-700 transition",children:"Discard"}),A.jsxs("button",{onClick:G,className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-900/20 flex items-center justify-center gap-2 transition",children:[A.jsx(sh,{size:18}),"Add to Wardrobe"]})]})]})]}):A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px] border-2 border-dashed border-zinc-700 rounded-3xl bg-surface/50 relative overflow-hidden group hover:border-indigo-500/50 transition-colors",children:[A.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 z-10 cursor-pointer",onChange:I,ref:S}),A.jsxs("div",{className:"flex flex-col items-center text-zinc-400 group-hover:text-indigo-400 transition-colors",children:[A.jsx("div",{className:"p-4 rounded-full bg-zinc-800 mb-4 group-hover:scale-110 transition-transform shadow-xl",children:A.jsx(af,{size:48})}),A.jsx("p",{className:"font-medium",children:"Take Photo or Upload"}),A.jsx("p",{className:"text-xs mt-2 opacity-50",children:"Auto-detects category & style"})]})]})]})},YE=({wardrobe:t,savedOutfits:e,onSaveOutfit:r,onDeleteOutfit:i})=>{const[u,c]=ge.useState(""),[f,m]=ge.useState(!1),[y,h]=ge.useState(null),v=async()=>{if(!(!u.trim()||t.length===0)){m(!0),h(null);try{const S=await JE(t,u),I={id:crypto.randomUUID(),name:S.name,itemIds:S.itemIds,occasion:u,reasoning:S.reasoning,createdAt:Date.now()};h(I)}catch{alert("Failed to generate outfit. Please try again.")}finally{m(!1)}}},E=S=>S.map(I=>t.find(M=>M.id===I)).filter(Boolean);return A.jsxs("div",{className:"h-full flex flex-col p-6 overflow-y-auto no-scrollbar pb-24",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"AI Stylist"}),A.jsxs("div",{className:"bg-surface p-4 rounded-2xl border border-zinc-800 mb-8 shadow-lg",children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"What's the occasion?"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:u,onChange:S=>c(S.target.value),placeholder:"e.g. Christmas party, Job interview...",className:"flex-1 bg-zinc-900 border border-zinc-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500 transition-colors",onKeyDown:S=>S.key==="Enter"&&v()}),A.jsx("button",{onClick:v,disabled:f||!u.trim()||t.length===0,className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white p-3 rounded-xl transition-all",children:f?A.jsx(oi,{className:"animate-spin"}):A.jsx(df,{})})]}),t.length===0&&A.jsx("p",{className:"text-xs text-red-400 mt-2",children:"Add clothes to your wardrobe first!"})]}),y&&A.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recommended Look"}),A.jsx("span",{className:"text-xs bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded-full",children:"New"})]}),A.jsxs("div",{className:"bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-5 border border-zinc-700",children:[A.jsx("h4",{className:"text-xl font-bold text-indigo-100 mb-1",children:y.name}),A.jsxs("p",{className:"text-sm text-zinc-400 italic mb-4",children:['"',y.reasoning,'"']}),A.jsx("div",{className:"flex -space-x-4 mb-4 overflow-x-auto py-2 px-1",children:E(y.itemIds).map((S,I)=>A.jsx("div",{className:"relative w-20 h-24 flex-shrink-0 rounded-xl overflow-hidden border-2 border-zinc-800 shadow-xl transform hover:-translate-y-1 transition-transform",style:{zIndex:10-I},children:A.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover",alt:S.type})},I))}),A.jsx("button",{onClick:()=>{r(y),h(null),c("")},className:"w-full py-2 bg-indigo-600/20 text-indigo-300 hover:bg-indigo-600/30 border border-indigo-600/50 rounded-lg text-sm font-semibold transition",children:"Save to Collection"})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 flex items-center gap-2",children:[A.jsx(jm,{size:18})," Saved Looks"]}),e.length===0?A.jsx("p",{className:"text-zinc-600 text-sm text-center py-8",children:"No saved outfits yet."}):e.map(S=>{const I=E(S.itemIds);return A.jsxs("div",{className:"bg-surface rounded-xl p-4 border border-zinc-800 flex flex-col gap-3",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-zinc-200",children:S.name}),A.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:S.occasion})]}),A.jsxs("button",{onClick:()=>i(S.id),className:"text-zinc-600 hover:text-red-400 transition",children:[A.jsx(oi,{className:"rotate-45",size:16})," "]})]}),A.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map(M=>A.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-zinc-900",children:A.jsx("img",{src:M.imageUrl,className:"w-full h-full object-cover opacity-80",alt:M.type})},M.id))})]},S.id)})]})]})},KE=({wardrobe:t})=>{const[e,r]=ge.useState([{id:"1",role:"model",text:"Hi! I'm your personal stylist. Ask me anything about your wardrobe or style advice!"}]),[i,u]=ge.useState(""),[c,f]=ge.useState(!1),m=ge.useRef(null),y=()=>{var v;(v=m.current)==null||v.scrollIntoView({behavior:"smooth"})};ge.useEffect(()=>{y()},[e]);const h=async()=>{if(!i.trim()||c)return;const v={id:crypto.randomUUID(),role:"user",text:i};r(E=>[...E,v]),u(""),f(!0);try{const E=e.map(M=>({role:M.role,parts:[{text:M.text}]})),S=await WE(E,t,v.text),I={id:crypto.randomUUID(),role:"model",text:S};r(M=>[...M,I])}catch{r(S=>[...S,{id:crypto.randomUUID(),role:"model",text:"Sorry, I'm having trouble connecting to the fashion server right now."}])}finally{f(!1)}};return A.jsxs("div",{className:"h-full flex flex-col bg-background pb-20",children:[A.jsx("div",{className:"p-4 border-b border-zinc-800 bg-surface/50 backdrop-blur-md sticky top-0 z-10",children:A.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[A.jsx(bm,{className:"text-indigo-500"})," Style Chat"]})}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:[e.map(v=>A.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:A.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl text-sm leading-relaxed ${v.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-zinc-800 text-zinc-200 rounded-bl-none border border-zinc-700"}`,children:v.text})},v.id)),c&&A.jsx("div",{className:"flex justify-start",children:A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-2xl rounded-bl-none border border-zinc-700 flex items-center gap-2",children:[A.jsx(oi,{className:"animate-spin text-indigo-400",size:16}),A.jsx("span",{className:"text-xs text-zinc-400",children:"Thinking..."})]})}),A.jsx("div",{ref:m})]}),A.jsx("div",{className:"p-4 bg-surface border-t border-zinc-800",children:A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900 p-2 rounded-full border border-zinc-800 focus-within:border-indigo-500 transition-colors",children:[A.jsx("input",{type:"text",value:i,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&h(),placeholder:"Ask about your clothes...",className:"flex-1 bg-transparent px-4 py-2 text-white focus:outline-none text-sm",disabled:c}),A.jsx("button",{onClick:h,disabled:!i.trim()||c,className:"p-3 bg-indigo-600 rounded-full text-white disabled:opacity-50 hover:bg-indigo-500 transition",children:A.jsx(uh,{size:18})})]})})]})},lf=[];function QE(){const[t,e]=ge.useState("wardrobe"),[r,i]=ge.useState(null),[u,c]=ge.useState(!1),[f,m]=ge.useState(!1),[y,h]=ge.useState(()=>{try{const L=localStorage.getItem("wardrobe_items");return L?JSON.parse(L):lf}catch(L){return console.error("Failed to load wardrobe",L),lf}}),[v,E]=ge.useState(()=>{try{const L=localStorage.getItem("saved_outfits");return L?JSON.parse(L):[]}catch{return[]}});ge.useEffect(()=>{try{localStorage.setItem("wardrobe_items",JSON.stringify(y))}catch(L){console.error("Storage quota exceeded",L),alert("Warning: Local storage is full. Some items may not save.")}},[y]),ge.useEffect(()=>{localStorage.setItem("saved_outfits",JSON.stringify(v))},[v]),ge.useEffect(()=>{const L=W=>{W.preventDefault(),i(W)};window.addEventListener("beforeinstallprompt",L);const z=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;m(z);const H=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return z&&!H&&setTimeout(()=>{},2e3),()=>{window.removeEventListener("beforeinstallprompt",L)}},[]);const S=()=>{r?(r.prompt(),r.userChoice.then(L=>{L.outcome==="accepted"&&console.log("User accepted the install prompt"),i(null)})):f&&c(!0)},I=L=>{h(z=>[L,...z])},M=L=>{confirm("Are you sure you want to remove this item?")&&h(z=>z.filter(H=>H.id!==L))},k=L=>{E(z=>[L,...z])},G=L=>{E(z=>z.filter(H=>H.id!==L))};return A.jsx("div",{className:"bg-background min-h-screen w-full text-zinc-100 font-sans selection:bg-indigo-500/30",children:A.jsxs("main",{className:"h-screen w-full max-w-md mx-auto relative bg-background shadow-2xl overflow-hidden flex flex-col",children:[(r||f&&!window.matchMedia("(display-mode: standalone)").matches)&&A.jsx("div",{className:"absolute top-0 right-0 p-4 z-50",children:A.jsx("button",{onClick:S,className:"bg-indigo-600/90 backdrop-blur text-white p-2 rounded-full shadow-lg hover:bg-indigo-500 transition-all",title:"Install App",children:A.jsx(nh,{size:20})})}),A.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[t==="wardrobe"&&A.jsx(fh,{items:y,onDelete:M}),t==="scan"&&A.jsx(OE,{onSave:I,onGoToWardrobe:()=>e("wardrobe")}),t==="outfits"&&A.jsx(YE,{wardrobe:y,savedOutfits:v,onSaveOutfit:k,onDeleteOutfit:G}),t==="chat"&&A.jsx(KE,{wardrobe:y})]}),A.jsx(ch,{currentView:t,setView:e}),u&&A.jsx("div",{className:"absolute inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 animate-fade-in",children:A.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-3xl p-6 w-full max-w-sm relative shadow-2xl animate-fade-in-up mb-20 sm:mb-0",children:[A.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-zinc-500 hover:text-white",children:A.jsx(El,{size:24})}),A.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Install StyleSync"}),A.jsx("p",{className:"text-zinc-400 mb-6",children:'To install this app on your iPhone, tap the Share button and select "Add to Home Screen".'}),A.jsxs("div",{className:"flex items-center gap-4 text-zinc-300 mb-4 p-3 bg-zinc-800 rounded-xl",children:[A.jsx(ah,{className:"text-blue-500"}),A.jsx("span",{children:"1. Tap Share"})]}),A.jsxs("div",{className:"flex items-center gap-4 text-zinc-300 p-3 bg-zinc-800 rounded-xl",children:[A.jsx(rh,{className:"text-zinc-200"}),A.jsx("span",{children:"2. Add to Home Screen"})]}),A.jsx("div",{className:"mt-6 text-center text-xs text-zinc-500",children:"This will give you the full app experience."})]})})]})})}const Hf=document.getElementById("root");if(!Hf)throw new Error("Could not find root element to mount to");const XE=Ym.createRoot(Hf);XE.render(A.jsx(Hm.StrictMode,{children:A.jsx(QE,{})}));
